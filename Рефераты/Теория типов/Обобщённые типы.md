
Ð’ [Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ¹ ÑÑ‚Ð°Ñ‚ÑŒÐµ](https://habr.com/ru/articles/758542/) Ñ€Ð°ÑÐºÑ€Ñ‹Ð²Ð°Ð»Ð¸ÑÑŒ Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¾ÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð¿Ð¾Ð½ÑÑ‚Ð¸Ñ Ñ‚ÐµÐ¾Ñ€Ð¸Ð¸ Ñ‚Ð¸Ð¿Ð¾Ð². Ð’ ÑÑ‚Ð¾Ñ‚ Ñ€Ð°Ð· Ð¼Ñ‹ Ñ€Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¿Ð¾ÑÐ²Ð»ÐµÐ½Ð¸Ñ Ñ‚Ð°ÐºÐ¾Ð¹ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ð¸, ÐºÐ°Ðº Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ (*generics*), Ñ€Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ Ð¸Ñ… ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ Ð¸ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ð² Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸.

## ÐžÐ³Ð»Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ

Ð’ ÑÑ‚Ð°Ñ‚ÑŒÐµ Ð¾ÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ‚ÐµÐ¼Ð° Ñ€Ð°ÑÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ñ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… Ñ‚Ð¾Ñ‡ÐµÐº Ð·Ñ€ÐµÐ½Ð¸Ñ:
- [[#Ðš Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ð¼ Ñ‚Ð¸Ð¿Ð°Ð¼|ÐžÐ±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹]]
- [[#ÐšÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð²|ÐšÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð²]]
- [[#ÐŸÐ¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹|ÐŸÐ¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹]]
- [[#Ð¢Ð¸Ð¿Ñ‹ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð³Ð¾ Ñ€Ð¾Ð´Ð°|Ð¢Ð¸Ð¿Ñ‹ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð³Ð¾ Ñ€Ð¾Ð´Ð°]]
- [[#ÐšÐ»Ð°ÑÑÑ‹ Ñ‚Ð¸Ð¿Ð¾Ð²|ÐšÐ»Ð°ÑÑÑ‹ Ñ‚Ð¸Ð¿Ð¾Ð²]]
- [[#Ð¢Ð¸Ð¿Ñ‹-ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹|Ð¢Ð¸Ð¿Ñ‹-ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹]]
- [[#ÐŸÐ¾Ð´ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸ Ñ‚Ð¸Ð¿Ð¾Ð² (Ð°Ð½Ð¾Ð½Ñ)|ÐŸÐ¾Ð´ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸ Ñ‚Ð¸Ð¿Ð¾Ð² (Ð°Ð½Ð¾Ð½Ñ)]]

## ÐŸÑ€ÐµÐ´Ð¸ÑÐ»Ð¾Ð²Ð¸Ðµ

ÐžÐ´Ð½Ð°Ð¶Ð´Ñ‹ Ñ Ð´ÐµÐ»Ð°Ð» Ð´Ð¾ÐºÐ»Ð°Ð´ Ð´Ð»Ñ Ð½Ð°ÑˆÐ¸Ñ… ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¾Ð² Ð¾ Ñ‚ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ñ€ÐµÑˆÐµÐ½Ð¸ÑÑ… Ð½Ð° Ð¾Ð´Ð½Ð¾Ð¼ Ð¸Ð· Ð½Ð°ÑˆÐ¸Ñ… Scala-Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð². Ð¢Ð°Ð¼ Ñ€Ð°ÑÑÐºÐ°Ð·Ñ‹Ð²Ð°Ð»Ð¾ÑÑŒ Ð¿Ñ€Ð¾ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¼Ð¾Ð½Ð°Ð´Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ñ‚Ñ€Ð°Ð½ÑÑ„Ð¾Ñ€Ð¼ÐµÑ€Ð¾Ð², Tagless Final Ð¸ Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ… Ð¤ÐŸ-ÑˆÐ½Ñ‹Ñ… Ð²ÐºÑƒÑÐ½Ð¾ÑÑ‚ÐµÐ¹. ÐŸÐ¾ÑÐ»Ðµ Ð´Ð¾ÐºÐ»Ð°Ð´Ð° Ð¿Ð¾ Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾Ð¹ ÑÐ²ÑÐ·Ð¸ Ñ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð» Ñ€Ð°Ð·Ð½Ñ‹Ðµ Ð·Ð°Ð¼ÐµÑ‡Ð°Ð½Ð¸Ñ, Ð² Ñ‚Ð¾Ð¼ Ñ‡Ð¸ÑÐ»Ðµ Ð¸ Ð²Ð¾Ð¿Ñ€Ð¾Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð·Ð²ÑƒÑ‡Ð°Ð» Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð½Ð¾ Ñ‚Ð°Ðº: "Ð° Ð·Ð°Ñ‡ÐµÐ¼ Ð²Ð¾Ð¾Ð±Ñ‰Ðµ Ð½ÑƒÐ¶Ð½Ñ‹ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹?". Ð’ Ñ‚Ð¾Ñ‚ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ Ð²Ð¾Ð¿Ñ€Ð¾Ñ Ð¿Ð¾ÐºÐ°Ð·Ð°Ð»ÑÑ Ð½ÐµÐ¾Ð¶Ð¸Ð´Ð°Ð½Ð½Ñ‹Ð¼, Ñ Ð¿Ð¾Ð¾Ð±ÐµÑ‰Ð°Ð», Ñ‡Ñ‚Ð¾ Ð² ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ Ñ€Ð°Ð· Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ñ€Ð°ÑÐºÑ€Ð¾ÑŽ ÑÑ‚Ñƒ Ñ‚ÐµÐ¼Ñƒ.

Ð¢ÐµÐ¼ Ð½Ðµ Ð¼ÐµÐ½ÐµÐµ, Ð±Ñ‹ÑÑ‚Ñ€Ð¾ Ð½Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ð»Ð¾ÑÑŒ Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ð²ÐµÑ‚ Ð½Ð° Ð¿Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¹ Ð²Ð¾Ð¿Ñ€Ð¾Ñ. Ð¡Ð¾Ð±ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ñ… Ð·Ð½Ð°Ð½Ð¸Ð¹ Ð½Ðµ Ñ…Ð²Ð°Ñ‚Ð°Ð»Ð¾, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¾Ð±ÑŠÑÑÐ½Ð¸Ñ‚ÑŒ ÑÑ‚Ñƒ Ñ‚ÐµÐ¼Ñƒ ÑÐ°Ð¼Ð¾Ð¼Ñƒ ÑÐµÐ±Ðµ. Ð¢Ð¾, Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ð´ÑÐºÐ°Ð·Ñ‹Ð²Ð°Ð» Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ð±Ñ‹ Ð¸ ÑƒÐ´Ð¾Ð²Ð»ÐµÑ‚Ð²Ð¾Ñ€Ð¸Ð»Ð¾ Ð»ÑŽÐ±Ð¾Ð¿Ñ‹Ñ‚ÑÑ‚Ð²Ð¾ ÑÐ¿Ñ€Ð¾ÑÐ¸Ð²ÑˆÐµÐ³Ð¾, Ð½Ð¾ Ð½Ðµ ÑƒÐ±ÐµÐ¶Ð´Ð°Ð»Ð¾ Ð¼ÐµÐ½Ñ. ÐžÐ±Ñ‹Ñ‡Ð½Ð¾ Ñ‚Ð°Ð¼ Ð³Ð¾Ð²Ð¾Ñ€ÑÑ‚ÑÑ Ð¾Ð±Ñ‰ÐµÐµ ÑÐ»Ð¾Ð²Ð°, Ð¼Ð¾Ð», Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð´Ð°ÑŽÑ‚ "Ñ‚Ð¸Ð¿Ð¾Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ", "Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸ÑŽ" (Ð½Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ ÑÐ²Ð½Ð¾Ðµ Ð¿Ñ€Ð¸Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ðº Ñ‚Ð¸Ð¿Ð°Ð¼-Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ Ð¸ Ñ‚.Ð¿.), "Ð¿ÐµÑ€ÐµÐ¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¼ÐµÐ¾ÑÑ‚ÑŒ" Ð¸ Ð¿Ñ€Ð¾Ñ‡Ð°Ñ Ð±ÐµÑÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ "Ð²Ð¾Ð´Ð°". Ð—Ð°Ñ‡Ð°ÑÑ‚ÑƒÑŽ, Ð´Ð°Ð»ÐµÐµ Ð¿Ñ€Ð¸Ð²Ð¾Ð´Ð¸Ñ‚ÑÑ Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ Ñ€Ð°ÑÐºÑ€Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ Ð¿Ñ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð° Ñ‚Ð¸Ð¿Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… (Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ…) *ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¹* Ð½Ð°Ð´ Ð½ÐµÑ‚Ð¸Ð¿Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¼Ð¸...

ÐžÐ´Ð½Ð°ÐºÐ¾, Ð²Ð¾ Ð¼Ð½Ð¾Ð³Ð¸Ñ… ÑÐ·Ñ‹ÐºÐ°Ñ… Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ ÑÐ¾ ÑÑ‚Ñ€Ð¾Ð³Ð¾Ð¹ Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸ÐµÐ¹ ÑƒÐ¶Ðµ ÐµÑÑ‚ÑŒ Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸ ÑÐ¾ ÑÐ²Ð¾Ð¸Ð¼Ð¸ Ð¼ÐµÑ‚Ð¾Ð´Ð°Ð¼Ð¸, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð¼Ð°ÑÑÐ¸Ð²Ñ‹. Ð’Ñ‹Ð³Ð»ÑÐ´Ð¸Ñ‚ Ñ‚Ð°Ðº, Ñ‡Ñ‚Ð¾ Ð±ÑƒÐ´Ñ‚Ð¾ Ð±Ñ‹ Ð¸ Ð½ÐµÑ‚ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸ Ð´Ð°Ð²Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸ÑÑ‚Ð°Ð¼ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹?

ÐÐ° ÑÐ°Ð¼Ð¾Ð¼ Ð´ÐµÐ»Ðµ, Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ð¼Ð¸ Ð±Ñ‹Ð²Ð°ÑŽÑ‚, ÐºÐ¾Ð½ÐµÑ‡Ð½Ð¾ Ð¶Ðµ, Ð½Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ ÑÐ¿Ð¸ÑÐºÐ¸ Ð¸ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ð½Ð¸Ð¼Ð¸. Ð—Ð´ÐµÑÑŒ Ð¼Ñ‹ Ñ€Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼, **ÐºÐ°ÐºÐ¸Ð¼Ð¸ Ð·Ð°Ð´Ð°Ñ‡Ð°Ð¼Ð¸ Ð¾Ð±ÑƒÑÐ»Ð¾Ð²Ð»ÐµÐ½Ð° Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¿Ð¾ÑÐ²Ð»ÐµÐ½Ð¸Ñ ÐºÐ¾Ð½Ñ†ÐµÐ¿Ñ†Ð¸Ð¸** Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð², Ñ€Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ ÑÑ‚Ð¸Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ð¸ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¸ Ð¸Ñ… Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ð² Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸.

Ð¢Ð°Ðº Ð¶Ðµ ÐºÐ°Ðº Ð¸ Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð°Ñ ÑÑ‚Ð°Ñ‚ÑŒÑ, ÑÑ‚Ð° Ð½Ðµ ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½Ñ‹Ð¼ ÑƒÑ‡ÐµÐ±Ð½Ð¸ÐºÐ¾Ð¼ Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¼ Ð¸Ð·Ð»Ð¾Ð¶ÐµÐ½Ð¸ÐµÐ¼ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð°. ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð·Ð°Ð´Ð°Ñ‡Ð° - Ð¿Ð¾Ð²ÐµÑ€Ñ…Ð½Ð¾ÑÑ‚Ð½Ñ‹Ð¹ Ð¾Ð±Ð·Ð¾Ñ€ Ñ‚ÐµÐ¼Ñ‹ Ñ ÑÐ°Ð¼Ñ‹Ñ… Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ñ‚Ð¾Ñ‡ÐµÐº Ð·Ñ€ÐµÐ½Ð¸Ñ, Ñ Ñ‚ÐµÐ¼, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð·Ð°Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ¾Ð²Ð°Ð²ÑˆÐ¸Ð¹ÑÑ ÐºÐ°ÐºÐ¸Ð¼-Ð»Ð¸Ð±Ð¾ Ð°ÑÐ¿ÐµÐºÑ‚Ð¾Ð¼ Ñ‡Ð¸Ñ‚Ð°Ñ‚ÐµÐ»ÑŒ ÑÐ¼Ð¾Ð³ ÑÐ°Ð¼Ð¾ÑÑ‚Ð¾ÑÑ‚ÐµÐ»ÑŒÐ½Ð¾ Ð½Ð°Ð¹Ñ‚Ð¸ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½Ð¾ÑÑ‚Ð¸, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð² Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ðµ.

Ð”Ð°Ð»ÐµÐµ Ð¿Ñ€ÐµÐ´Ð¿Ð¾Ð»Ð°Ð³Ð°ÐµÑ‚ÑÑ, Ñ‡Ñ‚Ð¾ Ñ‡Ð¸Ñ‚Ð°Ñ‚ÐµÐ»ÑŒ ÑƒÐ¶Ðµ Ð·Ð½Ð°ÐºÐ¾Ð¼ Ñ Ð±Ð°Ð·Ð¾Ð²Ñ‹Ð¼Ð¸ Ð¿Ð¾Ð½ÑÑ‚Ð¸ÑÐ¼Ð¸ Ñ‚ÐµÐ¾Ñ€Ð¸Ð¸ Ñ‚Ð¸Ð¿Ð¾Ð², Ð¾ÑÐ²ÐµÑ‰Ñ‘Ð½Ð½Ñ‹Ð¼Ð¸, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð² [ÑÑ‚Ð¾Ð¹ ÑÑ‚Ð°Ñ‚ÑŒÐµ](https://habr.com/ru/articles/758542/).

## ÐžÐ±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹
### ÐœÐ¾Ñ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ

ÐŸÑ€ÐµÐ´ÑÑ‚Ð°Ð²Ð¸Ð¼, Ñ‡Ñ‚Ð¾ Ñƒ Ð½Ð°Ñ ÐµÑÑ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð¼Ð¾Ð¶ÐµÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑÑ Ð¾ÑˆÐ¸Ð±ÐºÐ¾Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€ÑƒÑŽ Ð² Ð´Ð°Ð»ÑŒÐ½ÐµÐ¹ÑˆÐµÐ¼ Ð¼Ð¾Ð¶Ð½Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ. Ð­Ñ‚Ð¾ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¿Ð¾Ð¸ÑÐº ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð° Ð² ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸ (Ð¸ÑÐºÐ¾Ð¼Ð¾Ð³Ð¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¼Ð¾Ð¶ÐµÑ‚ Ð½Ðµ Ð½Ð°Ð¹Ñ‚Ð¸ÑÑŒ), Ð¸Ð»Ð¸ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð½Ð° web-ÑÐµÑ€Ð²ÐµÑ€ (Ñ‚ÑƒÑ‚ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¼Ð½Ð¾Ð³Ð¾ Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ð¾ÑˆÐ¸Ð±Ð¾Ðº). Ð’ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡Ð½Ð¾Ð¼ Ð¸Ð¼Ð¿ÐµÑ€Ð°Ñ‚Ð¸Ð²Ð½Ð¾Ð¼ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸ ÑÑ‚Ð¾ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ñ€ÐµÑˆÐ°ÐµÑ‚ÑÑ Ñ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸ÐµÐ¼ Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼Ð¾Ð² Ð²Ñ‹Ð±Ñ€Ð¾ÑÐ° Ð¸ÑÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ð¹ Ð¸ Ð¸Ñ… Ð¾Ñ‚Ð»Ð¾Ð²Ð¾Ð¼. Ð¢Ð°ÐºÐ¾Ð¹ Ð¿Ð¾Ð´Ñ…Ð¾Ð´, ÐºÐ°Ðº Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¾, Ð½ÐµÐ´ÐµÐºÐ»Ð°Ñ€Ð°Ñ‚Ð¸Ð²ÐµÐ½ - Ð¿Ð¾ ÑÐ¸Ð³Ð½Ð°Ñ‚ÑƒÑ€Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð½ÐµÑ‚ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ Ð¿Ð¾Ð½ÑÑ‚ÑŒ, ÐºÐ°ÐºÐ¸Ðµ "Ð½ÐµÑÑ‡Ð°ÑÑ‚Ð»Ð¸Ð²Ñ‹Ðµ" Ð¸ÑÑ…Ð¾Ð´Ñ‹ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹. Ð’ Ð»ÑŽÐ±Ð¾Ð¼ ÑÐ»ÑƒÑ‡Ð°Ðµ, Ñ‚Ð°ÐºÐ¸Ðµ Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼Ñ‹ ÑƒÑÐ»Ð¾Ð¶Ð½ÑÑŽÑ‚ ÑÐ·Ñ‹Ðº, Ð²Ð²Ð¾Ð´Ñ Ð½Ð¾Ð²Ñ‹Ðµ ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ‡ÐµÑÐºÐ¸Ðµ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸, Ð²Ñ€Ð¾Ð´Ðµ `try/catch`. Ð’ Ñ‚Ð¾ Ð¶Ðµ Ð²Ñ€ÐµÐ¼Ñ, Ð·Ð°Ð´Ð°Ñ‡Ð° Ñ€ÐµÑˆÐ°ÐµÑ‚ÑÑ Ð±Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ñ ÐµÑÑ‚ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ð¼Ñƒ Ð¿Ð¾Ð½ÑÑ‚Ð¸ÑŽ Ñ‚ÐµÐ¾Ñ€Ð¸Ð¸ Ñ‚Ð¸Ð¿Ð¾Ð² - ÑÑƒÐ¼Ð¼Ðµ Ñ‚Ð¸Ð¿Ð¾Ð²:
$$findItem: RegEx => ItemType + NotFound$$
$$getSmthFromWeb: Request => Response + Unaccessable + BadRequest + InternalError$$
Ð‘Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ñ Ð¾Ñ‡ÐµÐ²Ð¸Ð´Ð½Ð¾Ð¼Ñƒ Ð°Ð»Ð³ÐµÐ±Ñ€Ð°Ð¸Ñ‡ÐµÑÐºÐ¾Ð¼Ñƒ Ð¸Ð·Ð¾Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ñƒ, Ð¾Ð¿Ð¸ÑÐ°Ð½Ð½Ð¾Ð³Ð¾ Ð² Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ¹ ÑÑ‚Ð°Ñ‚ÑŒÐµ, Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð¹ Ñ‚Ð°ÐºÐ¾Ð¹ ÑÑƒÐ¼Ð¼Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð² Ð¾Ð´Ð½Ð¾Ð·Ð½Ð°Ñ‡Ð½Ð¾ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ÑÑ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð¸Ð· Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ ÑÑ‚Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð° Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÑÐµÑ‚ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð° $X$ - Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼ ÑÐ¾Ð¿Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ñ ÑˆÐ°Ð±Ð»Ð¾Ð½Ð°Ð¼Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸ÑÑ‚ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð¸Ð» Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð² Ñ‚Ð¸Ð¿ $X$ Ð¸Ð· Ð²ÑÐµÑ… Ñ‚Ð¸Ð¿Ð¾Ð²-ÑÐ»Ð°Ð³Ð°ÐµÐ¼Ñ‹Ñ…:
```scala
def foldToString(itemOrNot: ItemType | NotFound)( // ItemType + NotFound
  itemToString: ItemType => String,  // Ð½Ð° Ð²Ñ…Ð¾Ð´ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´ÑÑ‚ Ð´Ð²Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸
  notFoundResult:   Unit => String   // Ð¿Ð¾ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ñƒ ÑÐ»Ð°Ð³Ð°ÐµÐ¼Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð°
): String = 
  itemOrNot match     // Ñ‚ÐµÐ»Ð¾ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð½Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð³Ð¾ ItemType!
    case it: ItemType => itemToString(it)
    case _: NotFound  => notFoundResult()
```
Ð—Ð´ÐµÑÑŒ Ð¿ÐµÑ€ÐµÑÐµÑ‡ÐµÐ½Ð¸Ðµ Ñ‚Ð¸Ð¿Ð¾Ð² `ItemType | NotFound` Ð¼Ð¾Ð¶Ð½Ð¾ ÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ ÑÑƒÐ¼Ð¼Ð¾Ð¹ Ñ‚Ð¸Ð¿Ð° `ItemType` Ð¸ [ÐµÐ´Ð¸Ð½Ð¸Ñ‡Ð½Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð°]() `NotFound`.

Ð˜ Ð¿Ð¾Ð¸ÑÐº ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð° Ð² ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸, Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð° Ð¸Ð· Ð²ÐµÐ±-ÑÐµÑ€Ð²Ð¸ÑÐ° ÑÐ²Ð»ÑÑŽÑ‚ÑÑ Ð²ÐµÑÑŒÐ¼Ð° Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½Ñ‘Ð½Ð½Ñ‹Ð¼Ð¸ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸ÑÐ¼Ð¸, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð½ÐµÐ¾Ð´Ð½Ð¾ÐºÑ€Ð°Ñ‚Ð½Ð¾ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð°ÑŽÑ‚ÑÑ Ð²Ð¾ Ð¼Ð½Ð¾Ð³Ð¸Ñ… Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸ÑÑ…. ÐŸÑ€Ð¸ ÑÑ‚Ð¾Ð¼, ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ `ItemType`, Ð¸Ð»Ð¸ `Response` Ð±ÑƒÐ´ÑƒÑ‚ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð°Ñ‚ÑŒÑÑ Ð² Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ð¼ÐµÑÑ‚Ð°Ñ…, Ð½Ð¾ *ÑÐ¿Ð¾ÑÐ¾Ð±Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ* Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð¸Ñ€ÑƒÑŽÑ‰Ð¸Ñ… Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ Ñ‚Ð¸Ð¿Ð¾Ð² ÑÑƒÐ¼Ð¼Ñ‹ - Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð² `fold` - Ð½Ðµ Ð±ÑƒÐ´ÑƒÑ‚ Ð·Ð°Ð²Ð¸ÑÐµÑ‚ÑŒ Ð½Ð¸ Ð¾Ñ‚ `ItemType`, Ð¸Ð»Ð¸ `Response`! Ð‘Ð¾Ð»ÐµÐµ Ñ‚Ð¾Ð³Ð¾, Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¼ÐµÑ‚Ð¾Ð´Ð° `fold` Ð±ÑƒÐ´ÑƒÑ‚ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð°Ñ‚ÑŒÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð·Ð°Ð¼ÐµÐ½Ð¾Ð¹ Ñ‚Ð¸Ð¿Ð° `ItemType` (Ð¸Ð»Ð¸, Ð°Ð½Ð°Ð»Ð¾Ð³Ð¸Ñ‡Ð½Ð¾, `Response`) Ð½Ð° ÐºÐ°ÐºÐ¾Ð¹-Ð½Ð¸Ð±ÑƒÐ´ÑŒ Ð´Ñ€ÑƒÐ³Ð¾Ð¹. ÐœÐ¾Ð¶Ð½Ð¾ ÑÐºÐ°Ð·Ð°Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ ÑÑ‚Ð¾Ñ‚ Ñ‚Ð¸Ð¿ ÑÐ²Ð»ÑÐµÑ‚ÑÑ *Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð¼* Ð¼ÐµÑ‚Ð¾Ð´Ð°! ÐœÐ½Ð¾Ð³Ð¾ÐºÑ€Ð°Ñ‚Ð½Ð¾Ðµ Ð´ÑƒÐ±Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑÑ‚Ð¾Ð³Ð¾ ÐºÐ¾Ð´Ð° Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ñ‚Ð°ÐºÐ¾Ð³Ð¾ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð³Ð¾ "Ñ‚Ð¸Ð¿Ð°-Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°" Ð²Ñ‹Ð³Ð»ÑÐ´ÐµÐ»Ð¾ Ð±Ñ‹ Ð²ÐµÑÑŒÐ¼Ð° Ð½ÐµÑƒÐ´Ð°Ñ‡Ð½Ñ‹Ð¼ Ñ€ÐµÑˆÐµÐ½Ð¸ÐµÐ¼...

ÐŸÐ¾Ð¼Ð¸Ð¼Ð¾ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸ÐµÐ² Ñ ÑÑƒÐ¼Ð¼Ð°Ð¼Ð¸ Ñ‚Ð¸Ð¿Ð¾Ð², Ñ€Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ðµ. ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, ÐµÑÐ»Ð¸ ÐºÐ°ÐºÐ¾Ð¹-Ð»Ð¸Ð±Ð¾ Ð¼ÐµÑ‚Ð¾Ð´ Ð¸Ñ‰ÐµÑ‚ Ð½ÐµÐºÐ¸Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ Ð½Ð° Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ñ€ÐµÑÑƒÑ€ÑÐ°Ñ…, Ð±Ñ‹Ð»Ð¾ Ð±Ñ‹ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾ Ð²Ð¼ÐµÑÑ‚Ðµ Ñ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð¼ Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ Ð¸ ÑÐ²ÐµÐ´ÐµÐ½Ð¸Ñ Ð¾Ð± Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐµ, Ð¾Ñ‚ÐºÑƒÐ´Ð° ÑÑ‚Ð¾Ñ‚ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ Ð±Ñ‹Ð» Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½. Ð¢ÑƒÑ‚ ÑƒÐ¶Ðµ Ð¿Ð¾Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ñ‚Ð¸Ð¿Ð¾Ð² Ð²Ð¸Ð´Ð° `Content Ã— Source`, Ð³Ð´Ðµ Ñ‚Ð¸Ð¿ `Content` Ð¼Ð¾Ð¶ÐµÑ‚ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð°Ñ‚ÑŒÑÑ Ð² Ñ€Ð°Ð·Ð½Ñ‹Ñ… ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ñ… ÑÐ»ÑƒÑ‡Ð°ÑÑ…, Ð° `Source` - ÑÑ‚Ð¾ Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ñ‚Ð¸Ð¿, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, `String`. Ð’ Ñ‚Ð°ÐºÐ¸Ñ… ÑÐ»ÑƒÑ‡Ð°ÑÑ… ÑÐ¿Ð¾ÑÐ¾Ð±Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ñ‚Ð°ÐºÐ¾Ð³Ð¾ ÐºÐ¾Ñ€Ñ‚ÐµÐ¶Ð° Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ñ€Ð¾Ð² Ð² Ñ‚Ð¸Ð¿Ñ‹ `Content` Ð¸ `Source` Ð½Ðµ Ð±ÑƒÐ´ÑƒÑ‚ Ð·Ð°Ð²Ð¸ÑÐµÑ‚ÑŒ Ð¾Ñ‚ Ñ‚Ð¾Ð³Ð¾, ÐºÐ°ÐºÐ¾Ð¹ Ð¸Ð¼ÐµÐ½Ð½Ð¾ Ñ‚Ð¸Ð¿-Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ `Content` Ð±ÑƒÐ´ÐµÑ‚ Ñ‚Ð°Ð¼ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒÑÑ.

```scala
def foldToInt(contentWithSource: Conent & Source)( // Conent Ã— Source
  handler: Conent => Source => Int  // Ð½Ð° Ð²Ñ…Ð¾Ð´ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚ ÐºÐ°Ñ€Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ
): Int = 
  // Ð¾Ð±Ñ€Ð°Ð¾Ñ‚Ñ‡Ð¸Ðº handler Ð²Ð¿Ð¾Ð»Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¸Ð³Ð½Ð¾Ñ€Ð¸Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¹ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ source
  handler(contentWithSource: Conent)(contentWithSource: Source)
```

Ð•Ñ‰Ñ‘ Ð¾Ð´Ð¸Ð½ Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ð¹ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ - "Ð¸Ð·Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¾Ñ‚ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹". Ð•ÑÐ»Ð¸ Ð² Ð½ÐµÐºÐ¾Ð¼ Ð¼ÐµÑ‚Ð¾Ð´Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐºÐ°ÐºÐ¾Ð³Ð¾-Ñ‚Ð¾ ÑÐµÑ€Ð²Ð¸ÑÐ° Ñ‚Ð¸Ð¿Ð° `Service`, Ñ‚Ð¾ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ ÐµÐ³Ð¾ Ð½Ð°Ð·Ñ‹Ð²Ð°ÑŽÑ‚ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒÑŽ Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð°ÑŽÑ‚ Ð² ÑÐ°Ð¼Ð¾Ð¼ Ð½Ð°Ñ‡Ð°Ð»Ðµ, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð²Ð¼ÐµÑÑ‚Ðµ "Ð±Ð¸Ð·Ð½ÐµÑÐ¾Ð²Ñ‹Ð¼Ð¸" Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°Ð¼Ð¸ Ð¼ÐµÑ‚Ð¾Ð´Ð° (Ð¸Ð»Ð¸ Ð¶Ðµ Ð¿Ð¾-ÐžÐžÐŸÑˆÐ½Ð¾Ð¼Ñƒ, Ñ‡ÑƒÑ‚ÑŒ Ñ€Ð°Ð½ÑŒÑˆÐµ - Ð² ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€ ÐºÐ»Ð°ÑÑÐ°, Ð³Ð´Ðµ Ñ€Ð°ÑÐ¿Ð¾Ð»Ð¾Ð¶ÐµÐ½ Ð¼ÐµÑ‚Ð¾Ð´). ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ÑÑ, Ñ‚Ð°Ðº Ð½Ð°Ð·Ñ‹Ð²Ð°ÐµÐ¼Ñ‹Ð¹, "Ð¶Ð°Ð´Ð½Ñ‹Ð¹" Ð·Ð°Ñ…Ð²Ð°Ñ‚ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ ("ÑƒÑ‚Ñ€Ð¾Ð¼ Ð´ÐµÐ½ÑŒÐ³Ð¸, Ð²ÐµÑ‡ÐµÑ€Ð¾Ð¼ ÑÑ‚ÑƒÐ»ÑŒÑ"). Ð¡Ð¸Ð³Ð½Ð°Ñ‚ÑƒÑ€Ð° Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ÑÑ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð½Ð¾ Ñ‚Ð°ÐºÐ°Ñ: `(Service, BusinessParam) => Result`. "Ð–Ð°Ð´Ð½Ð¾Ð¼Ñƒ" Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼Ñƒ Ð¿Ñ€Ð¾Ñ‚Ð¸Ð²Ð¾Ð¿Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ÑÑ "Ð»ÐµÐ½Ð¸Ð²Ñ‹Ð¹", ÐºÐ¾Ð³Ð´Ð° Ð¼ÐµÑ‚Ð¾Ð´ Ð½Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð² ÑÐ°Ð¼Ð¾Ð¼ Ð½Ð°Ñ‡Ð°Ð»Ðµ, Ð½Ð¾ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð½Ð° Ð²Ñ…Ð¾Ð´ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ `Service`: `BusinessParam => (Service => Result)`. ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ÑÑ, Ñ‡Ñ‚Ð¾ Ð¼ÐµÑ‚Ð¾Ð´ "Ð¸Ð·Ð±Ð°Ð²Ð¸Ð»ÑÑ Ð¾Ñ‚ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸"! Ð¢Ð°ÐºÐ¸Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼ Ð²ÑÑŽ Ð±Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÑƒ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ñ‡Ð¸ÑÑ‚Ð¾, **Ð²Ñ‹Ð½ÐµÑÑ Ð²ÑÑŽ Ð²Ð¾Ð·Ð½ÑŽ Ñ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑÐ¼Ð¸ Ð² ÑÐ°Ð¼Ñ‹Ð¹ ÐºÐ¾Ð½ÐµÑ† Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ** (Ð´Ð»Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÑ‡Ð½Ñ‹Ð¼Ð¸ Ð¼ÐµÑ‚Ð¾Ð´Ð°Ð¼Ð¸ Ð¸Ð»Ð¸ ÑÑ€ÐµÐ´Ð¾Ð¹ Ð¸ÑÐ¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ). Ð’ Ñ‚Ð°ÐºÐ¾Ð³Ð¾ Ñ€Ð¾Ð´Ð° ÑÑ†ÐµÐ½Ð°Ñ€Ð¸ÑÑ… Ð½Ð°Ð±Ð»ÑŽÐ´Ð°ÐµÑ‚ÑÑ Ð·Ð½Ð°ÐºÐ¾Ð¼Ð°Ñ Ð·Ð°ÐºÐ¾Ð½Ð¾Ð¼ÐµÑ€Ð½Ð¾ÑÑ‚ÑŒ - ÑÐ¿Ð¾ÑÐ¾Ð± Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ ÑÐºÑÐ¿Ð¾Ð½ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð° `Service => Result` Ð½Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ Ñ‚Ð¸Ð¿Ð° `Result` - Ð¾Ð½ ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð¼ Ð¼ÐµÑ‚Ð¾Ð´Ð°.

```scala
def foldToResult(resultByService: Service => Result)( // ResultË¢áµ‰Ê³áµ›â±á¶œáµ‰
  service: Service         // Ð½Ð° Ð²Ñ…Ð¾Ð´ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚ ÑÐµÑ€Ð²Ð¸Ñ
): Result = 
  resultByService(service) // Ñ‡Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¾Ðµ Result - Ð½Ðµ Ð²Ð°Ð¶Ð½Ð¾!
```

ÐœÐ¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð²ÐµÑÑ‚Ð¸ Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð°Ð½Ð°Ð»Ð¾Ð³Ð¸Ñ‡Ð½Ñ‹Ðµ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¸, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² (Ð²Ñ€Ð¾Ð´Ðµ `Result`, `Content`, `Response`, `ItemType`) Ð½Ðµ Ð½ÑƒÐ¶Ð½Ð° - Ð² Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð°Ñ… ÑÑ‚Ð¾ Ð¼Ð¾Ð³ÑƒÑ‚ Ð±Ñ‹Ñ‚ÑŒ ÑÐ°Ð¼Ñ‹Ðµ Ñ€Ð°Ð·Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹, Ð½Ð¾ ÑÐ°Ð¼ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ñ Ð¾ÑÑ‚Ð°Ñ‘Ñ‚ÑÑ Ñ‚ÐµÐ¼ Ð¶Ðµ ÑÐ°Ð¼Ñ‹Ð¼! Ð‘Ñ‹Ð»Ð¾ Ð±Ñ‹ Ð²ÐµÑÑŒÐ¼Ð° Ñ€Ð°ÑÑ‚Ð¾Ñ‡Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð¼Ð½Ð¾Ð³Ð¾ÐºÑ€Ð°Ñ‚Ð½Ð¾ ÐºÐ¾Ð¿Ð¸Ð¿Ð°ÑÑ‚Ð¸Ñ‚ÑŒ Ñ‚Ð°ÐºÐ¸Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸, Ð¾Ñ‚Ð»Ð¸Ñ‡Ð°ÑŽÑ‰Ð¸ÐµÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÐ²Ð¾ÐµÐ¹ ÑÐ¸Ð³Ð½Ð°Ñ‚ÑƒÑ€Ð¾Ð¹, Ð½Ð¾ Ð¸Ð¼ÐµÑŽÑ‰Ð¸Ðµ Ð¾Ð´Ð¸Ð½Ð°ÐºÐ¾Ð²ÑƒÑŽ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑŽ.

Ð”Ð»Ñ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ñ‚Ð°ÐºÐ¾Ð¹ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð° Ð½Ð¾Ð²Ð°Ñ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ñ - *Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹*.

### ÐžÐ±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹

Ð˜Ð´ÐµÑ Ð¿Ñ€Ð¾ÑÑ‚Ð°Ñ - Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð¾Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÐµÐ´Ð¸Ð½ÑÑ‚Ð²ÐµÐ½Ð½ÑƒÑŽ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½ÑƒÑŽ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð±ÑƒÐ´ÐµÑ‚ Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°Ñ‚ÑŒ Ð²ÑÐµ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ñ Ñ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ð¼Ð¸ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¼Ð¸ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸, Ð¿ÐµÑ€ÐµÐ´Ð°Ð²Ð°ÐµÐ¼Ñ‹Ð¼Ð¸ ÐµÐ¹ ÐºÐ°Ðº Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹. Ð’ Scala Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹-Ñ‚Ð¸Ð¿Ñ‹ Ð¿ÐµÑ€ÐµÐ´Ð°ÑŽÑ‚ÑÑ Ð½Ðµ Ð² ÐºÑ€ÑƒÐ³Ð»Ñ‹Ñ… ÑÐºÐ¾Ð±ÐºÐ°Ñ…, ÐºÐ°Ðº Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ðµ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹, Ð° Ð² ÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚Ð½Ñ‹Ñ…. ÐŸÐµÑ€ÐµÐ¿Ð¸ÑˆÐµÐ¼ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ `fold`, Ð¾Ð±ÑŠÑÐ²Ð»ÐµÐ½Ð½Ñ‹Ðµ Ð² Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ¼ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ðµ, Ð² Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ð¾Ð¹ Ñ„Ð¾Ñ€Ð¼Ðµ:
```scala
def foldToString[ItemType](itemOrNot: ItemType | NotFound)( // ItemType + NotFound
  itemToString: ItemType => String,  // Ð½Ð° Ð²Ñ…Ð¾Ð´ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´ÑÑ‚ Ð´Ð²Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸
  notFoundResult:   Unit => String   // Ð¿Ð¾ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ñƒ ÑÐ»Ð°Ð³Ð°ÐµÐ¼Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð°
): String = ???                      // Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‚Ð°ÐºÐ°Ñ Ð¶Ðµ, ÐºÐ°Ðº Ð¸ Ñ€Ð°Ð½ÑŒÑˆÐµ

def foldToInt[Conent](contentWithSource: Conent & Source)( // Conent Ã— Source
  handler: Conent => Source => Int  // Ð½Ð° Ð²Ñ…Ð¾Ð´ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚ ÐºÐ°Ñ€Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ
): Int = ???                        // Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‚Ð°ÐºÐ°Ñ Ð¶Ðµ, ÐºÐ°Ðº Ð¸ Ñ€Ð°Ð½ÑŒÑˆÐµ

def foldToResult[Result](resultByService: Service => Result)( // ResultË¢áµ‰Ê³áµ›â±á¶œáµ‰
  service: Service                  // Ð½Ð° Ð²Ñ…Ð¾Ð´ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚ ÑÐµÑ€Ð²Ð¸Ñ
): Result = ???                     // Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‚Ð°ÐºÐ°Ñ Ð¶Ðµ, ÐºÐ°Ðº Ð¸ Ñ€Ð°Ð½ÑŒÑˆÐµ
```
Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸Ñ… Ð¼Ð¾Ð¶Ð½Ð¾ Ñ‚Ð°Ðº:
```scala
val doubleOrNot: Double | NotFound = ??? // ÐºÐ°ÐºÐ¾Ðµ-Ñ‚Ð¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ
val str = foldToString[Double](doubleOrNot)(d => s"double: $d", _ => "no double found")
//                     ^^^^^^ - Ñ‚Ð¸Ð¿-Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ ÑƒÐºÐ°Ð·Ð°Ð½ ÑÐ²Ð½Ð¾ (Ð½Ð¾ ÑÑ‚Ð¾ Ð½Ðµ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾)

val intOrNot: Int | NotFound = ??? // ÐºÐ°ÐºÐ¾Ðµ-Ñ‚Ð¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ
val str = foldToString(intOrNot)(i => s"int: $i", _ => "no int found")
//                   ^^ - Ð·Ð°Ñ‡Ð°ÑÑ‚ÑƒÑŽ, Ñ‚Ð¸Ð¿-Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ‚Ð¾Ñ€ Ð¸ ÑÐ°Ð¼ Ð¼Ð¾Ð¶ÐµÑ‚ Ð²Ñ‹Ð²ÐµÑÑ‚Ð¸
```
Ð¢ÑƒÑ‚ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ð¹ Ð¼ÐµÑ‚Ð¾Ð´ `foldToString`, Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ñ‹Ð¹ ÐµÐ´Ð¸Ð½Ð¾Ð¾Ð±Ñ€Ð°Ð·Ð½Ð¾ **Ð´Ð»Ñ Ð»ÑŽÐ±Ð¾Ð³Ð¾** ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð° `ItemType`, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ ÑÐ¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑÐ¼Ð¸ Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð²: `Double` Ð¸ `Int`. ÐŸÑ€Ð¸Ñ‡Ñ‘Ð¼ Ð²Ð¾ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¼ ÑÐ»ÑƒÑ‡Ð°Ðµ Ñ‚Ð¸Ð¿ Ð½Ðµ ÑƒÐºÐ°Ð·Ð°Ð½ ÑÐ²Ð½Ð¾ - ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ‚Ð¾Ñ€ ÑÐ°Ð¼ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ ÐµÐ³Ð¾ Ð¿Ð¾ Ñ‚Ð¸Ð¿Ñƒ Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð° Ð¼ÐµÑ‚Ð¾Ð´Ð°.

Ð¢ÐµÐ»Ð¾Ð¼ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ… Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð² ÑÐ²Ð»ÑÑŽÑ‚ÑÑ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ðµ Ñ‚Ð°Ð¼ Ñ‚ÐµÑ€Ð¼Ñ‹ Ð¼Ð¾Ð³ÑƒÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð»ÑŽÐ±Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð°. Ð¢Ð°ÐºÐ¸Ðµ Ñ‚Ð¸Ð¿Ñ‹ ÑƒÑ‡Ð°ÑÑ‚Ð²ÑƒÑŽÑ‚ Ð² Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¸ *ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾* - Ð¾Ð½Ð¸ Ð¼Ð¾Ð³ÑƒÑ‚ Ð¼ÐµÐ½ÑÑ‚ÑŒÑÑ Ð² Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ. ÐœÐµÑ‚Ð¾Ð´ Ð¶Ðµ Ð¾Ð±Ñ€Ð°Ð·ÑƒÐµÑ‚ÑÑ Ð¿ÑƒÑ‚Ñ‘Ð¼ *ÑÐ²ÑÐ·Ñ‹Ð²Ð°Ð½Ð¸Ñ* Ð²ÑÐµÑ… ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ñ‹Ñ… Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð² Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ñ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð°Ð¼Ð¸, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð½ÑƒÐ¶Ð½Ð¾ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‚ÑŒ Ð² Ð¼ÐµÑ‚Ð¾Ð´ (Ð·Ð°Ð¼Ñ‹ÐºÐ°Ð½Ð¸Ñ ÑÐµÐ¹Ñ‡Ð°Ñ Ð½Ðµ Ñ€Ð°ÑÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°ÐµÐ¼). Ð’ ÑÐ»ÑƒÑ‡Ð°Ðµ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ… Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð² Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¼Ð¸ Ð¸Ð· Ñ‚Ð°ÐºÐ¸Ñ… Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð±ÑƒÐ´ÑƒÑ‚ Ñ‚Ð¸Ð¿Ñ‹.

ÐŸÑ€Ð¸Ð²ÐµÐ´Ñ‘Ð½Ð½Ñ‹Ðµ Ð²Ñ‹ÑˆÐµ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ ÑÐ²Ð»ÑÑŽÑ‚ÑÑ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð°Ð¼Ð¸ Ð³Ð¾Ð¼Ð¾Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ð° Ñ‚Ð¸Ð¿Ð¾Ð² ("Ð¾Ð´Ð½Ð¾Ð¹ Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½ÐºÐ¾Ð¹ [Ð¸Ð·Ð¾Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ð°]()"). Ð’ Ñ‚Ð°ÐºÐ¾Ð¼ ÑÐ»ÑƒÑ‡Ð°Ðµ Ð¸Ñ… Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ÑÑ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð¸ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð° Ð¼ÐµÑ‚Ð¾Ð´Ð°. ÐÐ¾, ÐºÐ¾Ð½ÐµÑ‡Ð½Ð¾ Ð¶Ðµ, Ð¼Ð¾Ð¶Ð½Ð¾ Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð¸ ÑÐ²Ð¾Ð¸ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð±ÑƒÐ´ÑƒÑ‚ ÑÐ²ÑÐ·Ñ‹Ð²Ð°Ñ‚ÑŒ Ð±Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÐ¾Ð¹ Ñ‚Ð¸Ð¿Ñ‹ Ð¼Ð¾Ð´ÐµÐ»Ð¸ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð¹ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð½Ð¾Ð¹ Ð¾Ð±Ð»Ð°ÑÑ‚Ð¸.

Ð’Ð½Ð¸Ð¼Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ñ‡Ð¸Ñ‚Ð°Ñ‚ÐµÐ»ÑŒ Ð¾Ð±Ñ€Ð°Ñ‚Ð¸Ñ‚ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ Ð½Ð° Ñ‚Ð¸Ð¿Ñ‹ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ñ… Ð²Ñ‹ÑˆÐµ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ… Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð² - Ð² Ñ‚Ð¸Ð¿Ð°Ñ… `ItemType | NotFound`, `Conent & Source`, `Service => Result` ÑƒÐ¿Ð¾Ð¼Ð¸Ð½Ð°ÑŽÑ‚ÑÑ Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹-Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ `ItemType`, `Conent` Ð¸ `Result`. Ð¢Ð¾ ÐµÑÑ‚ÑŒ, Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð² Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸ Ð¾Ñ‚Ñ€Ð°Ð·Ð¸Ð»Ð°ÑÑŒ Ð¿Ñ€ÐµÐ¶Ð´Ðµ Ð²ÑÐµÐ³Ð¾ Ð½Ð° Ñ‚Ð¸Ð¿Ð°Ñ… Ð¸Ñ… Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð¸ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð°. Ð¡ Ð´Ñ€ÑƒÐ³Ð¾Ð¹ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ‹, Ñ‚Ð¸Ð¿ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸, ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹ ÑÐ¸Ð³Ð½Ð°Ñ‚ÑƒÑ€Ðµ ÑÑ‚Ð¸Ñ… Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð², Ñ‚Ð°Ðº Ð¶Ðµ Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½ Ñ‚Ð¸Ð¿Ð¾Ð¼!

Ð¢Ð°Ðº ÐºÐ°Ðº Scala Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¾Ð½Ð¸Ñ€ÑƒÐµÑ‚ÑÑ ÐºÐ°Ðº Ð¼ÑƒÐ»ÑŒÑ‚Ð¸-Ð¿Ð°Ñ€Ð°Ð´Ð¸Ð³Ð¼ÐµÐ½Ð½Ñ‹Ð¹ ÑÐ·Ñ‹Ðº, Ñ‚Ð¾ Ð² Ð½Ñ‘Ð¼ ÐµÑÑ‚ÑŒ Ñ‚Ñ€Ð°Ð´Ð¸Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ðµ ÐžÐŸÐŸ-ÑˆÐ½Ñ‹Ðµ ÐºÐ»Ð°ÑÑÑ‹. Ð˜ Ñ‚Ð°ÐºÐ¶Ðµ, ÐºÐ°Ðº Ð¸ Ð²Ð¾ Ð¼Ð½Ð¾Ð³Ð¸Ñ… Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ñ… ÑÐ·Ñ‹ÐºÐ°Ñ…, Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ, Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÑ *Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ ÐºÐ»Ð°ÑÑÑ‹*.

### ÐžÐ±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ ÐºÐ»Ð°ÑÑÑ‹

Ð¢Ð¸Ð¿Ñ‹-Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ… ÐºÐ»Ð°ÑÑÐ¾Ð² Ð² Scala ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ Ð² ÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚Ð½Ñ‹Ñ… ÑÐºÐ¾Ð±ÐºÐ°Ñ… ÑÑ€Ð°Ð·Ñƒ Ð¿Ð¾ÑÐ»Ðµ Ð¸Ð¼ÐµÐ½Ð¸ ÐºÐ»Ð°ÑÑÐ°.:
```scala
case class ContentAndSource[Content](content: Content, source: String)

trait ContentHandler[Content, Result] {
  def handleContent(contentAndSource: ContentAndSource[Content]): Result
}
```

Ð§Ñ‚Ð¾Ð±Ñ‹ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ð¾Ð³Ð¾ ÐºÐ»Ð°ÑÑÐ°, Ð¿Ð¾Ð¼Ð¸Ð¼Ð¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹-Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð² ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð°, Ð½ÑƒÐ¶Ð½Ð¾ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸ Ñ‚Ð¸Ð¿Ñ‹-Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹:
```scala
case class MyContent(test: String) // Ð±ÑƒÐ´ÐµÐ¼ Ð¿Ð¾Ð´ÑÑ‚Ð°Ð²Ð»ÑÑ‚ÑŒ ÐµÐ³Ð¾ ÐºÐ°Ðº Ñ‚Ð¸Ð¿-Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€

val contentHandler = new ContentHandler[MyContent, String] {
  def handleContent(contentAndSource: ContentAndSource[Content]) =
	  s"Ð˜Ð· Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ° '${contentAndSource.source}' Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ: ${contentAndSource.content.text}"
	  //                                                                                         ^^^^^
}     //                                         Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ñ€ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð³Ð¾ ÐºÐ»Ð°ÑÑÐ° MyContent.text

val myContentAndSource = ContentAndSource(MyContent("text"), "hardcoded")
//                                      ^^
//        Ñ‚ÑƒÑ‚ Ð½ÐµÐ¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ ÑÐ²Ð½Ð¾ ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ Ñ‚Ð¸Ð¿ - Ð¾Ð½ Ð±ÑƒÐ´ÐµÑ‚ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ñ‚Ð¸Ð¿Ð° Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð°

val str = contentHnadler.handleContent(myContentAndSource) // String
// "Ð˜Ð· Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ° 'hardcoded' Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ: text"
```

ÐŸÑ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¾ Ð²ÑÐµÑ… Ð¤ÐŸ-ÑˆÐ½Ñ‹Ñ… Scala-Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ°Ñ… Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ñ‹ Ð¸Ð¼ÐµÐ½Ð½Ð¾ ÐºÐ°Ðº Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ ÐºÐ»Ð°ÑÑÑ‹ (Ñ‚Ñ€ÐµÐ¹Ñ‚Ñ‹). Ð­Ñ‚Ð¾ Ð¾Ð±ÑƒÑÐ»Ð¾Ð²Ð»ÐµÐ½Ð¾, Ð² Ñ‡Ð°ÑÑ‚Ð½Ð¾ÑÑ‚Ð¸, Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾ÑÑ‚ÑŒÑŽ Ñ€Ð°Ð·Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð¾Ð² - Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ñ‹Ðµ Ñ‡ÐµÑ€ÐµÐ· ÐºÐ»Ð°ÑÑÑ‹, *Ñ‚Ð¸Ð¿Ñ‹ ÑÑ‡Ð¸Ñ‚Ð°ÑŽÑ‚ÑÑ Ñ€Ð°Ð·Ð½Ñ‹Ð¼Ð¸*, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ñ‹ Ð¾Ð½Ð¸ Ð¾Ð´Ð¸Ð½Ð°ÐºÐ¾Ð²Ð¾. Ð­Ñ‚Ð¾ Ð·Ð½Ð°Ñ‡Ð¸Ñ‚, Ñ‡Ñ‚Ð¾ Ð¿Ñ€Ð¸Ð¼ÐµÐ½Ð¸Ð¼Ñ‹Ðµ Ðº Ð½Ð¸Ð¼ Ð½Ð°Ð±Ð¾Ñ€Ñ‹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹ Ð½Ðµ Ð±ÑƒÐ´ÑƒÑ‚ Ð¿ÐµÑ€ÐµÑÐµÐºÐ°Ñ‚ÑŒÑÑ. Ð’ Ñ‚Ð¾ Ð¶Ðµ Ð²Ñ€ÐµÐ¼Ñ, Ñ Ñ€Ð°ÑÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°ÐµÐ¼Ñ‹Ð¼Ð¸ Ð² ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ Ð³Ð»Ð°Ð²Ðµ Ð¿ÑÐµÐ²Ð´Ð¾Ð½Ð¸Ð¼Ð°Ð¼Ð¸ Î»-Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹ Ñ‚Ð¸Ð¿Ð¾Ð² ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ñ Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð°Ñ - Ñ‚Ð¸Ð¿Ñ‹ ÑÑ€Ð°Ð²Ð½Ð¸Ð²Ð°ÑŽÑ‚ÑÑ Ð¿Ð¾ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸, Ð° Ð½Ðµ Ð¿Ð¾ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÑŽ, Ð·Ð½Ð°Ñ‡Ð¸Ñ‚, Ð¼Ð¾Ð³ÑƒÑ‚ Ð±Ñ‹Ñ‚ÑŒ (Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ Ð½ÐµÐ¶ÐµÐ»Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ) ÐºÐ¾Ð»Ð»Ð¸Ð·Ð¸Ð¸ Ð¼ÐµÐ¶Ð´Ñƒ Ð½Ð°Ð±Ð¾Ñ€Ð°Ð¼Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹, Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÐ¼Ñ‹Ð¼Ð¸ Ð´Ð»Ñ ÑÑ‚Ð¸Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ñ€Ð°Ð·Ð½Ñ‹Ð¼Ð¸ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ°Ð¼Ð¸. Ð˜Ð·Ð±ÐµÐ¶Ð°Ñ‚ÑŒ Ñ‚Ð°ÐºÐ¸Ñ… Ð½ÐµÐ¶ÐµÐ»Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… ÐºÐ¾Ð»Ð»Ð¸Ð·Ð¸Ð¹ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸ Ð¤ÐŸ-ÑˆÐ½Ñ‹Ð¼Ð¸ ÑÑ€ÐµÐ´ÑÑ‚Ð²Ð°Ð¼Ð¸ Scala, Ð½Ð¾, Ð·Ð°Ñ‡Ð°ÑÑ‚ÑƒÑŽ, Ñ‚Ð°ÐºÐ¸Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ ÑÑ‡Ð¸Ñ‚Ð°ÑŽÑ‚ÑÑ Ð½ÐµÑ†ÐµÐ»ÐµÑÐ¾Ð¾Ð±Ñ€Ð°Ð·Ð½Ñ‹Ð¼Ð¸.

Ð”Ð°Ð»ÐµÐµ Ð¶Ðµ Ð¼Ñ‹ Ñ€Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ Ð±Ð¾Ð»ÐµÐµ Ð¤ÐŸ-Ð¾Ñ€Ð¸ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ ÑÐ¿Ð¾ÑÐ¾Ð±Ñ‹ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð².

## ÐšÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð²

Ð¢ÐµÑ€Ð¼Ð¸Ð½ "ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð²" Ð±ÑƒÐºÐ²Ð°Ð»ÑŒÐ½Ð¾ Ð¾Ñ‚Ñ€Ð°Ð¶Ð°ÐµÑ‚ Ð¸Ð´ÐµÑŽ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ Ð¿Ð¾ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ñ Ð½Ð¾Ð²Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ð¸Ð· ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ñ…. Ð•Ð´Ð¸Ð½Ð¾Ð¶Ð´Ñ‹ Ð¾Ð¿Ð¸ÑÐ°Ð² Ñ‚Ð°ÐºÐ¾Ð¹ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€ (Ð¸Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑ ÑƒÐ¶Ðµ Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ðµ Ð² ÑÐ·Ñ‹Ðº) Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹, Ð¿Ð¾Ð´ÑÑ‚Ð°Ð²Ð»ÑÑ Ñ€Ð°Ð·Ð½Ñ‹Ðµ Ð¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð² ÑÑ‚Ð¾Ñ‚ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€. Ð¢ÐµÑ€Ð¼Ð¸Ð½ Ð¾Ñ‚Ñ€Ð°Ð¶Ð°ÐµÑ‚ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½ÑƒÑŽ Ð¿Ñ€Ð¸Ñ€Ð¾Ð´Ñƒ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² - ÑÑ‚Ð¾, Ð¿Ð¾ ÑÑƒÑ‚Ð¸, Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð¸Ð· Ñ‚Ð¸Ð¿Ð¾Ð² Ð² Ñ‚Ð¸Ð¿ (Ð° Ð½Ðµ Ð¸Ð· Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ Ð² Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ, ÐºÐ°Ðº Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸).

Ð›ÑŽÐ±Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑÑ Ð²Ð¾ÐºÑ€ÑƒÐ³ Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑÑ ÐµÑ‘ Ñ‚ÐµÐ»Ð¾Ð¼. ÐŸÐ¾ÑÑ‚Ð¾Ð¼Ñƒ Ð² Ð¿ÐµÑ€Ð²Ð¾ÑŽ Ð¾Ñ‡ÐµÑ€ÐµÐ´ÑŒ Ñ€Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼, ÐºÐ°ÐºÐ¸Ðµ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð½Ð°Ð´ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð² ÑÐ·Ñ‹ÐºÐµ Scala.

### Ð’ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ðµ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð½Ð°Ð´ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸ Ð² Scala

Ð’ Scala 3 ÐµÑÑ‚ÑŒ Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ðµ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ Ð´Ð»Ñ Ð¿Ð¾ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ñ Ð½Ð¾Ð²Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ð¸Ð· ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ñ…:
- Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ñ‚Ð¸Ð¿ `A` - ÑÐ»ÑƒÑ‡Ð°Ð¹ Ð½Ð°ÑÑ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‚Ñ€Ð¸Ð²Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹, Ñ‡Ñ‚Ð¾ Ð»ÐµÐ³ÐºÐ¾ ÑƒÐ¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ ÐµÐ³Ð¾ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾ÑÑ‚ÑŒ,
- ÐºÐ¾Ñ€Ñ‚ÐµÐ¶ `(A, B, C)` - ÑÑƒÑ‚ÑŒ Ñ‚Ð¸Ð¿-Ð¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ,
- Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ Ñ‚Ð¸Ð¿Ð¾Ð² `A | B` - ÐµÑÐ»Ð¸ Ñ‚Ð¸Ð¿Ñ‹ Ñ€Ð°Ð·Ð½Ñ‹Ðµ, Ñ‚Ð¾ ÑÑ‚Ð¾ Ð°Ð½Ð°Ð»Ð¾Ð³Ð¸Ñ‡Ð½Ð¾ Ð¸Ñ… ÑÑƒÐ¼Ð¼Ðµ,
- Ð¿ÐµÑ€ÐµÑÐµÑ‡ÐµÐ½Ð¸Ðµ `A & B` - ÐµÑÐ»Ð¸ Ñ‚Ð¸Ð¿Ñ‹ Ñ€Ð°Ð·Ð½Ñ‹Ðµ, Ñ‚Ð¾ ÑÑ‚Ð¾ Ð°Ð½Ð°Ð»Ð¾Ð³Ð¸Ñ‡Ð½Ð¾ Ð¸Ñ… Ð¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸ÑŽ,
- "Ð²Ñ‹Ð·Ð¾Ð²" Ð´Ñ€ÑƒÐ³Ð¾Ð³Ð¾ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð° Ñ‚Ð¸Ð¿Ð¾Ð², Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€,
	- `A => B` - Ñ‚ÑƒÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð¿ÑÐµÐ²Ð´Ð¾Ð½Ð¸Ð¼ Ð´Ð»Ñ `Function[A, B]`,
	- `A Either B` - ÑÐ¸Ð½Ð¾Ð½Ð¸Ð¼ Ð´Ð»Ñ `Either[A, B]`,
	- `Option[A]`,
	- `Map[K, V]`,
	- `MySupperClass[A, B, C]` - ÐºÐ¾Ð½ÐµÑ‡Ð½Ð¾, Ð¼Ð¾Ð¶Ð½Ð¾ Ð²Ñ‹Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ Ð¸ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð², ÑÐ²ÑÐ·Ð°Ð½Ð½Ñ‹Ñ… Ñ ÐºÐ»Ð°ÑÑÐ°Ð¼Ð¸ (Ð¸Ð»Ð¸ Ñ‚Ñ€ÐµÐ¹Ñ‚Ð°Ð¼Ð¸), Ð½Ðµ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ñ‹Ð¼Ð¸ Ð² ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ð¹ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐµ Scala.
- ÑÐ¾Ð¿Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ ÑˆÐ°Ð±Ð»Ð¾Ð½Ð°Ð¼Ð¸ Ð´Ð»Ñ Ñ‚Ð¸Ð¿Ð¾Ð² - Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ½Ð¾ Ð½Ð¸Ð¶Ðµ Ð² Ñ€Ð°Ð·Ð´ÐµÐ»Ðµ "**Ð¡ÐµÐ¼ÐµÐ¹ÑÑ‚Ð²Ð° Ñ‚Ð¸Ð¿Ð¾Ð²**".

ÐšÐ¾Ð¼Ð±Ð¸Ð½Ð¸Ñ€ÑƒÑ ÑÑ‚Ð¸ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÑ‚ÑŒ Ñ‚Ð¸Ð¿Ñ‹ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ»Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸:
```scala
type NoAction = Unit   // Unit - Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ð¹ ÐµÐ´Ð¸Ð½Ð¸Ñ‡Ð½Ñ‹Ð¹ Ñ‚Ð¸Ð¿
type Log      = String // Ñ‚Ð°ÐºÐ¶Ðµ Ð²Ð¿Ð¾Ð»Ð½Ðµ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ðµ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ
type NewType  = NoAction | ((Service1 & Service2) => MyIO[(SingleResult Either List[AltResult], Log)])
//              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//                       Ð’Ð¾Ñ‚ Ñ‚Ð°ÐºÐ¾Ðµ ÐºÑƒÑ‡ÐµÑ€ÑÐ²Ð¾Ðµ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð»Ð¾ÑÑŒ. ÐšÐ¾Ð½ÐµÑ‡Ð½Ð¾, Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸ Ð´Ð»Ð¸Ð½Ð½ÐµÐµ))
```

### Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð½Ð°Ð´ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸

Ð˜Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€Ñ‹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð² Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¸, Ð¼Ð¾Ð³ÑƒÑ‚ Ð¾Ñ‚Ð½Ð¾ÑÐ¸Ñ‚ÑÑ ÐºÐ°Ðº Ðº Ð¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ð¼ Ð² Ñ‚ÐµÐºÑƒÑ‰ÐµÐ¼ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ðµ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸ÑÐ¼Ð¸, Ñ‚Ð°Ðº Ð±Ñ‹Ñ‚ÑŒ Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ñ‹Ð¼Ð¸, *ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ñ‹Ð¼Ð¸* Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¼Ð¸. Ð§Ñ‚Ð¾Ð±Ñ‹ Ð¸Ð¼ÐµÑ‚ÑŒ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð²Ñ‹Ñ‡Ð¸ÑÐ»Ð¸Ñ‚ÑŒ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ, Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ, *ÑÐ²ÑÐ·Ð°Ñ‚ÑŒ Ð²ÑÐµ ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ñ‹Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ* Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ñ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°Ð¼Ð¸, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¸ Ð²Ñ‹Ð·Ð¾Ð²Ðµ ÑÑ‚Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸.

Ð¡ ÑÑ‚Ð¾Ð¹ Ñ‚Ð¾Ñ‡ÐºÐ¸ Ð·Ñ€ÐµÐ½Ð¸Ñ ÑƒÐ´Ð¾Ð±Ð½Ð¾ Ñ€Ð°ÑÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ Ð¸ **Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ - ÑÑ‚Ð¾ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸, Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÑŽÑ‰Ð¸Ðµ Ð¸Ð· Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð¸Ð»Ð¸ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ð² Ñ‚Ð¸Ð¿**. ÐÐ½Ð°Ð»Ð¾Ð³Ð¸Ñ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Scala Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¼Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑÐ¼Ð¸ Ð½Ð°Ð³Ð»ÑÐ´Ð½ÐµÐµ Ð¿Ñ€Ð¾ÑÐ»ÐµÐ¶Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ð² Ð¾Ð±ÑŠÑÐ²Ð»ÐµÐ½Ð¸ÑÑ… _Ð¿ÑÐµÐ²Ð´Ð¾Ð½Ð¸Ð¼Ð¾Ð² Ñ‚Ð¸Ð¿Ð¾Ð²_ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ÐºÐ»ÑŽÑ‡ÐµÐ²Ð¾Ð³Ð¾ ÑÐ»Ð¾Ð²Ð° `type`:
```scala
type Union[A, B]          = A | B                     // Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ Ñ‚Ð¸Ð¿Ð¾Ð²
type OrErrorAndContext[x] = Union[(X, String), Error] // "Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ" Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ (ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€ Ñ‚Ð¸Ð¿Ð¾Ð²) Union
```
Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾, Ð¿Ð¾Ñ…Ð¾Ð¶Ðµ Ð½Ð° Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹, Ñ‚Ð¾Ð»ÑŒÐºÐ¾ "Ñ‚Ð¸Ð¿" Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð¸ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð° Ð½Ð¸Ð³Ð´Ðµ Ð½Ðµ ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ. Ð£ Ð½Ð¸Ñ… Ñƒ Ð²ÑÐµÑ… Ð¾Ð´Ð¸Ð½Ð°ÐºÐ¾Ð²Ñ‹Ð¹ "Ñ‚Ð¸Ð¿" - ÑÑ‚Ð¾ Ñ‚Ð¸Ð¿!)))

Ð’ Scala 3 Ñ‚Ð°ÐºÐ¶Ðµ ÐµÑÑ‚ÑŒ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð»Ð¸Ñ‚ÐµÑ€Ð°Ð»Ñ‹ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² - Î»-Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ñ‚Ð¸Ð¿Ð¾Ð²:
```scala
type WithContext = [A] =>> (A, String)                // Ð¿ÑÐµÐ²Ð´Ð¾Ð½Ð¸Ð¼ Ñ‚Ð¸Ð¿Ð°, Ð¾Ð¿ÐµÑ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ñ‹Ð¹ Ñ‡ÐµÑ€ÐµÐ· Î»-Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ 
```
ÐžÐ¿ÑÑ‚ÑŒ Ð¶Ðµ, ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ Ð¿Ð¾Ñ…Ð¾Ð¶ Ð½Ð° Î»-Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹.

Ð”Ð»Ñ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð², Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÑŽÑ‰Ð¸Ð¹ Ñ€Ð¾Ð²Ð½Ð¾ Ð´Ð²Ð° Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð° Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð° Ð¸Ð½Ñ„Ð¸ÐºÑÐ½Ð°Ñ Ð·Ð°Ð¿Ð¸ÑÑŒ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð¸Ð½Ð¾Ð³Ð´Ð° Ð±Ñ‹Ð²Ð°ÐµÑ‚ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð°, Ð° Ð¸Ð½Ð¾Ð³Ð´Ð° - Ð½Ðµ Ð¾Ñ‡ÐµÐ½ÑŒ:
```scala
// ÐµÑÐ»Ð¸ Ñ‚Ð°ÐºÐ¾Ð¹ ÐºÐ¾Ð´ ÐºÐ¾Ð¼Ð¿Ð¸Ð»Ð¸Ñ€ÑƒÐµÑ‚ÑÑ, Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ñ‹ ÑÐºÐ²Ð¸Ð²Ð°Ð»ÐµÐ½Ñ‚Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð¿Ð¾ Ð¾Ð±Ðµ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ‹ =:= 
summon[(Either[String, Int]) =:= (String Either Int)]     // Ð±Ð»Ð¸Ð·ÐºÐ¾ Ðº ÐµÑÑ‚ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ð¼Ñƒ ÑÐ·Ñ‹ÐºÑƒ "ÑÑ‚Ñ€Ð¾ÐºÐ° Ð¸Ð»Ð¸ Ñ†ÐµÐ»Ð¾Ðµ Ñ‡Ð¸ÑÐ»Ð¾"
//      ^^^^^^                           ^^^^^^
//   Ð¾Ð±Ñ‹Ñ‡Ð½Ð°Ñ Ð·Ð°Ð¿Ð¸ÑÑŒ                  Ð¸Ð½Ñ„Ð¸ÐºÑÐ½Ð°Ñ Ð·Ð°Ð¿Ð¸ÑÑŒ 
summon[(Function[String, Int]) =:= (String Function Int)] // Ð° Ñ Ñ‚Ð°ÐºÐ¸Ð¼ Ñ‚Ð¸Ð¿Ð¾Ð¼ Ð¸Ð½Ñ„Ð¸ÐºÑÐ½Ð°Ñ Ð·Ð°Ð¿Ð¸ÑÑŒ Ñ‡Ð¸Ñ‚Ð°ÐµÑ‚ÑÑ Ñ…ÑƒÐ¶Ðµ
```
Ð¡ Ð´Ñ€ÑƒÐ³Ð¾Ð¹ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ‹, Scala Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¾Ð±ÑŠÑÐ²Ð»ÑÑ‚ÑŒ Ð¸Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€Ñ‹, ÑÐ¾ÑÑ‚Ð¾ÑÑ‰Ð¸Ðµ Ð¸Ð· ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ñ… ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð², Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ð¾Ð²Ñ‹ÑÐ¸Ñ‚ÑŒ Ñ‡Ð¸Ñ‚Ð°ÐµÐ¼Ð¾ÑÑ‚ÑŒ:
```scala
type =>[A, B] = Function[A, B] // Ñ‚Ð°ÐºÐ¾Ð¹ Ð¿ÑÐµÐ²Ð´Ð¾Ð½Ð¸Ð¼ ÑƒÐ¶Ðµ ÐµÑÑ‚ÑŒ Ð² ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ð¹ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐµ
type  Ã—[A, B] = (A, B)         // Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿ÑÐµÐ²Ð´Ð¾Ð½Ð¸Ð¼ Ð´Ð»Ñ Ñ‚Ð¸Ð¿Ð° Ð¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ñ

// Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð¿ÑÐµÐ²Ð´Ð¾Ð½Ð¸Ð¼Ñ‹ Ð¸Ð· ÑÐ¿ÐµÑ†-ÑÐ¸Ð²Ð¾Ð»Ð¾Ð² Ð² Ð¸Ð½Ñ„Ð¸ÐºÑÐ½Ð¾Ð¹ Ñ„Ð¾Ñ€Ð¼Ðµ:
val func: Int => String = _.toString
val pair: Int Ã— String  = (5, "Ð¿ÑÑ‚ÑŒ")
```

ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ñ‚Ð¸Ð¿ Ñ…Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€Ð¸Ð·ÑƒÐµÑ‚ÑÑ Ð½Ð°Ð±Ð¾Ñ€Ð¾Ð¼ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹-ÑÑ‚Ñ€ÐµÐ»Ð¾Ðº, ÑÐ²ÑÐ·Ñ‹Ð²Ð°ÑŽÑ‰Ð¸Ñ… Ð¾Ð´Ð½Ð¸ Ñ‚Ð¸Ð¿Ñ‹ Ñ Ð´Ñ€ÑƒÐ³Ð¸Ð¼Ð¸. ÐžÐ±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÑŽÑ‚ ÑÐ²ÑÐ·Ñ‹Ð²Ð°Ñ‚ÑŒ Ð¼ÐµÐ¶Ð´Ñƒ ÑÐ¾Ð±Ð¾Ð¹ Ð»ÑŽÐ±Ñ‹Ðµ Ñ‚Ð°ÐºÐ¸Ðµ Ð½Ð°Ð±Ð¾Ñ€Ñ‹ ÑÑ‚Ñ€ÐµÐ»Ð¾Ðº Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹, Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÐ¼Ñ‹Ñ… Ñ‚ÐµÐ»Ð¾Ð¼ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð° (ÐºÐ¾Ð¼Ð±Ð¸Ð½Ð°Ñ†Ð¸Ð¸ ÑÑƒÐ¼Ð¼, Ð¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ð¹, ÑÐºÑÐ¿Ð¾Ð½ÐµÐ½Ñ†Ð¸Ð°Ð»Ð¾Ð² Ð¸ Ñ‚.Ð¿.):
![[Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ð¾Ðµ Ð²ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð´Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð¼.png|ÐžÐ±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ð¹ Ñ‚Ð¸Ð¿ F[_] ÑÐ²ÑÐ·Ñ‹Ð²Ð°ÐµÑ‚ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ñ€Ð¾Ð² Ð¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ñ Ñ‚Ð¸Ð¿Ð¾Ð² Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ñ‚Ð¸Ð¿ B Ñ Ñ‚Ð¸Ð¿Ð¾Ð¼, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¿Ð¾Ð´ÑÑ‚Ð°Ð²Ð»ÐµÐ½ Ð² Ñ‚ÐµÐ»Ð¾ F Ð²Ð¼ÐµÑÑ‚Ð¾ A.]]

### ÐžÐ±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ Ñ€ÐµÐºÑƒÑ€ÑÐ¸Ð²Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹

ÐžÑÐ¾Ð±Ð¾Ð³Ð¾ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ñ Ð·Ð°ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°ÐµÑ‚ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð¾Ð±ÑŠÑÐ²Ð»ÑÑ‚ÑŒ Ñ‚Ð¸Ð¿Ñ‹ Ñ€ÐµÐºÑƒÑ€ÑÐ¸Ð²Ð½Ð¾, ÐºÐ¾Ð³Ð´Ð° Ð² Ñ‚ÐµÐ»Ðµ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð¸Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ Ð¾Ð±ÑŠÑÐ²Ð»ÑÐµÐ¼Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð°. 

Ð’ Scala Ñ€ÐµÐºÑƒÑ€ÑÐ¸Ð²Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð·Ð°Ñ‡Ð°ÑÑ‚ÑƒÑŽ Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÑŽÑ‚ÑÑ Ð² ÐžÐžÐŸ-ÑÑ‚Ð¸Ð»Ðµ, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€,
```scala
sealed trait List[A]
case object Nil                                  extends List[Nothing] // Ð¿Ð¾Ñ‡ÐµÐ¼Ñƒ Nothing - Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°ÑÑÐºÐ°Ð·Ð°Ð½Ð¾ Ð´Ð°Ð»ÐµÐµ
final case class Cons[A](head: A, tail: List[A]) extends List[A]

val myList: List[Int] = Cons(1, Cons(2, Cons(3, Cons(2, Cons(1, Nil))))) // 1, 2, 3, 2, 1
```
Ð ÐµÐºÑƒÑ€ÑÐ¸Ð²Ð½Ð¾ÑÑ‚ÑŒ `List` Ñ Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ Ð²Ð·Ð³Ð»ÑÐ´Ð°, Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾, Ð½ÐµÐ·Ð°Ð¼ÐµÑ‚Ð½Ð°. ÐžÐ½Ð° ÑÐ¿Ñ€ÑÑ‚Ð°Ð½Ð° Ð·Ð° Ð½Ð°ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ ÐºÐ»Ð°ÑÑÐ¾Ð² (`extends`). Ð¡Ð¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ Ð¾Ð±ÑŠÑÐ²Ð»ÐµÐ½Ð½Ñ‹Ð¼ ÐºÐ»Ð°ÑÑÐ°Ð¼ Ñ‚Ð¸Ð¿Ñ‹ Ð¼Ð¾Ð¶Ð½Ð¾ Ð·Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ñ‚Ð°Ðº:
$$\begin{align} 
List[A] &= Nil + Cons[A],\\
Cons[A] &= A \times List[A],\\
Nil &\cong 1.\\
\end{align}$$
Ð’ Ð¸Ñ‚Ð¾Ð³Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ÑÑ Ñ€Ð°Ð²ÐµÐ½ÑÑ‚Ð²Ð¾, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ Ñ€ÐµÐºÑƒÑ€ÑÐ¸Ñ Ð²Ð¸Ð´Ð½Ð° ÑÐ²Ð½Ð¾:
$$List[A] \cong 1 + A \times List[A].$$
(Ð•ÑÐ»Ð¸ Ð²Ð¼ÐµÑÑ‚Ð¾ $A$ Ð¿Ð¾Ð´ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ñ‚Ð¸Ð¿ $Nothing \cong 0$, Ñ‚Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ ÑƒÐ±ÐµÐ´Ð¸Ñ‚ÑŒÑÑ, Ñ‡Ñ‚Ð¾ $List[Nothing] \cong 1 \cong Nil$.)
Ð¢Ð°ÐºÐ¸Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼, ÑÐ¿Ð¸ÑÐ¾Ðº - ÑÑ‚Ð¾ Ð»Ð¸Ð±Ð¾ Ð¿ÑƒÑÑ‚Ð¾Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº, Ð»Ð¸Ð±Ð¾ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ (Ð³Ð¾Ð»Ð¾Ð²Ð°) Ð¸ Ð´Ñ€ÑƒÐ³Ð¾Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº (Ñ…Ð²Ð¾ÑÑ‚).

ÐŸÑ€Ð¾ÑÑƒÐ¼Ð¼Ð¸Ñ€ÑƒÐµÐ¼ Ñ‚Ð°ÐºÐ¾Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº:
```scala
def sum(list: List[Int]): Int = list match
  case Nil              => 0
  case Cons(head, tail) => head + sum(tail) // Ñ‚ÑƒÑ‚ Ñ€ÐµÐºÑƒÑ€ÑÐ¸Ñ!
```
ÐŸÑ€Ð¾ÑÐ»ÐµÐ¶Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ð¾Ñ‡ÐµÐ²Ð¸Ð´Ð½Ð°Ñ Ð·Ð°ÐºÐ¾Ð½Ð¾Ð¼ÐµÑ€Ð½Ð¾ÑÑ‚ÑŒ - Ð´Ð»Ñ Ñ€ÐµÐºÑƒÑ€ÑÐ¸Ð²Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ð½ÑƒÐ¶Ð½Ñ‹ Ñ€ÐµÐºÑƒÑ€ÑÐ¸Ð²Ð½Ñ‹Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹!

ÐŸÐ¾Ð»ÑŒÐ·ÑƒÑÑÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÑƒÐ¼Ð¼Ð¾Ð¹ Ð¸ Ð¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸ÐµÐ¼ Ñ‚Ð¸Ð¿Ð¾Ð² Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ñ€ÐµÐºÑƒÑ€ÑÐ¸Ð¸ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð»ÑŽÐ±Ñ‹Ðµ Ð´Ñ€ÐµÐ²Ð¾Ð²Ð¸Ð´Ð½Ñ‹Ðµ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€,
```scala
sealed trait NonEmptyTree[A]
final case class Leaf[A](value: A) extends NonEmptyTree[A]
final case class Node[A](left: NonEmptyTree[A], right: NonEmptyTree[A]) extends NonEmptyTree[A]
```
Ð¢Ñ€ÐµÐ¹Ñ‚Ñƒ `NonEmptyTree` ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ñ‚Ð°ÐºÐ¾Ð¹ Ñ‚Ð¸Ð¿:
$$NonEmptyTree[A] \cong A + NonEmptyTree[A] \times NonEmptyTree[A].$$

ÐžÐ±ÑŠÑÐ²Ð¸Ñ‚ÑŒ Ñ€ÐµÐºÑƒÑ€ÑÐ¸Ð²Ð½Ñ‹Ð¹ Ñ‚Ð¸Ð¿ Ð² Ð°ÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð²ÐµÑ€ÑÐ¸Ð¸ Scala Ð±ÐµÐ· Ð¿Ñ€Ð¸Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ñ ÐžÐžÐŸ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð·Ð°Ñ‚Ñ€ÑƒÐ´Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾. ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ñ‚Ð°ÐºÐ°Ñ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ Ð½Ðµ ÑÐºÐ¾Ð¼Ð¿Ð¸Ð»Ð¸Ñ€ÑƒÐµÑ‚ÑÑ:
```scala
type List[A] = Unit + (A, List[A]) // illegal cyclic type reference...
```
ÐšÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ‚Ð¾Ñ€ Ð¿Ñ‹Ñ‚Ð°ÐµÑ‚ÑÑ "Ð¶Ð°Ð´Ð½Ð¾" Ð²Ñ‹Ñ‡Ð¸ÑÐ»Ð¸Ñ‚ÑŒ Ñ‚Ð¸Ð¿, ÑÐ¿Ñ€ÑÑ‚Ð°Ð½Ð½Ñ‹Ð¹ Ð·Ð° Ð¿ÑÐµÐ²Ð´Ð¾Ð½Ð¸Ð¼Ð¾Ð¼, Ð½Ð¾, Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ð² Ð±ÐµÑÐºÐ¾Ð½ÐµÑ‡Ð½ÑƒÑŽ Ñ€ÐµÐºÑƒÑ€ÑÐ¸ÑŽ, ÑÐ¾Ð¾Ð±Ñ‰Ð°ÐµÑ‚ Ð¾Ð± Ð¾ÑˆÐ¸Ð±ÐºÐµ. Ð’Ñ‹Ð³Ð»ÑÐ´Ð¸Ñ‚ ÐºÐ°Ðº Ð½ÐµÐ´Ð¾Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ‚Ð¾Ñ€Ð°, Ñ‚Ð°Ðº ÐºÐ°Ðº ÐµÑÑ‚ÑŒ Ð¾Ð±Ñ…Ð¾Ð´Ð½Ð¾Ð¹ Ð¿ÑƒÑ‚ÑŒ Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼Ð° ÑÐ¾Ð¿Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ñ ÑˆÐ°Ð±Ð»Ð¾Ð½Ð°Ð¼Ð¸ Ð½Ð° ÑƒÑ€Ð¾Ð²Ð½Ðµ Ñ‚Ð¸Ð¿Ð¾Ð² - Ñ‚Ð°Ð¼ Ñ‚Ð¸Ð¿Ñ‹ Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÑÑŽÑ‚ÑÑ "Ð»ÐµÐ½Ð¸Ð²Ð¾" Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ñ Ñ€ÐµÐºÑƒÑ€ÑÐ¸ÐµÐ¹ Ð½Ðµ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ°ÐµÑ‚ (ÑÑ‚Ð¾Ñ‚ Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼ Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ½ Ð² Ñ€Ð°Ð·Ð´ÐµÐ»Ðµ "**Ð¡ÐµÐ¼ÐµÐ¹ÑÑ‚Ð²Ð° Ñ‚Ð¸Ð¿Ð¾Ð²**").

Ð¢Ð°ÐºÐ¸Ðµ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ Ð´Ñ€ÐµÐ²Ð¾Ð²Ð¸Ð´Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð¸Ð½Ð¾Ð³Ð´Ð° Ð½Ð°Ð·Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ *Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ‚Ð½Ñ‹Ð¼Ð¸ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…* (Ð½ÐµÐ¸Ð·Ð¼ÐµÐ½ÑÐµÐ¼Ñ‹Ð¼Ð¸). ÐžÐ½Ð¸ Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÑŽÑ‚ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ð¸ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ð¾Ð¹ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ "Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ" Ð»ÑŽÐ±Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð»ÑŽÐ±Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð°. Ð’ Ñ‡Ð°ÑÑ‚Ð½Ð¾ÑÑ‚Ð¸, Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð²Ñ‹Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð½Ð¾Ð¹ Ñ€Ð°Ð·Ð½Ð¾Ð²Ð¸Ð´Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð´ÐµÑ€ÐµÐ²Ð°.

ÐÐµÑ‚Ñ€Ð¸Ð²Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ ÐºÐ¾Ð½Ñ†ÐµÐ¿Ñ†Ð¸Ð¸ Ñ€ÐµÐºÑƒÑ€ÑÐ¸Ð²Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‚Ð¸Ñ‚ÑŒ, ÐµÑÐ»Ð¸ Ð´Ð»Ñ Ð¿Ð¾ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ñ Ð·Ð°Ð´ÐµÐ¹ÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐºÑÐ¿Ð¾Ð½ÐµÐ½Ñ†Ð¸Ð°Ð» Ñ‚Ð¸Ð¿Ð¾Ð². ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð´Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ Ð½Ð° Ð´Ð²Ð° ÑÐ¸Ð¼Ð¼ÐµÑ‚Ñ€Ð¸Ñ‡Ð½Ñ‹Ñ… Ð´Ñ€ÑƒÐ³ Ð´Ñ€ÑƒÐ³Ñƒ Ñ‚Ð¸Ð¿Ð°:
```scala
case class SelfModifyingHandler[A](f: A      => SelfModifyingHandler[A])
case class Wtf[A]                 (f: Wtf[A] => A)
```
ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ°Ð¼Ð¾ÑÑ‚Ð¾ÑÑ‚ÐµÐ»ÑŒÐ½Ð¾ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ ÑÑ‚Ð¸Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ð¸ Ð² ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸ÑÑ… Ð¾Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¸ Ð¸Ñ… Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ (Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ñ Ñ‚Ð¾Ð»ÑÑ‚Ð¾ Ð½Ð°Ð¼ÐµÐºÐ°ÑŽÑ‚...).

Ð¢ÐµÐ¼Ð° Ñ€ÐµÐºÑƒÑ€ÑÐ¸Ð²Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ð¸ Ñ€ÐµÐºÑƒÑ€ÑÐ¸Ð¸ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð½Ð°ÑÑ‚Ð¾Ð»ÑŒÐºÐ¾ Ð±Ð¾Ð³Ð°Ñ‚Ð°, Ñ‡Ñ‚Ð¾ ÑÑ‚Ð°Ñ‚ÑŒÑ Ð¾ Ð½ÐµÐ¹ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒÑÑ Ð´Ð°Ð¶Ðµ Ð±Ð¾Ð»ÑŒÑˆÐµ Ñ‡ÐµÐ¼ ÑÑ‚Ð°. Ð’ Ð½ÐµÐ¹ Ñ…Ð¾Ñ‚ÐµÐ»Ð¾ÑÑŒ Ð±Ñ‹ Ñ€Ð°ÑÑÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¾ Ñ‚Ð°ÐºÐ¸Ñ… Ð²ÐºÑƒÑÐ½Ð¾ÑÑ‚ÑÑ…, ÐºÐ°Ðº
- Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ Ð½Ð° Ñ€ÐµÐºÑƒÑ€ÑÐ¸ÑŽ (Ð¸Ð»Ð¸ "Ñ‡Ñ‚Ð¾ Ð½Ðµ Ñ‚Ð°Ðº Ñ Ñ‚Ð¸Ð¿Ð¾Ð¼ `Wtf`");
- Ñ…Ð²Ð¾ÑÑ‚Ð¾Ð²Ð°Ñ Ñ€ÐµÐºÑƒÑ€ÑÐ¸Ñ, Ñ‚Ñ€Ð°Ð¼Ð¿Ð»Ð¸Ð½Ñ‹;
- Ñ€ÑÐ´ Ð¢ÐµÐ¹Ð»Ð¾Ñ€Ð° Ð¸ ÐºÐ¾Ñ€Ð½Ð¸ Ð¼Ð½Ð¾Ð³Ð¾Ñ‡Ð»ÐµÐ½Ð¾Ð² Ð´Ð»Ñ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ… Ñ€ÐµÐºÑƒÑ€ÑÐ¸Ð²Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² ;
- Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð½Ñ‹Ðµ Ð¾Ñ‚ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ… Ñ€ÐµÐºÑƒÑ€ÑÐ¸Ð²Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð²;
- ÐºÐ¾Ð¼Ð±Ð¸Ð½Ð°Ñ‚Ð¾Ñ€Ñ‹ Ð½ÐµÐ¿Ð¾Ð´Ð²Ð¸Ð¶Ð½Ð¾Ð¹ Ñ‚Ð¾Ñ‡ÐºÐ¸;
- ÑÑ…ÐµÐ¼Ñ‹ Ñ€ÐµÐºÑƒÑ€ÑÐ¸Ð¸ (ÐºÐ°Ñ‚Ð°-, Ð°Ð½Ð°- Ð¸ Ð¿Ñ€Ð¾Ñ‡Ð¸Ðµ Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ñ‹).
ÐžÑ‡ÐµÐ½ÑŒ Ð½Ð°Ð´ÐµÑŽÑÑŒ, Ñ‡Ñ‚Ð¾ Ð½Ð°Ð¹Ð´Ñ‘Ñ‚ÑÑ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¸ Ñ‚Ð°ÐºÐ¾Ð¹ Ð¾Ð±Ð·Ð¾Ñ€.

## ÐŸÐ¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹

### Ð Ð°Ð·Ð½Ð¾Ð²Ð¸Ð´Ð½Ð¾ÑÑ‚Ð¸ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ð°

ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹, Ð½Ð°Ð¸Ð±Ð¾Ð»ÐµÐµ Ð¾Ð±Ñ‰ÐµÐµ, Ñ‡Ñ‚Ð¾ Ñ ÐºÐ¾Ð³Ð´Ð°-Ð»Ð¸Ð±Ð¾ ÑÐ»Ñ‹ÑˆÐ°Ð», Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ *Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ð° Ð² Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸* - ÑÑ‚Ð¾ ÑÐ²Ð¾Ð¹ÑÑ‚Ð²Ð¾ Ñ„Ñ€Ð°Ð³Ð¼ÐµÐ½Ñ‚Ð° ÐºÐ¾Ð´Ð°, Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÑŽÑ‰ÐµÐ³Ð¾ Ð½ÐµÐºÑƒÑŽ Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½ÑƒÑŽ ÑÐµÐ¼Ð°Ð½Ñ‚Ð¸ÐºÑƒ, Ð¿Ñ€Ð¸Ð¾Ð±Ñ€ÐµÑ‚Ð°Ñ‚ÑŒ Ñ€Ð°Ð·Ð½Ñ‹Ðµ ÑÐ¼Ñ‹ÑÐ»Ð¾Ð²Ñ‹Ðµ Ð¾Ñ‚Ñ‚ÐµÐ½ÐºÐ¸ Ð² Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð°Ñ…. Ð¢Ð°ÐºÐ¸Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼, Ð² Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð°, ÑÑ‚Ð¾Ñ‚ ÐºÐ¾Ð´ Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÑ‚ Ñ†ÐµÐ»Ð¾Ðµ "Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ð¾ ÑÐ¼Ñ‹ÑÐ»Ð¾Ð²Ñ‹Ñ… Ñ„Ð¾Ñ€Ð¼", Ñ‚Ð¾ ÐµÑÑ‚ÑŒ, ÑÐ²Ð»ÑÐµÑ‚ÑÑ *Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ð¼*.

Ð’ Ð’Ð¸ÐºÐ¸Ð¿ÐµÐ´Ð¸Ð¸ [Ð¿Ñ€Ð¸Ð²Ð¾Ð´Ð¸Ñ‚ÑÑ](https://ru.wikipedia.org/wiki/%D0%9F%D0%BE%D0%BB%D0%B8%D0%BC%D0%BE%D1%80%D1%84%D0%B8%D0%B7%D0%BC_(%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0)) ÐºÐ°Ð½Ð¾Ð½Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ð° - ÑÑ‚Ð¾ ÑÐ¿Ð¾ÑÐ¾Ð±Ð½Ð¾ÑÑ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¾Ð±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð². Ð¢Ð°Ð¼ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚ÑÑ Ð¾ Ð´Ð²ÑƒÑ… Ð¾ÑÐ½Ð¾Ð²Ð½Ñ‹Ñ… Ñ€Ð°Ð·Ð½Ð¾Ð²Ð¸Ð´Ð½Ð¾ÑÑ‚ÑÑ… Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ð° - ÑƒÐ½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ð¾Ð¼ (Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¸Ñ‡ÐµÑÐºÐ¾Ð¼) Ð¸ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¼ (ad-hoc). Ð¢Ð°ÐºÐ°Ñ ÐºÐ»Ð°ÑÑÐ¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ Ð¾Ð¿Ð¸Ñ€Ð°ÐµÑ‚ÑÑ Ð½Ð° Ð¿Ð¾Ð½ÑÑ‚Ð¸Ðµ *Ð´ÑƒÐ°Ð»Ð¸Ð·Ð¼Ð°* Ð² Ñ‚ÐµÐ¾Ñ€Ð¸Ð¸ ~~Ñ‚Ð¸Ð¿Ð¾Ð²~~ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¹.

Ð Ð°Ð·Ð½Ñ‹Ðµ Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð»Ð¸ Ð¿Ñ€Ð¸Ð²Ð¾Ð´ÑÑ‚ Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ð¾ Ñ€Ð°Ð·Ð½Ð¾Ð²Ð¸Ð´Ð½Ð¾ÑÑ‚ÐµÐ¹ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ð°. Ð•ÑÐ»Ð¸ ÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ Ð¸Ñ… Ð²ÑÐµ Ð²Ð¼ÐµÑÑ‚Ðµ, Ñ‚Ð¾ Ð½Ð°Ð±ÐµÑ€Ñ‘Ñ‚ÑÑ Ñ†ÐµÐ»Ð°Ñ Ð´ÑŽÐ¶Ð¸Ð½Ð°. ÐÐ¾, Ñ‚Ð°Ðº Ð¸Ð»Ð¸ Ð¸Ð½Ð°Ñ‡Ðµ, Ð»ÑŽÐ±Ð¾Ð¹ Ñ‚Ð°ÐºÐ¾Ð¹ Ð¿Ð¾Ð´Ð²Ð¸Ð´ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ñ‚ÑÐ½ÑƒÑ‚ÑŒ Ð·Ð° ÑƒÑˆÐ¸ Ð»Ð¸Ð±Ð¾ Ðº ÑƒÐ½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ð¾Ð¼Ñƒ, Ð»Ð¸Ð±Ð¾ Ðº ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¼Ñƒ (Ð¸Ð»Ð¸ Ð¶Ðµ Ðº Ð¸Ñ… ÑÐ¾Ñ‡ÐµÑ‚Ð°Ð½Ð¸ÑÐ¼).

ÐžÑ‚Ð´ÐµÐ»ÑŒÐ½Ð¾ ÑÑ‚Ð¾Ð¸Ñ‚ ÑÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ð² ÑÐ·Ñ‹ÐºÐ°Ñ… Ñ Ð´Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸ÐµÐ¹. ÐšÐ°Ðº Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¾, Ð² Ñ‚Ð°ÐºÐ¸Ñ… ÑÐ·Ñ‹ÐºÐ°Ñ… ÑÐ²Ð½Ð¾ Ñ‚Ð¸Ð¿Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¼Ð¸ Ð¾ÑÑ‚Ð°ÑŽÑ‚ÑÑ Ð»Ð¸ÑˆÑŒ Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ðµ Ð°Ñ€Ð¸Ñ„Ð¼ÐµÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸. Ð’ Ð¾ÑÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ð¼ÐµÑÑ‚Ð°Ñ… Ñ‚Ð¸Ð¿Ñ‹ Ð¿Ð¾ÑÐ²Ð»ÑÑŽÑ‚ÑÑ Ñƒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð² Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÐ¸ Ð¸Ñ… Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ð² Ñ‚Ð¸Ð¿Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑÑ…. Ð’Ð½Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð° Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ñ‚Ð¸Ð¿Ñ‹ Ñ‚ÐµÑ€Ð¼Ð¾Ð² Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð½Ðµ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ñ‹, Ñ‡Ñ‚Ð¾, Ð² Ñ‡Ð°ÑÑ‚Ð½Ð¾ÑÑ‚Ð¸, Ð½Ðµ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¿Ñ€Ð¾Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÑƒÑŽ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÑƒ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ÑÑ‚Ð¸ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹ Ð´Ð¾ ÐµÑ‘ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ. ÐÐ¾ Ñ‚ÐµÐ¾Ñ€Ð¸Ñ Ñ‚Ð¸Ð¿Ð¾Ð² ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ð»Ð°ÑÑŒ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð´Ð»Ñ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡ÐµÐ½Ð¸Ñ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ÑÑ‚Ð¸ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð° Ð² Ñ†ÐµÐ»Ð¾Ð¼, *Ð´Ð»Ñ Ð»ÑŽÐ±Ñ‹Ñ… Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ñ‹Ñ… ÑƒÑÐ»Ð¾Ð²Ð¸Ð¹*, Ð° Ð½Ðµ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð² Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… Ñ‡Ð°ÑÑ‚Ð½Ñ‹Ñ… ÑÐ»ÑƒÑ‡Ð°ÐµÐ². Ð¢Ð°Ðº Ñ‡Ñ‚Ð¾, Ð½Ðµ ÑÐ¼Ð¾Ñ‚Ñ€Ñ Ð½Ð° Ñ‚Ð¾, Ñ‡Ñ‚Ð¾ Ð¿Ñ€Ð¸ Ð´Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð²ÐµÑÑŒ ÐºÐ¾Ð´ ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ñ„Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ð¼ (Ð¼Ð¾Ð¶ÐµÑ‚ ÑÑ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ ÑÐ¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑÐ¼Ð¸ Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð²), Ð´Ð°Ð»ÐµÐµ Ð´Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ð½Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°ÑÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒÑÑ.

ÐŸÑ€Ð¸ Ð½Ñ‹Ð½ÐµÑˆÐ½ÐµÐ¼ Ð·Ð°ÑÐ¸Ð»ÑŒÐµ Ð¾Ð±ÑŠÐµÐºÑ‚Ð½Ð¾-Ð¾Ñ€Ð¸ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð¹ Ð¿Ð°Ñ€Ð°Ð´Ð¸Ð³Ð¼Ñ‹ Ñƒ Ð¼Ð½Ð¾Ð³Ð¸Ñ… Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸ÑÑ‚Ð¾Ð² Ð¼Ð¾Ð³Ð»Ð¾ ÑÐ»Ð¾Ð¶Ð¸Ñ‚ÑŒÑÑ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¾ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ðµ, ÐºÐ°Ðº Ð»Ð¸ÑˆÑŒ Ð¾Ð± Ð¾Ð´Ð½Ð¾Ð¼ Ð¸Ð· "ÑÑ‚Ð¾Ð»Ð¿Ð¾Ð² ÐžÐžÐŸ". ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð¿ÐµÑ€ÐµÐ¹Ð´Ñ [Ð¿Ð¾ Ð¾Ð´Ð½Ð¾Ð¹](https://blog.skillfactory.ru/glossary/polimorfizm/) Ð¸Ð· Ð¿ÐµÑ€Ð²Ñ‹Ñ… ÑÑÑ‹Ð»Ð¾Ðº Ð² Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð°Ñ… Ð¿Ð¾Ð¸ÑÐºÐ° Ð¿Ð¾ ÑÐ»Ð¾Ð²Ñƒ "Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼", Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¾Ñ‡ÐµÑÑ‚ÑŒ:
> ÐŸÐ¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ (polymorphism) â€” ÑÑ‚Ð¾ Ð¿Ð¾Ð½ÑÑ‚Ð¸Ðµ Ð¸Ð· Ð¾Ð±ÑŠÐµÐºÑ‚Ð½Ð¾-Ð¾Ñ€Ð¸ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ñ€Ð°Ð·Ð½Ñ‹Ð¼ ÑÑƒÑ‰Ð½Ð¾ÑÑ‚ÑÐ¼ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑ‚ÑŒ Ð¾Ð´Ð½Ð¸ Ð¸ Ñ‚Ðµ Ð¶Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ. ÐŸÑ€Ð¸ ÑÑ‚Ð¾Ð¼ Ð½ÐµÐ²Ð°Ð¶Ð½Ð¾, ÐºÐ°Ðº ÑÑ‚Ð¸ ÑÑƒÑ‰Ð½Ð¾ÑÑ‚Ð¸ ÑƒÑÑ‚Ñ€Ð¾ÐµÐ½Ñ‹ Ð²Ð½ÑƒÑ‚Ñ€Ð¸ Ð¸ Ñ‡ÐµÐ¼ Ð¾Ð½Ð¸ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð°ÑŽÑ‚ÑÑ.

ÐÐµ ÑƒÐ²ÐµÑ€ÐµÐ½, Ñ‡Ñ‚Ð¾ Ð¸Ð¼ÐµÐµÑ‚ ÑÐ¼Ñ‹ÑÐ» ÑƒÐ¿Ñ€ÐµÐºÐ°Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ñ€Ð¾Ð² Ð¿Ð¾Ð´Ð¾Ð±Ð½Ñ‹Ñ… Ñ†Ð¸Ñ‚Ð°Ñ‚ Ð² Ñ‚Ð¾Ð¼, Ñ‡Ñ‚Ð¾ Ð¾Ð½Ð¸ Ð²Ð²Ð¾Ð´ÑÑ‚ Ð² Ð·Ð°Ð±Ð»ÑƒÐ¶Ð´ÐµÐ½Ð¸Ðµ Ñ‡Ð¸Ñ‚Ð°Ñ‚ÐµÐ»Ñ. ÐŸÐ¾Ð¿ÑƒÐ»ÑÑ€Ð½Ð¾ÑÑ‚ÑŒ ÐºÐ°ÐºÐ¾Ð³Ð¾-Ð»Ð¸Ð±Ð¾ Ð¼Ð½ÐµÐ½Ð¸Ñ Ð¿Ñ€ÐµÐ²Ð°Ð»Ð¸Ñ€ÑƒÐµÑ‚ Ð² Ð¼Ð°ÑÑÐ¾Ð²Ð¾Ð¼ ÑÐ¾Ð·Ð½Ð°Ð½Ð¸Ð¸ Ð½Ð°Ð´ ÐµÐ³Ð¾ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾Ð¼, ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ÑÑ‚ÑŒÑŽ. Ð”Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð»ÑƒÑ‡ÑˆÐµ Ñ€Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ ÐžÐžÐŸ-ÑˆÐ½Ñ‹Ð¹ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ñ‡ÑƒÑ‚ÑŒ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ.

### ÐŸÐ¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¾Ð²

Ð Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¸Ð¼ÐµÑ€:
```scala
trait Person { val name: String def sayHello(): String }
case class FranÃ§ais(name: String)Â extends Person { def sayHello() = "Bon aprÃ¨s-midi!" }
case class Ð ÑƒÑÑÐºÐ¸Ð¹ (name: String)Â extends Person { def sayHello() = "Ð—Ð´Ð°Ñ€Ð¾Ð²!" }

def dialogWith(person: Person) = {
  println("ÐŸÑ€Ð¸Ð²ÐµÑ‚, " + person.name)
  println(person.sayHello())              // 1
}

val Ð¤Ñ€Ð°Ð½Ñ†ÑƒÐ° = FranÃ§ais("FranÃ§ois")
val Ð’Ð°ÑÐ¸Ð»Ð¸Ð¹ = Ð ÑƒÑÑÐºÐ¸Ð¹("Ð’Ð°ÑÑ")
dialogWith(Ð¤Ñ€Ð°Ð½Ñ†ÑƒÐ°); dialogWith(Ð’Ð°ÑÐ¸Ð»Ð¸Ð¹)  // 2
```
Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾, Ñƒ ÐºÐ¾Ð³Ð¾-Ñ‚Ð¾ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ½ÐµÑ‚ Ð²Ð¿ÐµÑ‡Ð°Ñ‚Ð»ÐµÐ½Ð¸Ðµ, Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ñ‚ÑƒÑ‚ Ð¿Ñ€Ð¾ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð² ÑÑ‚Ñ€Ð¾ÐºÐµ Ñ Ð¿Ð¾Ð¼ÐµÑ‚ÐºÐ¾Ð¹ `1`, Ð²ÐµÐ´ÑŒ Ð¸Ð¼ÐµÐ½Ð½Ð¾ Ñ‚Ð°Ð¼ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ðµ Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ð° `sayHello` Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ÑÑ "Ñ‚Ð¸Ð¿Ð¾Ð¼ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ", ÑÐ¿Ñ€ÑÑ‚Ð°Ð½Ð½Ð¾Ð³Ð¾ Ð·Ð° Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¹ `person`. ÐÐ¾ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð° Ð² Ñ‚Ð¾Ð¼, Ñ‡Ñ‚Ð¾, Ð¿Ð¾ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸ÑŽ, Ñ‚Ð¸Ð¿Ñ‹ Ð¿Ñ€Ð¸Ð²ÑÐ·Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ Ðº Ñ‚ÐµÑ€Ð¼Ð°Ð¼ ÑÐ·Ñ‹ÐºÐ° (Ð»Ð¸Ñ‚ÐµÑ€Ð°Ð»Ð°Ð¼, Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¼, Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸ÑÐ¼), Ð° Ð½Ðµ Ðº Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑÐ¼, Ñ€Ð°Ð·Ð¼ÐµÑ‰Ñ‘Ð½Ð½Ñ‹Ð¼ Ð² Ð¿Ð°Ð¼ÑÑ‚Ð¸ ÐºÐ¾Ð¼Ð¿ÑŒÑŽÑ‚ÐµÑ€Ð°. 
>ÐžÑ‡ÐµÑ€ÐµÐ´Ð½Ð¾Ð¹ Ñ€Ð°Ð· Ð·Ð°Ð¼ÐµÑ‡Ñƒ, Ñ‡Ñ‚Ð¾, Ð´Ð°, Ñƒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ, Ð·Ð°Ñ‡Ð°ÑÑ‚ÑƒÑŽ, ÐµÑÑ‚ÑŒ ÑÑÑ‹Ð»ÐºÐ° Ð½Ð° Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ ÐºÐ»Ð°ÑÑÐ°, ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð¾Ð¼ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ ÑÑ‚Ð¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð¾, Ð¸ ÐºÐ»Ð°ÑÑ ÑÐ²ÑÐ·Ð°Ð½ Ñ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¼ Ñ‚Ð¸Ð¿Ð¾Ð¼, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ *Ð²Ð¾ Ð²Ñ€ÐµÐ¼Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ* Ð¿Ñ€Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð² Ñ‚ÐµÑ… Ð¸Ð»Ð¸ Ð¸Ð½Ñ‹Ñ… Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸ÑÑ…, Ð½Ð¾, ÐºÐ°Ðº ÑƒÐ¶Ðµ Ð±Ñ‹Ð»Ð¾ ÑÐºÐ°Ð·Ð°Ð½Ð¾, Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ð½Ð° ÑÑ‚Ð¾Ð¼ Ð´Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ð½Ðµ Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚ Ð² Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐµ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ÑÑ‚Ð¸ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð°, Ð¸ Ð¼Ñ‹ Ð½Ðµ Ð±ÑƒÐ´ÐµÐ¼ ÐµÐ³Ð¾ Ñ€Ð°ÑÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ.

Ð’ Ð´Ð°Ð½Ð½Ð¾Ð¼ Ð¶Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ðµ Ñƒ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¹ `person` Ñ‚Ð¸Ð¿ `Person` Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½ Ð² ÑÐ¸Ð³Ð½Ð°Ñ‚ÑƒÑ€Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ð°, ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾, Ð¿Ð¾ (Ð±Ð¾Ð»ÐµÐµ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ð¼Ñƒ) Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸ÑŽ Ð¸Ð· Ð’Ð¸ÐºÐ¸Ð¿ÐµÐ´Ð¸Ð¸, Ñ‚ÑƒÑ‚ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ð° Ð½ÐµÑ‚. ÐÐ¾, ÑÐ¾Ð³Ð»Ð°ÑÐ½Ð¾ Ñ‚Ð¾Ð¼Ñƒ Ð¶Ðµ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸ÑŽ, Ð¾Ð½ ÐµÑÑ‚ÑŒ Ð² ÑÑ‚Ñ€Ð¾ÐºÐµ Ñ Ð¿Ð¾Ð¼ÐµÑ‚ÐºÐ¾Ð¹ `2` - Ð¿Ñ€Ð¸ Ð²Ñ‹Ð·Ð¾Ð²Ð°Ñ… Ð¼ÐµÑ‚Ð¾Ð´Ð°, Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÑŽÑ‰Ð¸Ñ… Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ Ñ‚Ð¸Ð¿Ð° `Person`, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ñ‚Ð¸Ð¿Ð¾Ð², `FranÃ§ais` Ð¸ `Ð ÑƒÑÑÐºÐ¸Ð¹`. Ð’ ÑÑ‚Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐµ ÑÑ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ Ð½ÐµÑÐ²Ð½Ð¾Ðµ Ð¿Ñ€Ð¸Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð¾Ñ‚ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¾Ð² Ðº ÑÑƒÐ¿ÐµÑ€Ñ‚Ð¸Ð¿Ñƒ. Ð˜Ð¼ÐµÐ½Ð½Ð¾ Ð½ÐµÑÐ²Ð½Ð¾Ðµ Ð¿Ñ€Ð¸Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð¾Ñ‚ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð° Ðº ÑÑƒÐ¿ÐµÑ€Ñ‚Ð¸Ð¿Ñƒ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ ÐžÐžÐŸ-ÑˆÐ½Ñ‹Ð¹ *Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¾Ð²*! ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, ÐµÑÐ»Ð¸ Ð±Ñ‹ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ `dialogWith` Ð¾Ð±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ð»Ð°ÑÑŒ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸Ñ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ Ñ‚Ð¸Ð¿Ð° `Person`, Ñ‚Ð¾ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ð¼ Ð±Ñ‹Ð»Ð¾ Ð±Ñ‹ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ ÐºÐ»Ð°ÑÑÐ¾Ð² `FranÃ§ais` Ð¸ `Ð ÑƒÑÑÐºÐ¸Ð¹` Ð² ÑÑ‚Ñƒ ÐºÐ¾Ð»Ð»ÐµÐºÑ†Ð¸ÑŽ.

Ð’Ñ‹Ð·Ð¾Ð² Ð¿Ð¾ Ð¸Ð¼ÐµÐ½Ð¸ Ð¼ÐµÑ‚Ð¾Ð´Ð°, Ð¿ÐµÑ€ÐµÐ³Ñ€ÑƒÐ¶ÐµÐ½Ð½Ð¾Ð³Ð¾ Ð² Ð½ÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ð¾Ð¼ Ð¿Ð¾Ð´ÐºÐ»Ð°ÑÑÐµ, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ÑÑ Ð¿Ð¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑŽ `person` - ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑÑ Ð¼ÐµÐ½ÐµÐµ "Ñ‡ÑƒÐ´ÐµÑÐ½Ñ‹Ð¼", ÐµÑÐ»Ð¸ Ð²ÑÐ¿Ð¾Ð¼Ð½Ð¸Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ ÑÑƒÑ‚ÑŒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð°. ÐŸÐ¾ ÑÑÑ‹Ð»ÐºÐµ `person` Ð¼Ð¾Ð¶Ð½Ð¾ Ð´Ð¾Ð±Ñ€Ð°Ñ‚ÑŒÑÑ Ð´Ð¾ Ñ€Ð°Ð·Ð¼ÐµÑ‰Ñ‘Ð½Ð½Ð¾Ð¹ Ð² Ð¿Ð°Ð¼ÑÑ‚Ð¸ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ñ… Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð², Ð° ÑƒÐ¶Ðµ Ð² ÑÑ‚Ð¾Ð¹ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ Ð»ÐµÐ¶Ð°Ñ‚ *ÑÑÑ‹Ð»ÐºÐ¸ Ð½Ð° Ð¼ÐµÑ‚Ð¾Ð´Ñ‹* Ð¸Ð¼ÐµÐ½Ð½Ð¾ Ñ‚Ð¾Ð³Ð¾ Ð¿Ð¾Ð´ÐºÐ»Ð°ÑÑÐ°, ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð¾Ð¼ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ ÑÑ‚Ð¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð±Ñ‹Ð»Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð¾. Ð¢.Ðµ. Ð² Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ¼ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ðµ Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿ÐµÑ€ÐµÐ¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÑ‚Ð¸ Ñ‚Ñ€Ð¸ ÑÑ‚Ñ€Ð¾Ñ‡ÐºÐ¸ (Ð¸ Ð²Ñ‹ÐºÐ¸Ð½ÑƒÑ‚ÑŒ ÐºÐ»Ð°ÑÑÑ‹-Ð½Ð°ÑÐ»ÐµÐ´Ð½Ð¸ÐºÐ¸)
```scala
case class Person(val name: String, val sayHello: Unit => String)
val Ð¤Ñ€Ð°Ð½Ñ†ÑƒÐ° = Person(       "FranÃ§ois",           ()   => "Bon aprÃ¨s-midi!")
val Ð’Ð°ÑÐ¸Ð»Ð¸Ð¹ = Person(       "Ð’Ð°ÑÑ",               ()   => "Ð—Ð´Ð°Ñ€Ð¾Ð²!")
```
Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ñ‚Ð¾Ñ‚ Ð¶Ðµ ÑÐ°Ð¼Ñ‹Ð¹ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚, Ð½Ð¾ ÑƒÐ¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ð°.

Ð¡Ð»ÐµÐ´ÑƒÑ Ð’Ð¸ÐºÐ¸Ð¿ÐµÐ´Ð¸Ð¸, Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¾Ð² Ð¾Ñ‚Ð½Ð¾ÑÐ¸Ñ‚ÑÑ Ðº Ñ€Ð°Ð·Ð½Ð¾Ð²Ð¸Ð´Ð½Ð¾ÑÑ‚Ð¸ *ÑƒÐ½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ð° Ñ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸ÑÐ¼Ð¸ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ð¸* - Ð¾Ð± ÑÑ‚Ð¾Ð¼ Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð°Ð»ÐµÐµ. ÐÐ¾ Ñ Ð´Ñ€ÑƒÐ³Ð¾Ð¹ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ‹, ÑÐ°Ð¼Ð¸ ÑÑ‚Ð¸ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ Ð¼Ð¾Ð¶Ð½Ð¾ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ *ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ð°*, Ð¾ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°ÑÑÐºÐ°Ð·Ð°Ð½Ð¾ Ð² Ñ€Ð°Ð·Ð´ÐµÐ»Ðµ **ÐšÐ»Ð°ÑÑÑ‹ Ñ‚Ð¸Ð¿Ð¾Ð²**.

### Ð£Ð½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ð¸ Î»-Ð¸ÑÑ‡Ð¸ÑÐ»ÐµÐ½Ð¸Ðµ

Ð¡Ð°Ð¼Ð¾ Ð¿Ð¾Ð½ÑÑ‚Ð¸Ðµ ÑƒÐ½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ (Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾) Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ð° Ð¿Ð¾ÑÐ²Ð¸Ð»Ð¾ÑÑŒ Ð² Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ñ **$\lambda$-Ð¸ÑÑ‡Ð¸ÑÐ»ÐµÐ½Ð¸Ñ**. Ð­Ñ‚Ð° Ñ„Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ð»Ð¾ÑÑŒ ÐºÐ°Ðº Ñ„ÑƒÐ½Ð´Ð°Ð¼ÐµÐ½Ñ‚Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÐ·Ñ‹Ðº, Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ñ‹ Ð½Ð° ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ Ð¼Ð¾Ð¶Ð½Ð¾ Ð±Ñ‹Ð»Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð½Ð° Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÑƒÑŽ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ÑÑ‚ÑŒ.

Ð˜Ð·Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ð¾ $\lambda$-Ð¸ÑÑ‡Ð¸ÑÐ»ÐµÐ½Ð¸Ðµ Ð±Ñ‹Ð»Ð¾ [Ð±ÐµÐ·Ñ‚Ð¸Ð¿Ð¾Ð²Ð¾Ð²Ñ‹Ð¼](https://ru.wikipedia.org/wiki/%D0%9B%D1%8F%D0%BC%D0%B1%D0%B4%D0%B0-%D0%B8%D1%81%D1%87%D0%B8%D1%81%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5). Ð¢Ð°Ð¼ Ð±Ñ‹Ð»Ð¾ Ð²Ð²ÐµÐ´ÐµÐ½Ð¾ Ð¿Ð¾Ð½ÑÑ‚Ð¸Ðµ $\lambda$-Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ†Ð¸Ð¸ Ñ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¾Ð¼ Ð°Ð¿Ð¿Ð»Ð¸ÐºÐ°Ñ†Ð¸Ð¸ (Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ):
$$\begin{align}
f&:=\lambda x.\;2\cdot x+1;\\
f\;5\equiv f(5)&=2\cdot 5+1=11.
\end{align} $$

Ð—Ð°Ñ‚ÐµÐ¼ Ð¿Ð¾ÑÐ²Ð¸Ð»Ð¾ÑÑŒ [Ð¿Ñ€Ð¾ÑÑ‚Ð¾-Ñ‚Ð¸Ð¿Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð°](https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%BE%D1%81%D1%82%D0%BE_%D1%82%D0%B8%D0%BF%D0%B8%D0%B7%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D0%B5_%D0%BB%D1%8F%D0%BC%D0%B1%D0%B4%D0%B0-%D0%B8%D1%81%D1%87%D0%B8%D1%81%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5) $\lambda^{\rightarrow}$.  Ð—Ð´ÐµÑÑŒ Ñƒ ÐºÐ°Ð¶Ð´Ð¾Ð¹ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ ÑÐ²ÑÐ·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ ÐºÐ²Ð°Ð½Ñ‚Ð¾Ñ€Ð¾Ð¼ $\lambda$ Ñ„Ð¸ÐºÑÐ¸Ñ€ÑƒÐµÑ‚ÑÑ Ð¼ÐµÑ‚ÐºÐ°-Ñ‚Ð¸Ð¿ (ÑÐ²Ð½Ð¾ - Ð² ÑÑ‚Ð¸Ð»Ðµ Ð§Ñ‘Ñ€Ñ‡Ð°): 
$$\begin{align}
\lambda x:A.M;\\
\end{align} $$
Ð¢Ð¸Ð¿ ÑÐ°Ð¼Ð¾Ð³Ð¾ $\lambda$-Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð¾Ð´Ð½Ð¾Ð·Ð½Ð°Ñ‡Ð½Ð¾ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ÑÑ Ð¿Ð¾ Ñ‚Ð¸Ð¿Ñƒ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð° $x$ Ð¸ Ñ‚ÐµÐ»Ñƒ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ $M$.

ÐžÐ±Ð¾Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ $\lambda^{\rightarrow}$ (ÑÑ‚Ñ€ÐµÐ»Ð¾Ñ‡ÐºÐ°) ÑÐ²ÑÐ·Ð°Ð½Ð¾ Ñ Ñ‚ÐµÐ¼, Ñ‡Ñ‚Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð¼Ð¾Ð¶Ð½Ð¾ Ð²Ñ‹Ñ€Ð°Ð·Ð¸Ñ‚ÑŒ [Ð² ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ Ð§Ñ‘Ñ€Ñ‡Ð°](https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%B4%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D0%A7%D1%91%D1%80%D1%87%D0%B0), Ñ‚.Ðµ. ÐºÐ°Ðº Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð²Ñ‹ÑÑˆÐµÐ³Ð¾ Ð¿Ð¾Ñ€ÑÐ´ÐºÐ°:
```scala
type Zero Â  Â  = Any  Â  Â  Â  // ðŸ˜ â‰… Any
type One Â  Â  Â = Any => Any // ðŸ™ â‰… Any => Any
type Bool Â  Â  = Any => One // ðŸš â‰… Any => Any => Any
type Natural Â = One => One // â„• â‰… (Any => Any) => Any => Any - Ð½Ð°Ñ‚ÑƒÑ€Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ñ‡Ð¸ÑÐ»Ð° Ð¿Ð¾ ÐŸÐµÐ°Ð½Ð¾
```
ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€:
```scala
val ifTrue: Bool = happyWay => unhappyWay => happyWay

val one  : Natural = suc => z =>         suc(z)
val three: Natural = suc => z => suc(suc(suc(z)))

val choose: Bool = ifTrue
val result = choose(one)(three) // one
```

Ð”Ð°Ð»ÑŒÐ½ÐµÐ¹ÑˆÐµÐµ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ðµ - Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ð°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° $\lambda2$ ([ÑÐ¸ÑÑ‚ÐµÐ¼Ð° F](https://ru.wikipedia.org/wiki/%D0%A1%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0_F)). Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð² $\lambda$-Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¸ ÑÑ‚Ð°Ð»Ð¾ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ²ÑÐ·Ñ‹Ð²Ð°Ñ‚ÑŒ Ð½Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ, Ð½Ð¾ Ð¸ Ñ‚Ð¸Ð¿Ð¾Ð²Ñ‹Ðµ:
$$\begin{align}
\lambda A:*.\; \lambda x:A.M;\\
\end{align} $$
Ð—Ð´ÐµÑÑŒ $*$ - ÑÑ‚Ð¾ "Ñ‚Ð¸Ð¿ Ñ‚Ð¸Ð¿Ð°". Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° $\lambda2$ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÑ‚ÑŒ *Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸*. Ð’ Ð¸Ð·Ð¾Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ðµ ÐšÐ°Ñ€Ñ€Ð¸-Ð¥Ð¾Ð²Ð°Ñ€Ð´Ð° Ñ‚Ð¸Ð¿Ñ‹ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‚ ÑƒÑ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸ÑÐ¼, ÑÐ²Ð¾Ð¹ÑÑ‚Ð²Ð°Ð¼ Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð², ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾, ÑÐ¸ÑÑ‚ÐµÐ¼Ð° $\lambda2$ Ð°ÑÑÐ¾Ñ†Ð¸Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ñ [Ð»Ð¾Ð³Ð¸ÐºÐ¾Ð¹ Ð²Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ð¿Ð¾Ñ€ÑÐ´ÐºÐ°](https://en.wikipedia.org/wiki/Second-order_logic) (Ð¾Ñ‚ÑÑŽÐ´Ð° Ð¸ Ð´Ð²Ð¾Ð¹ÐºÐ° Ð² Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ð¸).

Ð’ Scala 3 Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ Ð´Ð»Ñ Ñ‚Ð¸Ð¿Ð¾Ð² Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹:
```scala
def foldWithContext[A, B](aWithContext: WithContext[A])(folder: (A, String) => B)
  = folder(aWithContext._1, aWithContext._2)
val foldWithContextVal                                  // Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ð¾Ð³Ð¾ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð°
  : [A, B] => WithContext[A] => ((A, String) => B) => B // Ñ‚Ð¸Ð¿      âˆ€A,B. WithContext[A] â†’ ((A, String) â†’ B) â†’ B
  = foldWithContext                                     // Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Î»A,B. Î»a:WithContext[A]. Î»f:(A,String) â†’ B. f(a._1, a._2)
```
Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ñ‚Ð°ÐºÐ¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð° Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿ÐµÑ€ÐµÐ´Ð°Ð²Ð°Ñ‚ÑŒ Ð² Ð¼ÐµÑ‚Ð¾Ð´Ñ‹, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… Ð±ÑƒÐ´ÐµÑ‚ Ñ€ÐµÑˆÐ°Ñ‚ÑŒÑÑ, ÐºÐ°ÐºÐ¸Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð¿Ð¾Ð´ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ð´Ð»Ñ ÑÑ‚Ð¸Ñ… Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹.

ÐÐ°ÐºÐ¾Ð½ÐµÑ† ÐµÑ‰Ñ‘ Ð±Ð¾Ð»ÐµÐµ Ð¿Ñ€Ð¾Ð´Ð²Ð¸Ð½ÑƒÑ‚Ð°Ñ [ÑÐ¸ÑÑ‚ÐµÐ¼Ð°](https://en.wikipedia.org/wiki/Lambda_cube#%CE%BB%CF%89) $\lambda\omega$  (Ð¸Ð»Ð¸ $F\omega$) Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ñ‚Ð¸Ð¿Ñ‹, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑ $\lambda$-Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ
$$
List = \lambda A.\; \forall B.\; (A\rightarrow B\rightarrow B)\rightarrow B\rightarrow B;\\
$$
Ð˜Ð¼ÐµÐ½Ð½Ð¾ Ñ‚ÑƒÑ‚ Ð¿Ð¾ÑÐ²Ð»ÑÑŽÑ‚ÑÑ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ðµ (Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ) Ñ‚Ð¸Ð¿Ñ‹:
```scala
type List = [A] =>> [B] => (A => B => B) => B => B

def emptyList[A]: List[A] =
  [B] => (aggr: A => B => B) => (start: B) => start

def append[A](lst: List[A], a: A): List[A] =
  [B] => (aggr: A => B => B) => (start: B) => aggr(a)(lst(aggr)(start))

def fold[A, B](lst: List[A], start: B, aggr: A => B => B): B = lst(aggr)(start)

val myList = append(append(append(emptyList[Int], 1), 2), 3) // [1, 2, 3] 
fold(myList, "ÑÐ¿Ð¸ÑÐ¾Ðº:", i => _ + " " + i)                    // "ÑÐ¿Ð¸ÑÐ¾Ðº: 1 2 3"
```
Ð¡Ð°Ð¼Ð¸ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ, Ð½Ð° ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… ÑÑ‚Ñ€Ð¾ÑÑ‚ÑÑ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹, Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÑŽÑ‚ ÑÐ¿Ð¾ÑÐ¾Ð±Ñ‹ Ð¸Ñ… Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ - ÑÐ²ÑÐ·Ð°Ð½Ð½Ñ‹Ðµ Ñ Ð½Ð¸Ð¼Ð¸ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸. ÐšÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ‚Ð¾Ñ€ ÑÐ°Ð¼ Ð¼Ð¾Ð¶ÐµÑ‚ (ÐµÐ³Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ Ð½Ð°ÑƒÑ‡Ð¸Ñ‚ÑŒ) ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ñ‚Ð°ÐºÐ¸Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð´Ð»Ñ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð², Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð¶ÐµÑ‚ Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ ÑÐ¾ÐºÑ€Ð°Ñ‚Ð¸Ñ‚ÑŒ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÐºÐ¾Ð´Ð°, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚ÑÑ Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸ÑÑ‚Ð°Ð¼ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ.

Ð’Ð²Ð¸Ð´Ñƒ Ñ‚Ð¾Ð³Ð¾, Ñ‡Ñ‚Ð¾ Ð² Ñ‚Ð°ÐºÐ¸Ñ… Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð°Ñ… Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ ÑÐ²ÑÐ·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ñ‡ÐµÑ€ÐµÐ· ÐºÐ²Ð°Ð½Ñ‚Ð¾Ñ€ "*Ð´Ð»Ñ Ð»ÑŽÐ±Ð¾Ð³Ð¾*", Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ð½Ð°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ *ÑƒÐ½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ñ‹Ð¼*. ÐŸÐ¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼, Ð³Ð´Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ð¹ ÐºÐ²Ð°Ð½Ñ‚Ð¾Ñ€ "*ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚*", Ð½Ð°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ *ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¼* - Ð¾Ð½ Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ½ Ð¿Ð¾Ð·Ð¶Ðµ.

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½Ð¾ÑÑ‚ÑŒ

Ð¯Ð²Ð»ÑÐµÑ‚ÑÑ Ð»Ð¸ ÑÐ¿Ð¸ÑÐ¾Ðº ÑÑ‚Ñ€Ð¾Ðº ÑÐ¿Ð¸ÑÐºÐ¾Ð¼ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð»ÑŒÐ½Ñ‹Ñ… Ð¾Ð±ÑŠÐµÐºÑ‚Ð¾Ð²? ÐšÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½ÐµÐµ, Ð¼Ð¾Ð¶Ð½Ð¾ Ð»Ð¸ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‚ÑŒ Ñ‚ÐµÑ€Ð¼ Ñ‚Ð¸Ð¿Ð° `List[String]` Ð² Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚ Ñ‚Ð¸Ð¿Ð° `List[Any]`? ÐžÐ¿Ñ‹Ñ‚Ð½Ñ‹Ð¼ Ð¿ÑƒÑ‚Ñ‘Ð¼ Ð¼Ð¾Ð¶Ð½Ð¾ ÑƒÐ±ÐµÐ´Ð¸Ñ‚ÑŒÑÑ, Ñ‡Ñ‚Ð¾ Ð² Scala (Ð´Ð° Ð¸ Ð²Ð¾ Ð¼Ð½Ð¾Ð³Ð¸Ñ… Ð´Ñ€ÑƒÐ³Ð¸Ñ… ÑÐ·Ñ‹ÐºÐ°Ñ…) ÑÑ‚Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ. ÐÐ¾ Ð²Ð¾Ñ‚, Ð½Ð°Ð¾Ð±Ð¾Ñ€Ð¾Ñ‚, Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‚ÑŒ Ñ‚ÐµÑ€Ð¼ Ñ‚Ð¸Ð¿Ð° `List[Any]` Ð² Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ, Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÑŽÑ‰ÑƒÑŽ `List[String]` ÑƒÐ¶Ðµ Ð½Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑÑ. ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ÑÑ, Ñ‡Ñ‚Ð¾ `List[String]` ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¾Ð¼ `List[Any]` Ð¸, Ð¾Ñ‡ÐµÐ²Ð¸Ð´Ð½Ð¾, Ð±ÐµÐ·Ð¾ Ð²ÑÑÐºÐ¾Ð³Ð¾ Ð½Ð°ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ! ÐŸÐ¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ð² Ñ Ð´Ñ€ÑƒÐ³Ð¸Ð¼Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ð¼Ð¸ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸, Ð¼Ð¾Ð¶Ð½Ð¾ Ð·Ð°Ð¼ÐµÑ‚Ð¸Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ `List` *Ñ‚Ñ€Ð°Ð½ÑÐ»Ð¸Ñ€ÑƒÐµÑ‚* Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ñ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ ÑÐ²Ð¾Ð¸Ñ… Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð².

ÐÐ¾ ÐµÑÐ»Ð¸ Ð¼Ñ‹ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐµÐ¼ Ð¿Ñ€Ð¾Ð²ÐµÑÑ‚Ð¸ Ð°Ð½Ð°Ð»Ð¾Ð³Ð¸Ñ‡Ð½Ñ‹Ðµ ÑÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚Ñ‹ Ñ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸, ÑÐºÐ°Ð¶ÐµÐ¼, `String => Int` Ð¸ `Any => Int` Ñ‚Ð¾ ÑƒÐ²Ð¸Ð´Ð¸Ð¼ Ð¿Ñ€ÑÐ¼Ð¾ Ð¿Ñ€Ð¾Ñ‚Ð¸Ð²Ð¾Ð¿Ð¾Ð»Ð¾Ð¶Ð½ÑƒÑŽ ÐºÐ°Ñ€Ñ‚Ð¸Ð½Ñƒ:
```scala
type Func[X] = X => Int // Ð¿ÑÐµÐ²Ð´Ð¾Ð½Ð¸Ð¼ Ð´Ð»Ñ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÑ‚Ð¾Ñ€Ð° Ñ‚Ð¸Ð¿Ð¾Ð² Function1

// ÐºÐ¾Ð¼Ð¿Ð¸Ð»Ð¸Ñ€ÑƒÐµÑ‚ÑÑ, Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ Ñ‚Ð°ÐºÐ°Ñ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ñ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð°
summon[ Â  Â  String Â <:< Â  Â  Â Any]
summon[List[String] <:< List[Any]]
summon[Func[Any]    <:< Func[String]]
```
ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ÑÑ, Ñ‡Ñ‚Ð¾ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€ Ñ‚Ð¸Ð¿Ð¾Ð² `[X] =>> X => Int` Ð¾Ð±Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸ÑŽ Ð² Ð¾Ð±Ñ€Ð°Ñ‚Ð½ÑƒÑŽ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñƒ! (Ð”Ð»Ñ Ð´ÑƒÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð° `[X] =>> Int => X` Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑÐ½Ð¾Ð²Ð° Ð¾ÐºÐ°Ð¶ÐµÑ‚ÑÑ Ð¿Ñ€ÑÐ¼Ð¾Ð¹)))

Ð Ð²Ð¾Ñ‚ ÐµÑÐ»Ð¸ Ð¼Ñ‹ Ð½Ð°Ð¸Ð²Ð½Ð¾ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐµÐ¼ Ñ‚Ð¾ Ð¶Ðµ ÑÐ°Ð¼Ð¾Ðµ ÑÐ¾ ÑÐ²Ð¾Ð¸Ð¼ ÐºÐ»Ð°ÑÑÐ¾Ð¼, Ñƒ Ð½Ð°Ñ Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑÑ:
```scala
class Test[A](val a: A)
summon[Test[String] <:< Test[Any]]    // Ð¾ÑˆÐ¸Ð±ÐºÐ°!
summon[Test[Any] Â  Â <:< Test[String]] // Ð¾ÑˆÐ¸Ð±ÐºÐ°!
```

Ð§Ñ‚Ð¾Ð±Ñ‹ Ñ€Ð°Ð·Ð¾Ð±Ñ€Ð°Ñ‚ÑŒÑÑ Ð² Ñ‡Ñ‘Ð¼ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ð°, Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ [~~Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿Ñ€Ð¾Ñ‡ÐµÑÑ‚ÑŒ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÑŽ~~](https://docs.scala-lang.org/ru/tour/variances.html) Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð½Ð° Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ñ‚Ð¸Ð¿Ð¾Ð² `List` Ð¸ `Function` (`=>`) Ð² ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ð¹ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐµ:
```scala
type List    [+A]     = scala.collection.immutable.List[A]
type Function[-A, +B] = Function1[A, B]
```
Ð˜Ð¼ÐµÐ½Ð½Ð¾ Ð·Ð½Ð°Ñ‡ÐºÐ¸ Ð¿ÐµÑ€ÐµÐ´ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð°Ð¼Ð¸ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð¾Ð² Ñ‚Ð¸Ð¿Ð¾Ð² Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÑŽÑ‚ Ð²Ð¸Ð´ *Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½Ð¾ÑÑ‚Ð¸*:
- `+` Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚ Ð¿Ñ€ÑÐ¼ÑƒÑŽ *ÐºÐ¾Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½ÑƒÑŽ* Ñ‚Ñ€Ð°Ð½ÑÐ»ÑÑ†Ð¸ÑŽ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ð¸,
- `-` - Ð¸Ð½Ð²ÐµÑ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½ÑƒÑŽ, *ÐºÐ¾Ð½Ñ‚Ñ€Ð°Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½ÑƒÑŽ*,
- Ð½ÐµÑ‚ Ð·Ð½Ð°Ñ‡ÐºÐ° - Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð±Ð»Ð¾ÐºÐ¸Ñ€ÑƒÐµÑ‚ÑÑ - *Ð¸Ð½Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½Ð¾ÑÑ‚ÑŒ*.
(ÐŸÑÐµÐ²Ð´Ð¾Ð½Ð¸Ð¼Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð² Ð¿Ð¾-ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð¿Ñ€Ð¾Ð±Ñ€Ð°ÑÑ‹Ð²Ð°ÑŽÑ‚ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½Ð¾ÑÑ‚ÑŒ ÑÐ²Ð¾Ð¸Ñ… Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹ Ð±ÐµÐ· Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹.)

Ð’ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ð¾Ð¼ Ð²Ñ‹ÑˆÐµ ÐºÐ»Ð°ÑÑÐµ `Test` Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ `A` Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð²Ð¾ÑÐºÐ¾ - Ð¸ ÐºÐ°Ðº Ñ‚Ð¸Ð¿ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð° ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð° (ÐºÐ¾Ð½Ñ‚Ñ€Ð°Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½Ð¾), Ð¸ ÐºÐ°Ðº Ñ‚Ð¸Ð¿ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ñ€Ð° Ð¿Ð¾Ð»Ñ `a` (ÐºÐ¾Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½Ð¾). Ð¡Ð»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾, Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ð¹ Ñ‚Ð¸Ð¿, ÑÐ²ÑÐ·Ð°Ð½Ð½Ñ‹Ð¹ Ñ ÑÑ‚Ð¸Ð¼ ÐºÐ»Ð°ÑÑÐ¾Ð¼, ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¸Ð½Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½Ñ‹Ð¼. ÐŸÐ¾Ð¿Ñ‹Ñ‚ÐºÐ¸ Ð¿Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ð² ÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚Ð½Ñ‹Ñ… ÑÐºÐ¾Ð±ÐºÐ°Ñ… Ð¿ÐµÑ€ÐµÐ´ `A` Ð¿Ð»ÑŽÑ Ð¸Ð»Ð¸ Ð¼Ð¸Ð½ÑƒÑ Ð¿Ñ€Ð¸Ð²ÐµÐ´ÑƒÑ‚ Ðº Ð¾ÑˆÐ¸Ð±ÐºÐµ ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ†Ð¸Ð¸ Ð²Ð¸Ð´Ð° `contravariant type A occurs in covariant position in type A of value a` ("ÐºÐ¾Ð½Ñ‚Ñ€Ð°Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½Ñ‹Ð¹ Ñ‚Ð¸Ð¿ A Ð¿Ð¾ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð² ÐºÐ¾Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½Ð¾Ð¹ *Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸* Ñ‚Ð¸Ð¿Ð° Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð¹ a"). Ðž ÐºÐ°ÐºÐ¾Ð¹ Ð¶Ðµ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ Ñ‚ÑƒÑ‚ Ð¸Ð´Ñ‘Ñ‚ Ñ€ÐµÑ‡ÑŒ?

ÐÐ° Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ð²Ð·Ð³Ð»ÑÐ´ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒÑÑ, Ñ‡Ñ‚Ð¾ Ð¸Ð¼ÐµÐµÑ‚ÑÑ Ð²Ð²Ð¸Ð´Ñƒ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ñ "Ð¾Ñ‚Ð½Ð¾ÑÐ¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ ÑÑ‚Ñ€ÐµÐ»ÐºÐ¸" `=>`:
- Ð¾Ñ‚Ñ€Ð¸Ñ†Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ñ (Ð·Ð½Ð°Ðº `-`), ÐµÑÐ»Ð¸ ÑÐ»ÐµÐ²Ð° Ð¾Ñ‚ ÑÑ‚Ñ€ÐµÐ»ÐºÐ¸ Ð¸
- Ð¿Ð¾Ð»Ð¾Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ñ (Ð·Ð½Ð°Ðº `+`), ÐµÑÐ»Ð¸ ÑÐ¿Ñ€Ð°Ð²Ð°.
ÐÐ¾ Ð½Ðµ Ð²ÑÑ‘ Ñ‚Ð°Ðº Ð¿Ñ€Ð¾ÑÑ‚Ð¾))). ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð²Ð¾Ñ‚ ÑÑ‚Ð¾Ñ‚ Ñ‚Ð¸Ð¿ Ð²Ð½ÐµÐ·Ð°Ð¿Ð½Ð¾ Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ ÐºÐ¾Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½Ñ‹Ð¼:
```scala
type Func[+X] = (X => Int) => Int
summon[Func[String] <:< Func[Any]]
```
ÐÑ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚ `X` ÑÑ‚Ð¾Ð¸Ñ‚ Ð»ÐµÐ²ÐµÐµ ÑÑ€Ð°Ð·Ñƒ Ð´Ð²ÑƒÑ… ÑÑ‚Ñ€ÐµÐ»Ð¾Ðº - Ð´Ð²Ð°Ð¶Ð´Ñ‹ Ð¾Ñ‚Ñ€Ð¸Ñ†Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ñ Ð¿Ñ€ÐµÐ²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ÑÑ Ð² Ð¿Ð¾Ð»Ð¾Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½ÑƒÑŽ! Ðž Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ð°Ñ… Ñ‚Ð°ÐºÐ¾Ð³Ð¾ Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ Ð·Ð½Ð°ÐºÐ¾Ð² Ð±ÑƒÐ´ÐµÑ‚ ÑÐºÐ°Ð·Ð°Ð½Ð¾ Ð² Ñ€Ð°Ð·Ð´ÐµÐ»Ðµ **ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹**.

ÐšÐ°Ðº ÑƒÐ¶Ðµ Ð½Ðµ Ñ€Ð°Ð· ÑƒÐ¿Ð¾Ð¼Ð¸Ð½Ð°Ð»Ð¾ÑÑŒ, Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ð¸ - ÑÑ‚Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¾Ñ‚ Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð° Ðº Ð´Ñ€ÑƒÐ³Ð¾Ð¼Ñƒ (Ð½ÐµÑÐ²Ð½Ð¾Ðµ Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ). Ð¢Ð¾Ð³Ð´Ð°, Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½Ð¾ÑÑ‚ÑŒ - ÑÑ‚Ð¾ Ñ‚Ð¾, ÐºÐ°Ðº Ð¿Ð¾Ð´Ð¾Ð±Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·ÑƒÑŽÑ‚ÑÑ "Ð¿Ð¾Ð´ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸ÐµÐ¼" ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð¾Ð² Ñ‚Ð¸Ð¿Ð¾Ð². Ð¢Ð°ÐºÐ¸Ðµ Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÑŽÑ‚ÑÑ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¼ ÐºÐ»Ð°ÑÑÐ¾Ð¼ Ñ‚Ð¸Ð¿Ð¾Ð² - Ñ„ÑƒÐ½ÐºÑ‚Ð¾Ñ€Ð¾Ð¼ (ÐºÐ¾Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½Ñ‹Ð¼ Ð¸Ð»Ð¸ ÐºÐ¾Ð½Ñ‚Ñ€Ð°Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½Ñ‹Ð¼). ÐŸÑ€Ð¾ ÐºÐ»Ð°ÑÑÑ‹ Ñ‚Ð¸Ð¿Ð¾Ð² Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°ÑÑÐºÐ°Ð·Ð°Ð½Ð¾ Ð² **ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰ÐµÐ¼ Ñ€Ð°Ð·Ð´ÐµÐ»Ðµ**.

![[Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½Ð¾ÑÑ‚ÑŒ.png|Ð¢Ð¸Ð¿ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½Ð¾ÑÑ‚Ð¸ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð° F[_] Ð¿Ñ€Ð¾ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð² Ñ‚Ð¾Ð¼, ÐºÐ°Ðº Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ñ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ð¸ (Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð½ÐµÑÐ²Ð½Ñ‹Ñ… Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ð¹) Ð¼ÐµÐ¶Ð´Ñƒ A Ð¸ B Ð¿ÐµÑ€ÐµÐ½Ð¾ÑÑÑ‚ÑÑ Ð½Ð° Ñ‚Ð¸Ð¿Ñ‹ F[A] Ð¸ F[B]. Ð¡Ð¸Ð½Ð¸Ð¼Ð¸ ÑÑ‚Ñ€ÐµÐ»ÐºÐ°Ð¼Ð¸ Ð¾Ð±Ð¾Ð·Ð½Ð°Ñ‡ÐµÐ½Ñ‹ ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ñ‡ÐµÑ€Ñ‚Ñ‹ Ñ„ÑƒÐ½ÐºÑ‚Ð¾Ñ€Ð°: ÐºÐ¾Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½Ð¾Ð³Ð¾ Ð¸Ð»Ð¸ ÐºÐ¾Ð½Ñ‚Ñ€Ð°Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½Ð¾Ð³Ð¾, Ð² Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ ÐºÑ€Ð°ÑÐ½Ð¾Ð¹ ÑÑ‚Ñ€ÐµÐ»ÐºÐ¸.]]

Ð’ Ð´Ð¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð¼Ð¾Ð¶Ð½Ð¾ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ ÑÑ‚Ð°Ñ‚ÑŒÑŽ: [Demystifying Variance in Scala](https://scalajobs.com/blog/demystifying-variance-in-scala/).

### ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ð¸

ÐŸÑ€Ð¸Ð²Ñ‹Ñ‡Ð½Ñ‹Ð¹ ÐžÐžÐŸ-ÑˆÐ½Ñ‹Ð¹ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¾Ð² Ð¿Ð¾Ð´Ñ€Ð°Ð·ÑƒÐ¼ÐµÐ²Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ Ð² Ð»ÑŽÐ±ÑƒÑŽ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð¼Ñ‹ Ð¼Ð¾Ð¶ÐµÐ¼ Ð¿ÐµÑ€ÐµÐ´Ð°Ð²Ð°Ñ‚ÑŒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ *Ð»ÑŽÐ±Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð²*, ÑÐ²Ð»ÑÑŽÑ‰Ð¸Ñ…ÑÑ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸ Ðº Ñ‚Ð¸Ð¿Ñƒ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰ÐµÐ³Ð¾ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸.

```scala
trait SupperClass { val i: Int }
case class SubClass(i: Int) extends SupperClass

def someFunc(x: SupperClass) =
Â  x.i + 3

val sub = SubClass(5)
someFunc(sub) // Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ñ‚ÑƒÑ‚
```

Ð­Ñ‚Ð¾ ÑÐºÐ²Ð¸Ð²Ð°Ð»ÐµÐ½Ñ‚Ð½Ð¾ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¸, ÐºÐ°Ðº ÐµÑÐ»Ð¸ Ð±Ñ‹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ ÑÐ²Ð½Ð¾ Ð´ÐµÐºÐ»Ð°Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð»Ð°, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ *Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð²* (Ñ‚.Ðµ. Ð¸Ð¼ÐµÐµÑ‚ Ñ‚Ð¸Ð¿-Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€, Ð¿Ñ€ÐµÐ²Ñ€Ð°Ñ‰Ð°ÑŽÑ‰Ð¸Ð¹ ÐµÑ‘ Ð² Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½ÑƒÑŽ), Ð½Ð¾ Ð´Ð»Ñ ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… Ð·Ð°Ð´Ð°Ð½Ð¾ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ð¾Ðµ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ð¸.

Ð¢Ð°ÐºÐ°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ñ‚Ð¸Ð¿Ð¾Ð² (ÑÐ¸ÑÑ‚ÐµÐ¼Ð° $F_{<:}$), Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹ ÑƒÐ½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ ÑÐ¾Ñ‡ÐµÑ‚Ð°ÐµÑ‚ÑÑ Ñ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸ÑÐ¼Ð¸ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ð¸, Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÐµÑ‚ÑÑ Ð²Ð¾ Ð¼Ð½Ð¾Ð³Ð¸Ñ… Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ñ… ÑÐ·Ñ‹ÐºÐ°Ñ…, Ð² Ñ‚Ð¾Ð¼ Ñ‡Ð¸ÑÐ»Ðµ Ð¸ Ð² Scala. ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð²Ð¾ Ñ„Ñ€Ð°Ð³Ð¼ÐµÐ½Ñ‚Ðµ ÐºÐ¾Ð´Ð° Ð²Ñ‹ÑˆÐµ Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ¸Ð³Ð½Ð°Ñ‚ÑƒÑ€Ñƒ Ð¼ÐµÑ‚Ð¾Ð´Ð° `someFunc`, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ñ€Ð¾Ð´ÐµÐ¼Ð¾Ð½ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ ÑÐ²Ð½Ð¾:
```scala
def someFunc[A <: SupperClass](x: A) =
Â  x.i + 3 // Ñ‚ÐµÐ»Ð¾ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð½Ðµ Ð¼ÐµÐ½ÑÐµÑ‚ÑÑ
```
Ð¢Ð°ÐºÐ¸Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼, ÑÐ¸ÑÑ‚ÐµÐ¼Ð° $F_{<:}$ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¾Ñ‚Ð½Ð¾ÑÐ¸Ñ‚ÑŒ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¾Ð² Ðº Ñ€Ð°Ð·Ð½Ð¾Ð²Ð¸Ð´Ð½Ð¾ÑÑ‚Ð¸ ÑƒÐ½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ð°.

ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð² Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ… Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð² Ð¼Ð¾Ñ‰Ð½ÐµÐµ, Ñ‡ÐµÐ¼ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¾Ð². Ð Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ Ð¿Ð°Ñ€Ñƒ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð¾Ð².

Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ Ñ„Ñ€Ð°Ð³Ð¼ÐµÐ½Ñ‚ ÐºÐ¾Ð´Ð° Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ñ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸ÐµÐ¼ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð±ÐµÐ· Ð¿Ð¾Ñ‚ÐµÑ€ÑŒ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‚ÑŒ Ñ‚Ð¸Ð¿ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð° Ð½Ð° Ð²Ñ‹Ñ…Ð¾Ð´ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸:
```scala
trait SupperClass { val i: Int }
case class SubClass(i: Int, s: String) extends SupperClass // Ð² Ð¿Ð¾Ð´ÐºÐ»Ð°ÑÑÐµ Ð½Ð¾Ð²Ð¾Ðµ Ð¿Ð¾Ð»Ðµ s
val sub: SubClass = SubClass(5, "string")

def extractInt1[A <: SupperClass](x: A): (A,           Int) = (x, x.i)
def extractInt2(x: SupperClass)        : (SupperClass, Int) = (x, x.i)

extractInt1(sub)._1.s // "string"
extractInt2(sub)._1.s // !!! ÐžÐ¨Ð˜Ð‘ÐšÐ !!! ÐšÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ‚Ð¾Ñ€ Ð½Ðµ Ð²Ð¸Ð´Ð¸Ñ‚ Ñ‚ÑƒÑ‚ Ð½Ð¸ÐºÐ°ÐºÐ¾Ð³Ð¾ s!
```
Ð’ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÐµÐ¹ ÑÑ‚Ñ€Ð¾ÐºÐµ Ð±ÑƒÐ´ÐµÑ‚ Ð¾ÑˆÐ¸Ð±ÐºÐ° ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ†Ð¸Ð¸, Ñ‚Ð°Ðº ÐºÐ°Ðº Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ `extractInt2` Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð·Ð½Ð°ÐµÑ‚ Ð¾Ð± Ð¸ÑÑ…Ð¾Ð´Ð½Ð¾Ð¼ Ñ‚Ð¸Ð¿Ðµ Ð¿ÐµÑ€ÐµÐ´Ð°Ð½Ð½Ð¾Ð³Ð¾ ÐµÐ¹ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð° - Ð½ÐµÑÐ²Ð½Ð¾Ðµ Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ð¸ ÑÑ€Ð°Ð±Ð¾Ñ‚Ð°Ð»Ð¾ *Ð´Ð¾ Ñ‚Ð¾Ð³Ð¾*, ÐºÐ°Ðº Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð±Ñ‹Ð»Ð¾ Ð¿ÐµÑ€ÐµÐ´Ð°Ð½Ð¾ Ð² Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ.

Ð’Ñ‹ÑˆÐµ Ð±Ñ‹Ð»Ð¸ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ñ‹ Ñ‚Ð°ÐºÐ¸Ðµ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ, ÐºÐ¾Ð³Ð´Ð° Ñ‚Ð¸Ð¿-Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ñ‡ÑŒÐ¸Ð¼-Ñ‚Ð¾ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¾Ð¼ - Ñ‚Ð°Ðº Ð½Ð°Ð·Ñ‹Ð²Ð°ÐµÐ¼Ñ‹Ðµ, *Ð²ÐµÑ€Ñ…Ð½Ð¸Ðµ Ð³Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ Ñ‚Ð¸Ð¿Ð°*. ÐÐ¾ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ Ñ‚Ð°ÐºÐ¶Ðµ Ð¿Ð¾Ð½ÑÑ‚Ð¸Ðµ *Ð½Ð¸Ð¶Ð½ÐµÐ¹ Ð³Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ Ñ‚Ð¸Ð¿Ð°*: Ð·Ð°Ð¿Ð¸ÑÑŒ `X >: SubType` Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ Ñ‚Ð¸Ð¿-Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ `X` Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ ÑÑƒÐ¿ÐµÑ€Ñ‚Ð¸Ð¿Ð¾Ð¼ Ð´Ð»Ñ Ð½ÐµÐºÐ¾Ð³Ð¾ Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð° `SubType`. ÐÐ°Ð³Ð»ÑÐ´Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ñ‚Ð°ÐºÐ¾Ð³Ð¾ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾Ð´ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ [Ð² Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ Scala](https://docs.scala-lang.org/ru/tour/lower-type-bounds.html).

Ð’ Ñ€Ð°Ð½Ð½Ð¸Ñ… Ð²ÐµÑ€ÑÐ¸ÑÑ… Scala Ð±Ñ‹Ð»Ð° Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ, Ñ‚Ð°Ðº Ð½Ð°Ð·Ñ‹Ð²Ð°ÐµÐ¼Ñ‹Ðµ, *Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ñ*. Ð—Ð°Ð¿Ð¸ÑÑŒ `A <% SomeType` Ð¾Ð·Ð½Ð°Ñ‡Ð°Ð»Ð°, Ñ‡Ñ‚Ð¾ Ð¸Ð·Ð²ÐµÑÑ‚Ð½Ð¾ Ð½ÐµÐºÐ¾Ðµ Ð½ÐµÑÐ²Ð½Ð¾Ðµ Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¾Ñ‚ Ñ‚Ð¸Ð¿Ð° `A` Ðº Ñ‚Ð¸Ð¿Ñƒ `SomeType`, Ñ‚Ð¾ ÐµÑÑ‚ÑŒ, Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ Ñ‚Ð¸Ð¿Ð° `SomeType` Ð¿Ñ€Ð¸Ð¼ÐµÐ½Ð¸Ð¼Ñ‹ Ðº Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑÐ¼ Ñ‚Ð¸Ð¿Ð° `A`. Ð¢Ð°ÐºÐ¾Ðµ Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð²Ð¾Ð²ÑÐµ Ð½Ðµ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð·Ð°Ð²ÑÐ·Ñ‹Ð²Ð°Ð»Ð¾ÑÑŒ Ð½Ð° Ð½Ð°ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ð¸ ÐºÐ»Ð°ÑÑÐ¾Ð², Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð½Ð¾ÑÑ‚Ð¸ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² (`List[String] <: List[Any]`) Ð¸Ð»Ð¸ Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ð¾Ð¹ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ð¸ (`Short <: Int`) - Ð¼Ð¾Ð³ÑƒÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ñ‹ Ð² Ñ‚Ð¾Ð¼ Ñ‡Ð¸ÑÐ»Ðµ Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ðµ Ð½ÐµÑÐ²Ð½Ñ‹Ðµ Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ñ:
```scala
given def intToSubClass(i: Int) // Ð¾Ð±ÑŠÑÐ²Ð»ÑÐµÐ¼ Ð½ÐµÑÐ²Ð½Ð¾Ðµ Ð¿Ñ€ÐµÐ¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ Int => SubClass
  = SubClass(i, "Ð½ÐµÑ‡Ñ‚Ð¾") 
def getString[A <% SubClass](a: A) = a.s

getString(5) // "Ð½ÐµÑ‡Ñ‚Ð¾"
```
Ð’ Scala 3 Ñ‚Ð°ÐºÐ¾Ð¹ ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ ÑƒÐ±Ñ€Ð°Ð»Ð¸, Ð½Ð¾ ÑÑ„Ñ„ÐµÐºÑ‚Ð¾Ð², Ð°Ð½Ð°Ð»Ð¾Ð³Ð¸Ñ‡Ð½Ñ‹Ñ… Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÑŽ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ð¹ `<%` Ð¼Ð¾Ð¶Ð½Ð¾ Ð´Ð¾ÑÑ‚Ð¸Ñ‡ÑŒ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ ÐºÐ»Ð°ÑÑÐ¾Ð² Ñ‚Ð¸Ð¿Ð¾Ð² - Ð¾Ð± ÑÑ‚Ð¾Ð¼ Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð°Ð»ÐµÐµ.

ÐžÑ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ñ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¼Ð¾Ð¶Ð½Ð¾ Ð²Ð²ÐµÑÑ‚Ð¸ Ð½Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð², Ð½Ð¾ Ð¸ Ð´Ð»Ñ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ñ…. Ð¡Ð´ÐµÐ»Ð°Ñ‚ÑŒ ÑÑ‚Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ Ñ€Ð°Ð·Ð½Ñ‹Ð¼Ð¸ ÑÐ¿Ð¾ÑÐ¾Ð±Ð°Ð¼Ð¸, Ð½Ð¾, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹, ÑÐ°Ð¼Ñ‹Ð¹ Ð¾Ñ‡ÐµÐ²Ð¸Ð´Ð½Ñ‹Ð¹ Ð¸Ð· Ð½Ð¸Ñ… - ÑÑ‚Ð¾ *Ð¿Ð¾Ñ‚Ð¾Ñ‡ÐµÑ‡Ð½Ð°Ñ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ñ*: ÑÑ‡Ð¸Ñ‚Ð°ÐµÐ¼ `F` Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¾Ð¼ `G`, ÐµÑÐ»Ð¸ `F[X]` ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¾Ð¼ `G[X]` Ð´Ð»Ñ Ð»ÑŽÐ±Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð° `X`. ÐŸÑ€Ð¸ Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐµ ÑÑ‚Ð°Ñ‚ÑŒÐ¸ Ð¾Ñ‡ÐµÐ½ÑŒ ÑƒÐ´Ð¸Ð²Ð¸Ð»ÑÑ, Ð¾Ð±Ð½Ð°Ñ€ÑƒÐ¶Ð¸Ð², Ñ‡Ñ‚Ð¾ Ñ‚Ð°ÐºÐ°Ñ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑƒÐ¶Ðµ Ð¿Ñ€Ð¸ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ð² Scala:
```scala
def headOption[F <: [X] =>> Iterable[X], A](fa: F[A]): Option[A] = fa.headOption
Â  
headOption(List(5))          // Some(5)
headOption(Option("ÑÑ‚Ñ€Ð¾ÐºÐ°")) // Some("ÑÑ‚Ñ€Ð¾ÐºÐ°")
headOption(Map(1.2 -> true)) // Some((1.2, true))
```
Ðš ÑÐ¾Ð¶Ð°Ð»ÐµÐ½Ð¸ÑŽ, Ð² Ð°ÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð½Ð° Ð´Ð°Ð½Ð½Ñ‹Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ Ð²ÐµÑ€ÑÐ¸Ð¸ Scala Ð² Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ð¸ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚ÑÑ ÑÐ²Ð½Ð¾ ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ $\lambda$-Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Ñ‚Ð¸Ð¿Ð¾Ð², Ñ‡Ñ‚Ð¾ Ð²Ñ‹Ð³Ð»ÑÐ´Ð¸Ñ‚ ÐºÐ¾Ñ€ÑÐ²Ð¾. Ð¢ÐµÐ¼ Ð½Ðµ Ð¼ÐµÐ½ÐµÐµ, ÑÐ·Ñ‹Ðº Ð¶Ð¸Ð²Ñ‘Ñ‚, Ð¼ÐµÐ½ÑÐµÑ‚ÑÑ, Ñ‚Ð°Ðº Ñ‡Ñ‚Ð¾ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼, Ñ‡Ñ‚Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð°Ð»ÑŒÑˆÐµ.

ÐžÑ‡ÐµÐ²Ð¸Ð´Ð½Ð¾, Ð¿Ð¾Ñ‚Ð¾Ñ‡ÐµÑ‡Ð½ÑƒÑŽ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸ÑŽ Ð¿Ð¾ Ð¸Ð½Ð´ÑƒÐºÑ†Ð¸Ð¸ Ð¼Ð¾Ð¶Ð½Ð¾ Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð¸ Ð½Ð° Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð±Ð¾Ð»ÐµÐµ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð³Ð¾ Ñ€Ð¾Ð´Ð°. Ð¢Ð°Ðº Ñ‡Ñ‚Ð¾ Ð´Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ Ð½Ð° Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ñ Ñ‚Ð¾Ñ‡ÐºÐ¸ Ð·Ñ€ÐµÐ½Ð¸Ñ Ð¸Ñ… "Ð²Ñ‹ÑÐ¾ÐºÐ¾Ñ€Ð¾Ð´Ð½Ð¾ÑÑ‚Ð¸".

## Ð¢Ð¸Ð¿Ñ‹ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð³Ð¾ Ñ€Ð¾Ð´Ð°

### Higher Kinded Types

Ð’ Ð¼Ð°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸ÐºÐµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‚ Ñ‚Ð°ÐºÐ¸Ðµ Ð¿Ð¾Ð½ÑÑ‚Ð¸Ñ, ÐºÐ°Ðº
- Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð», Ð¿Ñ€ÐµÐ²Ñ€Ð°Ñ‰Ð°ÑŽÑ‰Ð¸Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹ Ð² "Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ðµ" Ð½ÐµÑ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ð»ÑŒÐ½Ð°Ñ ÑÐ²Ñ‘Ñ€Ñ‚ÐºÐ°),
- Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€, Ð¿Ñ€ÐµÐ²Ñ€Ð°Ñ‰Ð°ÑŽÑ‰Ð¸Ð¹ Ð¾Ð´Ð½Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð² Ð´Ñ€ÑƒÐ³Ð¸Ðµ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð´Ð¸Ñ„Ñ„ÐµÑ€ÐµÐ½Ñ†Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ).
Ð’ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð¸Ðµ Ð¾Ñ‚ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹, Ñ‚Ð°ÐºÐ¸Ðµ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ ÑÐ²ÑÐ·Ñ‹Ð²Ð°ÑŽÑ‚ Ð½Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ðµ Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ð°, Ð²Ñ€Ð¾Ð´Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ñ‡Ð¸ÑÐµÐ», Ð½Ð¾ Ð¸ Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹!

ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ, Ð¸Ð· Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹ Ð¸/Ð¸Ð»Ð¸ Ð² Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð² Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸ÐºÐµ Ð½Ð°Ð·Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ [*Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑÐ¼Ð¸ Ð²Ñ‹ÑÑˆÐ¸Ñ… Ð¿Ð¾Ñ€ÑÐ´ÐºÐ¾Ð²*](https://ru.wikipedia.org/wiki/%D0%A4%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F_%D0%B2%D1%8B%D1%81%D1%88%D0%B5%D0%B3%D0%BE_%D0%BF%D0%BE%D1%80%D1%8F%D0%B4%D0%BA%D0%B0) (higher-order functions). Ð¢Ð°ÐºÐ¸Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¼Ð¾Ð³ÑƒÑ‚ Ð¾Ð¿ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð½Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ "Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ð¼Ð¸" Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑÐ¼Ð¸ (Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ Ð¿Ð¾Ñ€ÑÐ´ÐºÐ°), Ð½Ð¾ Ð¸ Ñ‚Ð°ÐºÐ¸Ð¼Ð¸ Ð¶Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑÐ¼Ð¸ Ð²Ñ‹ÑÑˆÐ¸Ñ… Ð¿Ð¾Ñ€ÑÐ´ÐºÐ¾Ð². ÐŸÑ€Ð¸ ÑÑ‚Ð¾Ð¼, "Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº" Ð½Ð¾Ð²Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð±ÑƒÐ´ÐµÑ‚ Ð²Ñ‹ÑˆÐµ Ñ‡ÐµÐ¼, Ñƒ Ñ‚ÐµÑ…, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¾Ð½Ð° Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚/Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚.

>Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ, ÐºÐ°Ðº Ð½Ð°Ð±Ð¾Ñ€ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¹, Ñ€Ð°Ð·Ð¼ÐµÑ‰Ñ‘Ð½Ð½Ñ‹Ñ… Ð² Ð¿Ð°Ð¼ÑÑ‚Ð¸, Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ ÑÐ¾Ð±Ð¾Ð¹ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ, Ð¸ Ð´Ð°Ð¶Ðµ Ð² ÐÑÑÐµÐ¼Ð±Ð»ÐµÑ€Ðµ Ð¼Ð¾Ð¶Ð½Ð¾ Ð±Ñ‹Ð»Ð¾ Ð¿ÐµÑ€ÐµÐ´Ð°Ð²Ð°Ñ‚ÑŒ ÑƒÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÑŒ Ð½Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð² Ð´Ñ€ÑƒÐ³ÑƒÑŽ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ, Ð²Ñ‹Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ ÐµÑ‘ Ð¿Ð¾ ÑƒÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÑŽ, Ð¸Ð»Ð¸ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°Ñ‚ÑŒ ÐµÐ³Ð¾.  ÐÐ¾ ÑÐ°Ð¼ Ñ‚ÐµÑ€Ð¼Ð¸Ð½ "Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð²Ñ‹ÑÑˆÐ¸Ñ… Ð¿Ð¾Ñ€ÑÐ´ÐºÐ¾Ð²" Ð²Ð¾ÑˆÑ‘Ð» Ð² Ð¾Ð±Ð¾Ñ€Ð¾Ñ‚, Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐºÐ¾Ð´Ð° Ð² Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ñ… Ð²Ñ‹ÑÐ¾ÐºÐ¾ÑƒÑ€Ð¾Ð²Ð½ÐµÐ²Ñ‹Ñ… ÑÐ·Ñ‹ÐºÐ°Ñ… Ð¿Ð¾ÑÐ²Ð¸Ð»Ð°ÑÑŒ *Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ ÐºÐ°Ðº Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ* - "[Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ ÐºÐ»Ð°ÑÑÐ°](https://ru.wikipedia.org/wiki/%D0%A4%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B8_%D0%BF%D0%B5%D1%80%D0%B2%D0%BE%D0%B3%D0%BE_%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%B0)".

Ð’ ÑÐ²Ð¾ÑŽ Ð¾Ñ‡ÐµÑ€ÐµÐ´ÑŒ, ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð², ÐºÐ°Ðº ÑƒÐ¶Ðµ Ð±Ñ‹Ð»Ð¾ Ð·Ð°Ð¼ÐµÑ‡ÐµÐ½Ð¾, Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÑÑŽÑ‚ ÑÐ¾Ð±Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð½Ð° ÑƒÑ€Ð¾Ð²Ð½Ðµ Ñ‚Ð¸Ð¿Ð¾Ð² - Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÑŽÑ‚ Ð¾Ð´Ð½Ð¸ Ñ‚Ð¸Ð¿Ñ‹ Ð² Ð´Ñ€ÑƒÐ³Ð¸Ðµ. Ð˜Ð¼ÐµÑŽÑ‰Ð¸ÐµÑÑ Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ $F2$ "Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ðµ" ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð² (Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´ÑÑ‰Ð¸Ðµ Ð¾Ð´Ð¸Ð½ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ Ñ‚Ð¸Ð¿ Ð² Ð´Ñ€ÑƒÐ³Ð¾Ð¹) Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ $F\omega$ Ñ€Ð°ÑÑˆÐ¸Ñ€ÑÑŽÑ‚ÑÑ *Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑÐ¼Ð¸ Ð²Ñ‹ÑÑˆÐ¸Ñ… Ð¿Ð¾Ñ€ÑÐ´ÐºÐ¾Ð² Ð½Ð° Ñ‚Ð¸Ð¿Ð°Ñ…* - **higher kinded types** (HKT).

Ð¡Ð»Ð¾Ð²Ð¾ "kind" Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð°. Ð’ÑÑ‚Ñ€ÐµÑ‡Ð°ÑŽÑ‚ÑÑ Ñ‚Ð°ÐºÐ¸Ðµ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹:
- **ÐºÐ°Ð¹Ð½Ð´** - Ð½ÐµÐ·Ð°Ð¼Ñ‹ÑÐ»Ð¾Ð²Ð°Ñ‚Ð°Ñ Ñ‚Ñ€Ð°Ð½ÑÐ»Ð¸Ñ‚ÐµÑ€Ð°Ñ†Ð¸Ñ, Ð·Ð°Ð¸Ð¼ÑÑ‚Ð²Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸Ð· Ð°Ð½Ð³Ð»Ð¸Ð¹ÑÐºÐ¾Ð³Ð¾, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð½Ðµ Ð²ÑÐµ ÑÑ‡Ð¸Ñ‚Ð°ÑŽÑ‚ Ð¾Ð¿Ñ€Ð°Ð²Ð´Ð°Ð½Ð½Ñ‹Ð¼;
- **ÑÐ¾Ñ€Ñ‚** Ð² Ñ€ÑƒÑÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡Ð½Ð¾ Ð¸Ð½Ð´ÐµÐºÑÐ¸Ñ€ÑƒÐµÑ‚ÑÑ Ð½Ð°Ñ‚ÑƒÑ€Ð°Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ñ‡Ð¸ÑÐ»Ð°Ð¼Ð¸, Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ñ€Ð¾Ð¶Ð´Ð°ÐµÑ‚ ÑÐºÐ»ÐµÐºÑ‚Ð¸ÐºÑƒ Ð²Ñ€Ð¾Ð´Ðµ "Ñ‚Ð¸Ð¿Ð¾Ð² Ñ‚Ñ€ÐµÑ‚ÑŒÐµÐ³Ð¾ ÑÐ¾Ñ€Ñ‚Ð°";
- **Ð²Ð¸Ð´** Ñ‚Ð¸Ð¿Ð° ÐºÐ°Ð¶ÐµÑ‚ÑÑ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¸Ð¼ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð¾Ð¼ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð°, ÐµÑÐ»Ð¸ Ð¸Ð·Ð±ÐµÐ³Ð°Ñ‚ÑŒ ÑÐ»Ð¾Ð²Ð¾ÑÐ¾Ñ‡ÐµÑ‚Ð°Ð½Ð¸Ñ "Ñ‚Ð¸Ð¿Ñ‹ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð³Ð¾ Ð²Ð¸Ð´Ð°";
- **Ñ€Ð¾Ð´** Ð¿Ñ€Ð¸Ð²Ð½Ð¾ÑÐ¸Ñ‚ Ð² Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð½ÑƒÑŽ Ð¾Ð±Ð»Ð°ÑÑ‚ÑŒ Ð½Ðµ Ð¾Ñ‡ÐµÐ½ÑŒ ÑƒÐ¼ÐµÑÑ‚Ð½ÑƒÑŽ, Ð½Ð¾ ÑÑ‚Ð°Ð²ÑˆÑƒÑŽ ÑƒÐ¶Ðµ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡Ð½Ð¾Ð¹, "Ð²Ñ‹ÑÐ¾ÐºÐ¾Ñ€Ð¾Ð´Ð½Ð¾ÑÑ‚ÑŒ". 
Ð”Ð°Ð»ÐµÐµ Ð±ÑƒÐ´ÑƒÑ‚ Ñ€Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ½Ñ‹ *Ð²Ð¸Ð´Ñ‹* Ñ‚Ð¸Ð¿Ð¾Ð² Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð³Ð¾ *Ñ€Ð¾Ð´Ð°*)), Ñ‚Ð°Ðº Ñ‡Ñ‚Ð¾ Ð±ÑƒÐ´ÑƒÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ð´Ð²Ð° Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð° Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð° ÑÐ»Ð¾Ð²Ð° "kind".

Ð Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹:
```scala
type Option = [A] =>> Unit | A
type Reader = [Dep] =>> [A] =>> Dep => A
type Functor = [F[_]] =>> [A, B] => (A => B) => (F[A] => F[B])
type TaglessFinalProgram = [Algebra[_[_]]] =>> [A] =>> [F[_]] => Algebra[F] => F[A]
```
ÐšÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€ `Reader` Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð½Ð° Ð²Ñ…Ð¾Ð´ Ñ‚Ð¸Ð¿ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¸ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð´Ñ€ÑƒÐ³Ð¾Ð¹ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€, Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÑŽÑ‰ÐµÐ¹ Ñ‚Ð¸Ð¿ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð° Ð¸ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÑŽÑ‰Ð¸Ð¹ Ñ‚Ð¸Ð¿ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸. ÐŸÐ¾ ÑÑƒÑ‚Ð¸, `Reader` ÑÐ²Ð»ÑÐµÑ‚ÑÑ ÐºÐ°Ñ€Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð¹ Ð²ÐµÑ€ÑÐ¸ÐµÐ¹ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð° Ñ‚Ð¸Ð¿Ð¾Ð², Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÑŽÑ‰ÐµÐ³Ð¾ Ð´Ð²Ð° Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°. Ð’ ÑÐ²Ð¾ÑŽ Ð¾Ñ‡ÐµÑ€ÐµÐ´ÑŒ `Functor` Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð½Ð° Ð²Ñ…Ð¾Ð´ ÑƒÐ¶Ðµ Ð½Ðµ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ Ñ‚Ð¸Ð¿, Ð° Ð´Ñ€ÑƒÐ³Ð¾Ð¹ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€, Ð¸ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ Ñ‚Ð¸Ð¿ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸.

ÐÐµ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ñ‚Ð¸Ð¿ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¿Ð¾Ð´ÑÑ‚Ð°Ð²Ð»ÐµÐ½ Ð² ÑÑ‚Ð¸ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð²:
```scala
type FOpt = Functor[Option]
//type FReader1 = Functor[Reader] Â  Â  Â  // Ð½ÐµÐ»ÑŒÐ·Ñ!
type FReader2 = Functor[Reader[Int]]
//type FInt = Functor[Int] Â  Â  Â  Â  Â  Â  Â // Ð½ÐµÐ»ÑŒÐ·Ñ!
type OptInt = Option[Int]
//type OptReader1 = Option[Reader] Â  Â  Â // Ð½ÐµÐ»ÑŒÐ·Ñ!
//type OptReader2 = Option[Reader[Int]] // Ð½ÐµÐ»ÑŒÐ·Ñ!
type OptReader3 = Option[Reader[Int][String]]
type OptF = Option[Functor[Option]]
//type Reader1 = Reader[Int] Â  Â  Â  Â  Â  Â // Ð½ÐµÐ»ÑŒÐ·Ñ!
type Reader2 = Reader[Int][String]
```
ÐŸÐ¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑŽÑ‚ ÐºÑ€Ð°ÑÐ¾Ðº Ð² Ð¾Ð´Ð½Ð¾Ð¾Ð±Ñ€Ð°Ð·Ð¸Ðµ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² - Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ñ‚Ð¸Ð¿Ñ‹ Ð½Ðµ Ð²ÑÐµ Ð¾Ð´Ð¸Ð½Ð°ÐºÐ¾Ð²Ñ‹Ðµ)). ÐÐ¾ ÑÑ‚Ð¾ Ð¿Ñ€Ð¸Ð½Ð¾ÑÐ¸Ñ‚ Ð½Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ€Ð°Ð´Ð¾ÑÑ‚ÑŒ. Ð’ÐµÐ´ÑŒ Ð´Ð°Ð¶Ðµ Ð´Ð»Ñ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ñ… ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð¾Ð² Ñ‚Ð¸Ð¿Ð¾Ð² Ð²Ñ€Ð¾Ð´Ðµ `Option` Ð²Ð¾Ð·Ð½Ð¸ÐºÐ°ÐµÑ‚ Ð²Ð¾Ð¿Ñ€Ð¾Ñ: Ð¼Ð¾Ð¶Ð½Ð¾ Ð»Ð¸ ÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ñ‚Ð¸Ð¿Ñ‹ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð³Ð¾ Ñ€Ð¾Ð´Ð°, ÑÐ¾Ð±ÑÑ‚Ð²ÐµÐ½Ð½Ð¾, Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸, ÐµÑÐ»Ð¸ Ð¸Ñ… Ð½ÐµÐ»ÑŒÐ·Ñ Ð¿Ñ€Ð¸Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ðº Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑÐ¼, ÐºÐ°Ðº Ð¼ÐµÑ‚ÐºÐ¸? ÐšÐ°ÐºÐ¾Ð¹ ÑÐ¼Ñ‹ÑÐ» Ð¼Ð¾Ð¶ÐµÑ‚ Ð¸Ð¼ÐµÑ‚ÑŒ Ð·Ð°Ð¿Ð¸ÑÑŒ `val opt: Option`?

ÐœÐ¾Ð¶Ð½Ð¾, ÐºÐ¾Ð½ÐµÑ‡Ð½Ð¾, Ð¿Ð¾Ñ„Ð°Ð½Ñ‚Ð°Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ, ÑÐºÐ°Ð·Ð°Ð², Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ð´ÑÑ‚Ð°Ð²Ð¸Ð² Ð² Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ `opt` ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ Ñ‚Ð¸Ð¿, Ð¼Ñ‹ ÑÐ¼Ð¾Ð¶ÐµÐ¼ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ Ñ‚Ð¸Ð¿, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€ `val intOpt: getType[Int](opt) = Some(42)`. ÐšÐ¾Ð½ÐµÑ‡Ð½Ð¾, Ð²ÑÑ‘ Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ ÑÐ·Ñ‹ÐºÐ°, Ð¸, Ñ…Ð¾Ñ‚Ñ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾ Ñ‚Ð°Ðº Scala Ð½Ðµ ÑƒÐ¼ÐµÐµÑ‚, Ð½Ð¾ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ñ‹Ñ… ÐºÐ¾ÑÑ‚Ñ‹Ð»ÐµÐ¹ (Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… Ð½Ð° Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ñ… Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑÑ… Ð¸ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð°Ñ…) Ð¼Ð¾Ð¶Ð½Ð¾ Ð´Ð¾Ð±Ð¸Ñ‚ÑŒÑÑ ÑÑ…Ð¾Ð¶ÐµÐ³Ð¾ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð°, Ð½Ð¾â€¦

Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾, Ð´Ð»Ñ Ñ‚Ð¸Ð¿Ð¾Ð² Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð³Ð¾ Ñ€Ð¾Ð´Ð° Ð½Ðµ Ð¿Ñ€ÐµÐ´ÑƒÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð¼ÐµÑ‚Ð¾Ðº Ñ‚ÐµÑ€Ð¼Ð¾Ð², Ñ‚Ð°Ðº Ñ‡Ñ‚Ð¾ Ð½Ð° ÑÐ°Ð¼Ð¾Ð¼ Ð´ÐµÐ»Ðµ **Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð½Ðµ ÑÐ²Ð»ÑÑŽÑ‚ÑÑ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸**! (Ð¡Ð¼. Ñ‚Ð°ÐºÐ¶Ðµ [Ñ‚ÑƒÑ‚](https://stackoverflow.com/questions/54620961/can-type-constructors-be-considered-as-types-in-functional-programming-languages).) ÐšÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð² Ð½Ð°Ð·Ñ‹Ð²Ð°ÑŽÑ‚ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸ ÑÐºÐ¾Ñ€ÐµÐµ Ð¿Ð¾ Ð°Ð½Ð°Ð»Ð¾Ð³Ð¸Ð¸ Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑÐ¼Ð¸ Ð²Ñ‹ÑÑˆÐ¸Ñ… Ð¿Ð¾Ñ€ÑÐ´ÐºÐ¾Ð², ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð²ÑÐµ ÑÐ²Ð»ÑÑŽÑ‚ÑÑ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑÐ¼Ð¸ (Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ ÐºÐ»Ð°ÑÑÐ°). Ð’ Scala ÐµÑÑ‚ÑŒ ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ñ‚Ñ€Ð°ÐºÑ‚Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð² ÐºÐ°Ðº Ð¼ÐµÑ‚ÐºÐ¸, Ð½Ð¾ ÑƒÐ¶Ðµ Ð½Ðµ Ð´Ð»Ñ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹, Ð° Ð´Ð»Ñ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² - ÑÑ‚Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ½Ð¾ Ð¿Ñ€Ð¸ Ð¾Ð±ÑÑƒÐ¶Ð´ÐµÐ½Ð¸Ð¸ ÐºÐ»Ð°ÑÑÐ¾Ð² Ñ‚Ð¸Ð¿Ð¾Ð².

Ð”Ñ€ÑƒÐ³Ð¸Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ñ‚Ð¸Ð¿Ð¾Ð² Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð³Ð¾ Ñ€Ð¾Ð´Ð° Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾Ð´ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ñ‚ÑƒÑ‚:
- [Higher-kinded data in Scala](https://github.com/Michaelt293/higher-kinded-data),
- GitHub-Ð¿Ñ€Ð¾ÐµÐºÑ‚ [DataPrizm](https://github.com/Katrix/DataPrism) (Ð¸ [ÑÑ‚Ð°Ñ‚ÑŒÑ Ð¾Ð± Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ð¸ Ñ‚Ð¸Ð¿Ð¾Ð² Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð³Ð¾ Ñ€Ð¾Ð´Ð°](https://bora.uib.no/bora-xmlui/bitstream/handle/11250/3073826/Generic-programming-using-Higher-Kinded-Data.pdf), Ð² ÑÑ‚Ð¾Ð¼ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ).

#### Ð›Ð¾Ð³Ð¸ÐºÐ¸ Ð²Ñ‹ÑÑˆÐ¸Ñ… Ð¿Ð¾Ñ€ÑÐ´ÐºÐ¾Ð²

Ð¡ Ñ‚Ð¾Ñ‡ÐºÐ¸ Ð·Ñ€ÐµÐ½Ð¸Ñ Ð¸Ð·Ð¾Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ð° ÐšÐ°Ñ€Ñ€Ð¸-Ð¥Ð¾Ð²Ð°Ñ€Ð´Ð° Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð³Ð¾ Ñ€Ð¾Ð´Ð° ÑÐ²ÑÐ·Ð°Ð½Ñ‹ Ñ Ð»Ð¾Ð³Ð¸ÐºÐ¾Ð¹ Ð²Ñ‹ÑÑˆÐ¸Ñ… Ð¿Ð¾Ñ€ÑÐ´ÐºÐ¾Ð². ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ñ‚Ð¸Ð¿
```scala
type Product = [A, B] =>> (A, B)
```
Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¾Ñ‡ÐµÑÑ‚ÑŒ ÐºÐ°Ðº
"*Ð”Ð»Ñ Ð»ÑŽÐ±Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² `A` Ð¸ `B` Ð¸Ð· Ð¸Ñ… Ð¾Ð±Ð¸Ñ‚Ð°ÐµÐ¼Ð¾ÑÑ‚Ð¸ ÑÐ»ÐµÐ´ÑƒÐµÑ‚ Ð¾Ð±Ð¸Ñ‚Ð°ÐµÐ¼Ð¾ÑÑ‚ÑŒ Ñ‚Ð¸Ð¿Ð°-Ð¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÐ´ÐµÐ½Ð¸Ñ `A Ã— B`.*"
Ð˜Ð·Ð¾Ð¼Ð¾Ñ€Ñ„Ð½Ð¾Ðµ ÑÑ‚Ð¾Ð¼Ñƒ Ñ‚Ð¸Ð¿Ñƒ ÑƒÑ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ Ð² Ð»Ð¾Ð³Ð¸ÐºÐµ Ð²Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ð¿Ð¾Ñ€ÑÐ´ÐºÐ° Ð±ÑƒÐ´ÐµÑ‚ Ð²Ñ‹Ð³Ð»ÑÐ´ÐµÑ‚ÑŒ Ñ‚Ð°Ðº:
"*Ð”Ð»Ñ Ð»ÑŽÐ±Ñ‹Ñ… Ð²Ñ‹ÑÐºÐ°Ð·Ñ‹Ð²Ð°Ð½Ð¸Ð¹ `A` Ð¸ `B` Ð¸Ð· Ð¸Ñ… Ð¸ÑÑ‚Ð¸Ð½Ð½Ð¾ÑÑ‚Ð¸ ÑÐ»ÐµÐ´ÑƒÐµÑ‚ Ð¸ÑÑ‚Ð¸Ð½Ð½Ð¾ÑÑ‚ÑŒ Ð²Ñ‹ÑÐºÐ°Ð·Ñ‹Ð²Ð°Ð½Ð¸Ñ `A âˆ§ B`.*"

Ð˜Ð¼ÐµÐ½Ð½Ð¾ Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ðµ ÐºÐ²Ð°Ð½Ñ‚Ð¾Ñ€Ð° "Ð´Ð»Ñ Ð»ÑŽÐ±Ð¾Ð³Ð¾" (Ð¸Ð»Ð¸ "ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚") Ð½Ð°Ð´ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸/Ð²Ñ‹ÑÐºÐ°Ð·Ñ‹Ð²Ð°Ð½Ð¸ÑÐ¼Ð¸ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ Ñ Ð¾Ð´Ð½Ð¾Ð¹ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ‹ Ð¸Ð·Ð¾Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ð° "Ð²Ñ‹ÑÐ¾ÐºÐ¾Ñ€Ð¾Ð´Ð½Ð¾ÑÑ‚ÑŒ" Ñ‚Ð¸Ð¿Ð°, Ð° Ñ Ð´Ñ€ÑƒÐ³Ð¾Ð¹ - Ð²Ñ‹ÑÑˆÐ¸Ð¹ Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº Ð»Ð¾Ð³Ð¸ÐºÐ¸. Ð¡Ð²ÑÐ·ÑŒ Ð±Ð¾Ð»ÐµÐµ ÑÐ»Ð¾Ð¶Ð½Ñ‹Ñ… Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ñ Ð»Ð¾Ð³Ð¸ÐºÐ°Ð¼Ð¸ Ð²Ñ‹ÑÑˆÐ¸Ñ… Ð¿Ð¾Ñ€ÑÐ´ÐºÐ¾Ð² Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ÑÑ Ð¿Ð¾ Ð¸Ð½Ð´ÑƒÐºÑ†Ð¸Ð¸.

ÐŸÑ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ð¼ÐµÑ‚Ð¾Ð´Ð° ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð´Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÑŒÑÑ‚Ð²Ð¾Ð¼ Ð¾Ð±Ð¸Ñ‚Ð°ÐµÐ¼Ð¾ÑÑ‚Ð¸ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰ÐµÐ³Ð¾ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð°. Ð•ÑÐ»Ð¸ ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ‚Ð¾Ñ€ Ð½Ðµ Ñ€ÑƒÐ³Ð°ÐµÑ‚ÑÑ Ð½Ð° Ñ‚Ð°ÐºÑƒÑŽ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑŽ, ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾, Ñ‚Ð¸Ð¿ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð° Ð¼ÐµÑ‚Ð¾Ð´Ð° ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ *Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾* ÑÐ²ÑÐ·Ð°Ñ‚ÑŒ Ñ Ñ‚Ð¸Ð¿Ð¾Ð¼ ÐµÐ³Ð¾ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð°. Ð¡ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ð¼Ð¸ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸ (Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸ÑÐ¼Ð¸ Ð¸Ð· Ñ‚Ð¸Ð¿Ð¾Ð² Ð² Ñ‚Ð¸Ð¿) ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ñ ÑÐ¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð°Ð½Ð°Ð»Ð¾Ð³Ð¸Ñ‡Ð½Ð°Ñ. ÐŸÐ¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÑÑŽÑ‚ ÑÐ¾Ð±Ð¾Ð¹ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚ Ð¼Ð¾Ñ‰Ð½Ð¾Ð¹ Ð²Ñ‹Ñ€Ð°Ð·Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð¹ ÑÐ¸Ð»Ñ‹, Ð½Ð¾ Ð¿Ñ€Ð¸ ÑÑ‚Ð¾Ð¼ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽÑ‚ ÐºÐ»ÑŽÑ‡ÐµÐ²ÑƒÑŽ Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² - Ð±Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ñ Ð¸Ð·Ð¾Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ñƒ ÐšÐ°Ñ€Ñ€Ð¸-Ð¥Ð¾Ð²Ð°Ñ€Ð´Ð°, ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ‚Ð¾Ñ€ Ð¿Ð¾-Ð¿Ñ€ÐµÐ¶Ð½ÐµÐ¼Ñƒ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ÑÑ‚ÑŒ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð° Ð´Ð¾ ÐµÐ³Ð¾ Ð¸ÑÐ¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ. (Ð”Ð°, Ñ€ÐµÐºÑƒÑ€ÑÐ¸Ð²Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹, ÑƒÐ¿Ð¾Ð¼ÑÐ½ÑƒÑ‚Ñ‹Ðµ Ñ€Ð°Ð½ÐµÐµ, Ð¼Ð¾Ð³ÑƒÑ‚ ÑƒÑÐ»Ð¾Ð¶Ð½Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÑƒ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ÑÑ‚Ð¸, Ð° Ñ‚Ð¾ Ð¸ Ð²Ð¾Ð²ÑÐµ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ ÐµÑ‘ Ð½ÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾Ð¹, Ð½Ð¾ ÑÑ‚Ð¾ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð°Ñ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ñ.)

### Ð’Ð¸Ð´ Ñ‚Ð¸Ð¿Ð°

ÐŸÑ€Ð¸Ð²ÐµÐ´Ñ‘Ð½Ð½Ñ‹Ðµ Ð²Ñ‹ÑˆÐµ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð´ÐµÐ¼Ð¾Ð½ÑÑ‚Ñ€Ð¸Ñ€ÑƒÑŽÑ‚, Ñ‡Ñ‚Ð¾ Ñ‚Ð¸Ð¿Ñ‹ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð³Ð¾ Ñ€Ð¾Ð´Ð° Ð¼Ð¾Ð³ÑƒÑ‚ Ð¾Ñ‚Ð½Ð¾ÑÐ¸Ñ‚ÑÑ Ðº Ñ€Ð°Ð·Ð½Ñ‹Ð¼ **Ð²Ð¸Ð´Ð°Ð¼ Ñ‚Ð¸Ð¿Ð°** (type kinds). Ð’ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸ÑÑ… ÑÑ‚Ð¸Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ð¾Ð´Ð½Ð¾Ð·Ð½Ð°Ñ‡Ð½Ð¾ ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ, Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ ÐºÐ°ÐºÐ¾Ð³Ð¾ Ð²Ð¸Ð´Ð° Ñ‚Ð¸Ð¿Ð¾Ð² Ð¾Ð½Ð¸ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÑŽÑ‚: `A`, `F[_]`, `Algebra[_[_]]`. Ð¢Ð°ÐºÐ¸Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ð»Ð¸Ð±Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ð¼Ð¸ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸, Ð»Ð¸Ð±Ð¾ Ð´Ñ€ÑƒÐ³Ð¸Ð¼Ð¸ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð°Ð¼Ð¸ Ñ‚Ð¸Ð¿Ð¾Ð² - Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸ÑÐ¼Ð¸ Ð¸Ð· Ñ‚Ð¸Ð¿Ð¾Ð² Ð² Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹.

Ð”Ð»Ñ Ð²Ð¸Ð´Ð¾Ð² Ñ‚Ð¸Ð¿Ð¾Ð² Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð½Ð° ÑÐ²Ð¾Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð° Ð¾Ð±Ð¾Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹. Ð’Ð¸Ð´ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ð¾Ð±Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚ÑÑ Ð·Ð²Ñ‘Ð·Ð´Ð¾Ñ‡ÐºÐ¾Ð¹ $\star$. Ð’Ð¸Ð´ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð¾Ð² Ñ‚Ð¸Ð¿Ð¾Ð², Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÑŽÑ‰Ð¸Ñ… Ð½Ð° Ð²Ñ…Ð¾Ð´ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹, Ð·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÑ‚ÑÑ ÐºÐ°Ðº $\star\rightarrow\star$. Ð’ÑÐµ Ð¾ÑÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð²Ð¸Ð´Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð² ÑÑ‚Ñ€Ð¾ÑÑ‚ÑÑ Ð¿Ð¾ Ð¸Ð½Ð´ÑƒÐºÑ†Ð¸Ð¸. Ð’ ÑÐ·Ñ‹ÐºÐ°Ñ… ÑÐµÐ¼ÐµÐ¹ÑÑ‚Ð²Ð° ML (Ñ‚Ð¾Ð¼ Ð¶Ðµ Haskell) Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ ÑÑ€Ð°Ð·Ñƒ Ð·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°ÑŽÑ‚ÑÑ Ð² ÐºÐ°Ñ€Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð¼ Ð²Ð¸Ð´Ðµ, ÑÑ‚Ð¾ Ð¶Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¾ Ð¾Ñ‚Ð½Ð¾ÑÐ¸Ñ‚ÑÑ Ð¸ Ðº ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð°Ð¼ Ñ‚Ð¸Ð¿Ð¾Ð². Ð’ Scala Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½ Ð±Ð¾Ð»ÐµÐµ Ñ‚Ñ€Ð°Ð´Ð¸Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ð¹ ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ, ÐºÐ¾Ð³Ð´Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð², Ñ€Ð°Ð·Ð´ÐµÐ»Ñ‘Ð½Ð½Ñ‹Ñ… Ð·Ð°Ð¿ÑÑ‚Ñ‹Ð¼Ð¸ - Ñ‚Ð°ÐºÐ¶Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÑŽÑ‚ÑÑ Ð¸ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð². Ð’ Ð¸Ñ‚Ð¾Ð³Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÑƒÑŽ Ñ„Ð¾Ñ€Ð¼Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑŽ:
> *Ð’Ð¸Ð´ Ñ‚Ð¸Ð¿Ð° - ÑÑ‚Ð¾ Ð»Ð¸Ð±Ð¾ Ð²Ð¸Ð´ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² ($\star$), Ð»Ð¸Ð±Ð¾ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ ($\rightarrow$) Ð¸Ð· Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð²Ð¸Ð´Ð° Ñ‚Ð¸Ð¿Ð° (Ð¸Ð»Ð¸ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… Ñ‡ÐµÑ€ÐµÐ· Ð·Ð°Ð¿ÑÑ‚ÑƒÑŽ) Ð² Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ð²Ð¸Ð´ Ñ‚Ð¸Ð¿Ð°.*

Ð¡Ñ‚Ñ€ÐµÐ»ÐºÐ°, ÐºÐ°Ðº Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€, Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¿Ð¾Ð´Ñ€Ð°Ð·ÑƒÐ¼ÐµÐ²Ð°ÐµÑ‚ Ð¿Ñ€Ð°Ð²ÑƒÑŽ Ð°ÑÑÐ¾Ñ†Ð¸Ð°Ñ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ, Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ Ð²Ð¸Ð´ $\star\rightarrow(\star\rightarrow\star)$ ÑÐºÐ²Ð¸Ð²Ð°Ð»ÐµÐ½Ñ‚ÐµÐ½ Ð²Ð¸Ð´Ñƒ $\star\rightarrow\star\rightarrow\star$. Ð¢Ð°ÐºÐ¸Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼, Ð² ÐºÐ¾Ð½Ñ†Ðµ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð²Ð¸Ð´Ð° Ñ‚Ð¸Ð¿Ð° Ð¿Ð¾ÑÐ»Ðµ ÑÑ‚Ñ€ÐµÐ»Ð¾Ñ‡ÐºÐ¸ Ð±ÑƒÐ´ÐµÑ‚ Ð²Ð¸Ð´ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð° $\star$, ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾, Ð»ÑŽÐ±Ð¾Ð¹ Ð²Ð¸Ð´ Ñ‚Ð¸Ð¿Ð° Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÑ‚ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ñ‹ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ñ…, Ð¸ÑÑ‚Ð¸Ð½Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð²!

Ð’ ÑÑ‚Ð¾Ð¹ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ Ð´ÐµÐ¼Ð¾Ð½ÑÑ‚Ñ€Ð¸ÑƒÐµÑ‚ÑÑ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ Ð²Ð¸Ð´Ð¾Ð² Ñ‚Ð¸Ð¿Ð° Ð¸ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð² ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð¾Ð² Ñ‚Ð¸Ð¿Ð°:

| Ð’Ð¸Ð´ Ñ‚Ð¸Ð¿Ð°                                                    | ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð¾Ð² Ñ‚Ð¸Ð¿Ð° ÑÑ‚Ð¾Ð³Ð¾ Ð²Ð¸Ð´Ð°                                                | ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ñ‚Ð¸Ð¿Ð° ÑÑ‚Ð¾Ð³Ð¾ Ð²Ð¸Ð´Ð°                                |
| ----------------------------------------------------------- | ------------------------------------------------------------------------- | ------------------------------------- |
| $\star$                                                     | `A`                                                                       | `Int`                                 |
| $\star\rightarrow\star$                                     | `F[_]`                                                                    | `Option`                              |
| $\star\rightarrow\star\rightarrow\star$                     | `F[_][_]`, Ð½Ð¾ Scala Ð½Ðµ ÑƒÐ¼ÐµÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ñ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°Ð¼Ð¸ ÐºÐ°Ñ€Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾ Ð²Ð¸Ð´Ð°(( | `Reader` Ð¸Ð· Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð° Ð²Ñ‹ÑˆÐµ              |
| $(\star\rightarrow\star)\rightarrow\star$                   | `Alg[_[_]]`                                                                 | `Functor`                             |
| $((\star\rightarrow\star)\rightarrow\star)\rightarrow\star$ | `Prog[_[_[_]]]`                                                           | `TaglessFinalProgram` Ð¸Ð· Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð° Ð²Ñ‹ÑˆÐµ | 
| $(\star,\star)\rightarrow\star$                             | `M[_, _]`                                                                 | `Map`                                 |
Ð•Ñ‰Ñ‘ Ñ€Ð°Ð· ÑÑ‚Ð¾Ð¸Ñ‚ Ð¾Ð±Ñ€Ð°Ñ‚Ð¸Ñ‚ÑŒ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ Ð½Ð° Ð²Ð¸Ð´ Ñ‚Ð¸Ð¿Ð° `Functor` Ð¸Ð· Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð° Ð²Ñ‹ÑˆÐµ - Ð² Scala ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ Ð²Ñ€Ð¾Ð´Ðµ `[A, B] => ...` Ð¾Ð±Ð¾Ð·Ð½Ð°Ñ‡Ð°ÑŽÑ‚ *Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ Ñ‚Ð¸Ð¿* Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ð¾Ð¹ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸, Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ Ð² Ð¸Ñ‚Ð¾Ð³Ðµ Ð´Ð»Ñ `Functor` Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ÑÑ Ð²Ð¸Ð´ $(\star\rightarrow\star)\rightarrow\star$.

Ð’ [Scala REPL](https://docs.scala-lang.org/ru/scala3/book/taste-repl.html) (Ð¸Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð°Ñ‚Ð¾Ñ€ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð½Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐ¸) ÐµÑÑ‚ÑŒ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ð¾Ð´ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð²Ð¸Ð´ Ñ‚Ð¸Ð¿Ð°, Ð²Ð¾ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð²ÑˆÐ¸ÑÑŒ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾Ð¹ `:kind` (Ñ Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¼ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð¼ `-v`). ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð´Ð»Ñ Ñ‚Ð¸Ð¿Ð° `Functor` Ð¸Ð· Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸ [Cats](https://typelevel.org/cats/) Ð²Ñ‹Ð²Ð¾Ð´ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð±ÑƒÐ´ÐµÑ‚ Ñ‚Ð°ÐºÐ¾Ð¹: 
```
scala> :kind -v cats.Functor
cats.Functor's kind is X[F[A]]
(* -> *) -> *
This is a type constructor that takes type constructor(s): a higher-kinded type.
```
Ðš ÑÐ¾Ð¶Ð°Ð»ÐµÐ½Ð¸ÑŽ, ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° `:kind` Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ñ‹Ð¼Ð¸ Ñ€Ð°Ð½ÐµÐµ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ð¼Ð¸ ÐºÐ»Ð°ÑÑÐ°Ð¼Ð¸ (Ñ‚Ñ€ÐµÐ¹Ñ‚Ð°Ð¼Ð¸). ÐŸÑÐµÐ²Ð´Ð¾Ð½Ð¸Ð¼Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð² Ð¸Ð»Ð¸ Î»-Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ ÑÑ‚Ð° ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° Ð½Ðµ Ð²Ð¾ÑÐ¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚.

ÐŸÑ€Ð¸ Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ¸ ÑÑ‚Ð°Ñ‚ÑŒÐ¸ Ð±Ñ‹Ð»Ð° Ð¸Ð´ÐµÑ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ñ‡Ñ‚Ð¾-Ñ‚Ð¾ Ð²Ñ€Ð¾Ð´Ðµ *Ñ‚Ð¸Ð¿Ð° Ð²Ð¸Ð´Ð° Ñ‚Ð¸Ð¿Ð°*))):
```scala
type Kind
type GetKind[A <: AnyKind] // <: Kind   // (Ð¿Ñ€Ð¾ AnyKind Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð°Ð»ÑŒÑˆÐµ)
def instantinate[K <: Kind]: Kind = ??? // ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÑ‚Ð¾Ñ€ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ñ‚Ð¸Ð¿Ð° Ð²Ð¸Ð´Ð° Ñ‚Ð¸Ð¿Ð°
def toString(kind: Kind): String = ???  // ÑÑ‚Ñ€Ð¾ÐºÐ° Ð²Ð¸Ð´Ð° "(â‹† â†’ â‹†) â†’ â‹†"
```
Ð¡Ð°Ð¼ Ñ‚Ð¸Ð¿ `Kind` Ð¼Ð¾Ð¶Ð½Ð¾ Ð±Ñ‹Ð»Ð¾ Ð±Ñ‹ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ñ‚ÑŒ ÐºÐ°Ðº-Ñ‚Ð¾ Ñ‚Ð°Ðº:
```scala
opaque type â‹† = Unit                    // Ð²Ð¸Ð´ Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð²
type -->[K1, K2] = (K1, K2)             // Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð½ÐµÐºÐ°Ñ ÑÑ‚Ñ€ÐµÐ»ÐºÐ°
type Kind = â‹† | (Kind --> Kind)         // Ñ‚Ð¸Ð¿ Ð²Ð¸Ð´Ð° Ñ‚Ð¸Ð¿Ð° (Ð±ÐµÐ· Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ñ… Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð²)
```
ÐÐ¾, Ñ‚Ð°ÐºÐ¾Ð¹ ÐºÐ¾Ð´, Ðº ÑÐ¾Ð¶Ð°Ð»ÐµÐ½Ð¸ÑŽ, Ð½Ðµ ÐºÐ¾Ð¼Ð¿Ð¸Ð»Ð¸Ñ€ÑƒÐµÑ‚ÑÑ - Ñ€ÐµÐºÑƒÑ€ÑÐ¸Ð²Ð½Ñ‹Ðµ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ Ð¿ÑÐµÐ²Ð´Ð¾Ð½Ð¸Ð¼Ð¾Ð² Ñ‚Ð¸Ð¿Ð¾Ð² Ð½Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ð² Scala. Ð•ÑÑ‚ÑŒ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ Ð¾Ð±Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð¼Ð°Ð½Ñ‘Ð²Ñ€Ñ‹ Ð´Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð¿Ñ€ÐµÐ¿ÑÑ‚ÑÑ‚Ð²Ð¸Ñ, Ð½Ð¾, Ñ‚Ð°Ðº Ð¸Ð»Ð¸ Ð¸Ð½Ð°Ñ‡Ðµ, Ð²ÑÐµ Ð¾Ð½Ð¸ Ð·Ð°Ð²ÐµÐ»Ð¸ Ð² Ñ‚ÑƒÐ¿Ð¸Ðº. [Ð§ÐµÐ³Ð¾-Ñ‚Ð¾ Ð¿Ð¾Ñ…Ð¾Ð¶ÐµÐ³Ð¾](https://github.com/lampepfl/dotty/blob/main/tests/pos/anykind.scala) Ð¼Ð¾Ð¶Ð½Ð¾ Ð´Ð¾Ð±Ð¸Ñ‚ÑŒÑÑ, Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð¸Ð² Ð½ÐµÑÐ²Ð½Ñ‹Ðµ ÑÐºÐ·ÐµÐ¼Ð¿Ð»ÑÑ€Ñ‹ Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ ÐºÐ»Ð°ÑÑÐ° Ñ‚Ð¸Ð¿Ð¾Ð², Ð½Ð¾ Ñ‚Ð°ÐºÐ¾Ð¹ Ð¼ÐµÑ‚Ð¾Ð´ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ *Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ ÐºÐ¾Ð½ÐµÑ‡Ð½Ð¾Ð³Ð¾ Ñ‡Ð¸ÑÐ»Ð°* Ð²Ð¸Ð´Ð¾Ð² Ñ‚Ð¸Ð¿Ð°.  Ð•ÑÐ»Ð¸ Ñƒ ÐºÐ¾Ð³Ð¾-Ñ‚Ð¾ Ð¸Ð· Ñ‡Ð¸Ñ‚Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð»Ð¾ÑÑŒ Ð¿Ð¾Ð±ÐµÐ´Ð¸Ñ‚ÑŒ ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ‚Ð¾Ñ€ Scala Ð¸ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑ‚Ñƒ Ð·Ð°Ð´ÑƒÐ¼ÐºÑƒ Ð´Ð»Ñ Ð²ÑÐµÑ… Ð²Ð¸Ð´Ð¾Ð² Ñ‚Ð¸Ð¿Ð¾Ð², Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð´ÐµÐ»Ð¸Ñ‚ÐµÑÑŒ Ñ€ÐµÑ†ÐµÐ¿Ñ‚Ð¾Ð¼ Ð² ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸ÑÑ….

### Ð’Ñ‹Ñ‡Ð¸ÑÐ»ÐµÐ½Ð¸Ñ Ð½Ð° ÑƒÑ€Ð¾Ð²Ð½Ðµ Ñ‚Ð¸Ð¿Ð¾Ð²

Ð˜Ñ‚Ð°Ðº, Ñƒ Ð½Ð°Ñ ÐµÑÑ‚ÑŒ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð°Ð»Ð³ÐµÐ±Ñ€Ð°Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð¸Ð· Ñ‚Ð¸Ð¿Ð¾Ð², Ð° Ñ‚Ð°ÐºÐ¶Ðµ ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¸Ð· Ñ‚Ð¸Ð¿Ð¾Ð² Ð² Ñ‚Ð¸Ð¿. Ð˜ ÑÑ‚Ð¸Ñ… Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÐµÐ¹ Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð·Ð°Ð½ÑÑ‚ÑŒÑÑ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Ð½Ð° ÑƒÑ€Ð¾Ð²Ð½Ðµ Ñ‚Ð¸Ð¿Ð¾Ð²!

Ð Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ Ñ‚Ð°ÐºÐ¸Ðµ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ Ñ‚Ð¸Ð¿Ð¾Ð²:
```scala
type âŠ¥        = Unit
type âŠ¤        = [A] =>> A

type IfFlase Â = [False] =>> [True] =>> False
type IfTrue Â  = [False] =>> [True] =>> True

type Zero Â  Â  = [Z] =>> [Succ[_]] =>> Z
type One Â  Â  Â = [Z] =>> [Succ[_]] =>> Succ[Z]
type Two   Â  Â = [Z] =>> [Succ[_]] =>> Succ[Succ[Z]]
type Three Â  Â = [Z] =>> [Succ[_]] =>> Succ[Succ[Succ[Z]]]
```

Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² ÑÐ¾Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¾ Ñ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚ÑÐ¼Ð¸, ÑÐ²ÑÐ·Ð°Ð½Ð½Ñ‹Ð¼Ð¸ Ñ Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸ÐµÐ¼ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¸ Ð² Scala ÐºÐ°Ñ€Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð²-Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð², Ð½Ð¾ Ð²ÑÑ‘ Ð¶Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾. Ð¡ Ð°Ð½Ð°Ð»Ð¾Ð³Ð¸Ñ‡Ð½Ñ‹Ð¼ Ñ€ÐµÑˆÐµÐ½Ð¸ÐµÐ¼ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾Ð·Ð½Ð°ÐºÐ¾Ð¼Ð¸Ñ‚ÑÑ Ð² ÑÑ‚Ð°Ñ‚ÑŒÐµ [Typelevel Church Numerals in Scala 3](https://raasahsan.com/posts/typelevel-church-numerals-in-scala-3/) - Ñ‚Ð°Ð¼ Ñ‚Ð°ÐºÐ¶Ðµ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ñ‹ Ñ‚Ð¸Ð¿Ñ‹ ÑÐ»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð¸ ÑƒÐ¼Ð½Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð´Ð»Ñ Ñ‚Ð°ÐºÐ¸Ñ… "Ð½Ð°Ñ‚ÑƒÑ€Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ñ‡Ð¸ÑÐµÐ»".

ÐŸÑ€Ð¸Ð½Ð°Ð´Ð»ÐµÐ¶Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ñ… Ð²Ñ‹ÑˆÐµ Ñ‚Ð¸Ð¿Ð¾Ð² Ð¾Ð´Ð½Ð¾Ð¼Ñƒ "Ñ‚Ð¸Ð¿Ñƒ" Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ÑÑ *Ð²Ð¸Ð´Ð¾Ð¼ ÑÑ‚Ð¸ Ñ‚Ð¸Ð¿Ð¾Ð²*:
```scala
type Zero Â  Â  Â  Â  Â  Â  Â  Â  // â‹†
type One[A] Â  Â  Â  Â  Â  Â  Â  // â‹† â†’ â‹†
type Bool[False, True] Â  Â // â‹† â†’ â‹† â†’ â‹†       Ñ‚ÑƒÑ‚ Ð¿Ð¾Ð´Ñ€Ð°Ð·ÑƒÐ¼ÐµÐ²Ð°ÐµÑ‚ÑÑ ÐºÐ°Ñ€Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
type Natural[Succ[_], Z] Â // (â‹† â†’ â‹†) â†’ â‹† â†’ â‹†
type Pair[Bool[_, _]] Â  Â  // (â‹† â†’ â‹† â†’ â‹†) â†’ â‹† Ñ‚ÑƒÑ‚ Ñ‚Ð¾Ð¶Ðµ
```
Ð˜ ÑÑ‚Ð¾ Ð»Ð¾Ð³Ð¸Ñ‡Ð½Ð¾, Ñ‚Ð°Ðº ÐºÐ°Ðº Ð²Ð¸Ð´ Ñ‚Ð¸Ð¿Ð° ÑÐ²Ð»ÑÐµÑ‚ÑÑ, Ð¿Ð¾ ÑÑƒÑ‚Ð¸, Ñ‚Ð¸Ð¿Ð¾Ð¼ Ñ‚Ð¸Ð¿Ð°! ÐÐµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð·Ð°Ð¼ÐµÑ‚Ð¸Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ðµ Ñ‚ÑƒÑ‚ Ð²Ð¸Ð´Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð² ÐºÐ¾Ñ€Ñ€ÐµÐ»Ð¸Ñ€ÑƒÑŽÑ‚ Ñ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸ Ð² ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ Ð§Ñ‘Ñ€Ñ‡Ð°, Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼Ð¸ **Ñ€Ð°Ð½ÐµÐµ**.

Ð¢Ñ€Ð°ÐºÑ‚Ð¾Ð²ÐºÐ° Ñ‚Ð°ÐºÐ¸Ñ… ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð¾Ð² Ñ‚Ð¸Ð¿Ð¾Ð² Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð¾Ñ‡ÐµÐ²Ð¸Ð´Ð½Ð°. ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ñ‚Ð¸Ð¿Ñ‹ Ð½Ð°Ñ‚ÑƒÑ€Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ñ‡Ð¸ÑÐµÐ» ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‚ Ð¸Ñ‚ÐµÑ€Ð°Ñ†Ð¸ÑÐ¼ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð½ÐµÐºÐ¾Ð³Ð¾ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð° Ñ‚Ð¸Ð¿Ð¾Ð² `Succ` Ðº Ñ‚Ð¸Ð¿Ñƒ `Z`.  ÐÐ¾ Ñ‚Ð°ÐºÐ¶Ðµ ÑÑ‚Ð¸ Ñ‚Ð¸Ð¿Ñ‹ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ, ÐºÐ°Ðº *Ñ„Ð°Ð½Ñ‚Ð¾Ð¼Ð½Ñ‹Ðµ*, Ð½Ðµ Ð¿Ñ€ÐµÐ´ÑƒÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°ÑŽÑ‰Ð¸Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð¼ÐµÑ‚Ð¾Ðº Ñ‚ÐµÑ€Ð¼Ð¾Ð², Ð½Ð¾ ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿ÐµÑ€ÐµÐ´Ð°Ð²Ð°Ñ‚ÑŒ Ð² Ð´Ñ€ÑƒÐ³Ð¸Ðµ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð². Ð¡ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ñ‚Ð°ÐºÐ¸Ñ… Ñ„Ð°Ð½Ñ‚Ð¾Ð¼Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ð¼Ð¾Ð¶Ð½Ð¾, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð¿Ð¾ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ñ‚Ð¸Ð¿ ÑÐ¿Ð¸ÑÐºÐ° Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð¹ Ð½Ð° ÑÑ‚Ð°Ð¿Ðµ ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ†Ð¸Ð¸ Ð´Ð»Ð¸Ð½Ñ‹ - Ð¿Ñ€Ð¸ ÐºÐ¾Ð½ÐºÐ°Ñ‚ÐµÐ½Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ð¸Ð½Ð½Ð° Ð½Ð¾Ð²Ð¾Ð³Ð¾ ÑÐ¿Ð¸ÑÐºÐ° Ð±ÑƒÐ´ÐµÑ‚ Ñ‚Ð°ÐºÐ¶Ðµ Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒÑÑ Ð½Ð° ÑÑ‚Ð°Ð¿Ðµ ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ†Ð¸Ð¸. Ð˜, Ð² Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿Ðµ, Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ñ‹ Ð½Ð° ÑƒÑ€Ð¾Ð²Ð½Ðµ Ñ‚Ð¸Ð¿Ð¾Ð² Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð¸Ð¼ÐµÐ½Ð½Ð¾ Ð´Ð»Ñ ÐºÐ°ÐºÐ¸Ñ…-Ð»Ð¸Ð±Ð¾ Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÐµÐ½Ð¸Ð¹ Ð½Ð° ÑÑ‚Ð°Ð¿Ðµ ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ†Ð¸Ð¸. Ð­Ñ‚Ð° Ð¸Ð´ÐµÑ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ñ€Ð°ÑÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð² habr-ÑÑ‚Ð°Ñ‚ÑŒÐµ [Ð ÐµÑˆÐµÐ½Ð¸Ðµ Ð·Ð°Ð´Ð°Ñ‡Ð¸ Ð¾ 8 Ñ„ÐµÑ€Ð·ÑÑ… Ð½Ð° Ñ‚Ñ€Ñ‘Ñ… ÑƒÑ€Ð¾Ð²Ð½ÑÑ… Scala â€” Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð°, Ñ‚Ð¸Ð¿Ñ‹, Ð¼ÐµÑ‚Ð°Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð°](https://habr.com/ru/articles/725462/).

ÐŸÐ»ÑŽÑÐ¾Ð¼ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð½Ð° Ñ‚Ð¸Ð¿Ð°Ñ… ÑÐ²Ð»ÑÐµÑ‚ÑÑ ÐµÐ³Ð¾ *Ñ‡Ð¸ÑÑ‚Ð¾Ñ‚Ð°* Ñ Ñ‚Ð¾Ñ‡ÐºÐ¸ Ð·Ñ€ÐµÐ½Ð¸Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ. ÐÐµÑ‚ Ð½Ð¸ÐºÐ°ÐºÐ¸Ñ… ÑÑ„Ñ„ÐµÐºÑ‚Ð¾Ð² â€“ Ð²Ð¾Ð¾Ð±Ñ‰Ðµ Ð½Ð¸ÐºÐ°ÐºÐ¾Ð³Ð¾ â€œÐ½ÐµÑ‡Ð¸ÑÑ‚Ð¾Ð³Ð¾â€ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ñ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸ÐµÐ¼. ÐÐ¾ ÑÑ‚Ð¾ Ð¶Ðµ ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð¸ Ð¼Ð¸Ð½ÑƒÑÐ¾Ð¼, Ð²ÐµÐ´ÑŒ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ñ‚Ð°ÐºÐ¾Ð¹ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼ Ð¼Ð¾Ð¶ÐµÑ‚ Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ Ð»Ð¸ÑˆÑŒ ÐµÐ´Ð¸Ð½ÑÑ‚Ð²ÐµÐ½Ð½ÑƒÑŽ Ð·Ð°Ð´Ð°Ñ‡Ñƒ, ÑƒÑÐ»Ð¾Ð²Ð¸Ñ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹ Ð¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹ Ð´Ð¾ ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ†Ð¸Ð¸. Ð’Ð¾ Ð¼Ð½Ð¾Ð³Ð¸Ñ… Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð°Ñ… ÐµÑÑ‚ÑŒ ÐºÐ°Ðº Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ Ð¾Ð´Ð½Ð° Ñ‚Ð°ÐºÐ°Ñ ÑÐ²ÐµÑ€Ñ…Ð·Ð°Ð´Ð°Ñ‡Ð° - Ð¿Ð¾ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ðµ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ð¹ ÐºÐ¾Ð¼Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹, Ð±Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ñ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹ Ð² Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð±ÑƒÐ´ÑƒÑ‚ Ð¿ÐµÑ€ÐµÐ´Ð°Ð²Ð°Ñ‚ÑŒÑÑ Ð¼ÐµÐ¶Ð´Ñƒ Ð¾Ð±ÑŠÐµÐºÑ‚Ð°Ð¼Ð¸ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ (ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ð°, Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€, Ð¿Ð°Ð¼ÑÑ‚ÑŒ, Ð‘Ð”, web-ÑÐ»ÑƒÐ¶Ð±Ñ‹ Ð¸ Ñ‚.Ð¿.) ÑÐ¾Ð³Ð»Ð°ÑÐ½Ð¾ Ñ‚ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¾Ð¼Ñƒ Ð·Ð°Ð´Ð°Ð½Ð¸ÑŽ. Ð¢Ð°Ðº Ð²Ð¾Ñ‚ Ñ Ñ‚Ð°ÐºÐ¾Ð¹ ÑÐ²ÐµÑ€Ñ…Ð·Ð°Ð´Ð°Ñ‡ÐµÐ¹ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð½Ð° Ñ‚Ð¸Ð¿Ð°Ñ… ÑÐ¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ÑÑ Ð²Ð¿Ð¾Ð»Ð½Ðµ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾.

Ð”Ñ€ÑƒÐ³Ð¸Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð½Ð° Ñ‚Ð¸Ð¿Ð°Ñ… Ð¼Ð¾Ð¶Ð½Ð¾ Ð½Ð°Ð¹Ñ‚Ð¸ Ñ‚ÑƒÑ‚:
- [Type-Level Programming in Scala](https://apocalisp.wordpress.com/2010/06/08/type-level-programming-in-scala/) Ð¸Ð· Ð¶ÑƒÑ€Ð½Ð°Ð»Ð° [Apocalisp](https://apocalisp.wordpress.com/).
- Type-Level Programming in Scala Ñ Ñ€ÐµÑÑƒÑ€ÑÐ° [Rock the JVM Blog](https://blog.rockthejvm.com/) ([Part I](https://blog.rockthejvm.com/type-level-programming-scala-3/), [Part II](https://blog.rockthejvm.com/type-level-programming-part-2/), [Part III](https://blog.rockthejvm.com/type-level-programming-part-3/))
- Meta-Programming with Scala: ([Part I](https://michid.wordpress.com/2008/04/18/meta-programming-with-scala-part-i-addition/), [Part II](https://michid.wordpress.com/2008/07/30/meta-programming-with-scala-part-ii-multiplication/), [Part III](https://michid.wordpress.com/2008/08/27/meta-programming-with-scala-part-iii-partial-function-application/))
- ÐŸÑ€ÐµÐ·ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ [Type-Level Computations in Scala](https://scala-slick.org/talks/scalaio2014/Type-Level_Computations.pdf)

Ð¢Ð°ÐºÐ¶Ðµ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ñ‚Ð°ÐºÐ¸Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ SKI Ð½Ð° ÑƒÑ€Ð¾Ð²Ð½Ðµ Ñ‚Ð¸Ð¿Ð¾Ð²:
- [Scala type level encoding of the SKI calculus](https://michid.wordpress.com/2010/01/29/scala-type-level-encoding-of-the-ski-calculus/)
- GitHub-Ð¿Ñ€Ð¾ÐµÐºÑ‚ [Type level lambda calculus in Scala](https://github.com/tarao/lambda-scala)

### ÐŸÐ¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ð²Ð¸Ð´Ð¾Ð²

Ð•ÑÑ‚ÑŒ Ð»Ð¸ ÐºÐ°ÐºÐ¸Ðµ-Ð½Ð¸Ð±ÑƒÐ´ÑŒ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð¶Ð½Ð¾ Ð±Ñ‹Ð»Ð¾ Ð±Ñ‹ ÑÑ„Ð¾Ñ€Ð¼ÑƒÐ»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐµÐ´Ð¸Ð½Ð¾Ð¾Ð±Ñ€Ð°Ð·Ð½Ð¾ Ð´Ð»Ñ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ñ€Ð°Ð·Ð½Ð¾Ð³Ð¾ Ð²Ð¸Ð´Ð°? ÐšÐ¾Ð½ÐµÑ‡Ð½Ð¾, ÐµÑÑ‚ÑŒ - ÑÑ‚Ð¾ Ð¸ Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ñ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð¾Ð² Ñ‚Ð¸Ð¿Ð¾Ð² (Ð² Ñ‡Ð°ÑÑ‚Ð½Ð¾ÑÑ‚Ð¸, ÑÐºÐ²Ð¸Ð²Ð°Ð»ÐµÐ½Ñ‚Ð½Ð¾ÑÑ‚ÑŒ), Ð¸ Ð±Ð°Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ð±Ñ€Ð¾Ñ Ñ‚Ð¸Ð¿Ð° Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð²Ð¸Ð´Ð° (Ð°Ð½Ð°Ð»Ð¾Ð³ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ `identity` Ð½Ð° Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑÑ…), ÐºÐ°ÐºÐ¸Ðµ-Ð»Ð¸Ð±Ð¾ Ð¼Ð¾Ð´Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð²Ð¸Ð´Ð° Ñ‚Ð¸Ð¿Ð° (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, ÑƒÑÐ»Ð¾Ð¶Ð½ÐµÐ½Ð¸Ðµ). Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð¾Ð² Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ð¾.

Ð¢Ð°ÐºÐ¾Ð³Ð¾ Ñ€Ð¾Ð´Ð° Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð½Ð°Ð´ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ð°Ð¼Ð¸ Ñ‚Ð¸Ð¿Ð¾Ð² Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ [Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ð¼Ð¸ Ð¿Ð¾ Ð²Ð¸Ð´Ñƒ](https://ru.wikipedia.org/wiki/%D0%9F%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%BF%D0%BE%D0%BB%D0%B8%D0%BC%D0%BE%D1%80%D1%84%D0%B8%D0%B7%D0%BC#%D0%9F%D0%BE%D0%BB%D0%B8%D0%BC%D0%BE%D1%80%D1%84%D0%B8%D0%B7%D0%BC_%D1%80%D0%BE%D0%B4%D0%BE%D0%B2) ÐŸÐ¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ð²Ð¸Ð´Ð¾Ð² (kind polimorphism) Ñ‚Ð°ÐºÐ¶Ðµ Ð½Ð°Ð·Ñ‹Ð²Ð°ÑŽÑ‚ *Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð³Ð¾ Ñ€Ð¾Ð´Ð°* (higher kinded polymorpism), Ð¿Ð¾Ð´Ñ€Ð°Ð·ÑƒÐ¼ÐµÐ²Ð°Ñ, Ñ‡Ñ‚Ð¾ Ð² ÑÑ‚Ð¾Ð¼ ÑÐ»ÑƒÑ‡Ð°Ðµ ÐºÐ²Ð°Ð½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ Ð¸Ð´Ñ‘Ñ‚ Ð¿Ð¾ *Ñ‚Ð¸Ð¿Ð°Ð¼ Ñ‚Ð¸Ð¿Ð¾Ð²*. Ð¯Ð·Ñ‹Ðº Haskell Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ñ Ð²Ð¸Ð´Ð°Ð¼Ð¸ Ñ‚Ð¸Ð¿Ð¾Ð² Ñ‚Ð°ÐºÐ¶Ðµ ÐºÐ°Ðº Ð¸ Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¼Ð¸ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸, ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ð¾, Ð´Ð»Ñ Ð½Ð¸Ñ… Ñ‚Ð°ÐºÐ¶Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½ Ð¸ [Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ð²Ð¸Ð´Ð¾Ð²](https://ghc.gitlab.haskell.org/ghc/doc/users_guide/exts/poly_kinds.html).  Ð’ Scala 3 Ð¶Ðµ Ð´Ð»Ñ ÑÑ‚Ð¸Ñ… Ñ†ÐµÐ»ÐµÐ¹ [Ð¿Ñ€ÐµÐ´ÑƒÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ½ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ](https://docs.scala-lang.org/scala3/reference/other-new-features/kind-polymorphism.html), Ð¿Ð¾Ñ…Ð¾Ð¶Ð¸Ð¹ Ð½Ð° Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð´Ñ‚Ð¸Ð¿Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð² Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð²: `<: AnyKind`:
```scala
type SomeTypeConstructor[A <: AnyKind]
```
Ð˜Ð· Ð·Ð° Ñ‚Ð°ÐºÐ¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒÑÑ, Ñ‡Ñ‚Ð¾ `AnyKind` ÑÐ²Ð»ÑÐµÑ‚ÑÑ ÐµÑ‰Ñ‘ Ð¾Ð´Ð½Ð¸Ð¼ Ñ‚Ð¸Ð¿Ð¾Ð¼, Ð½Ð¾ ÑÑ‚Ð¾ Ð½Ðµ Ñ‚Ð°Ðº. ÐÐ° ÑÐ°Ð¼Ð¾Ð¼ Ð´ÐµÐ»Ðµ ÑÑ‚Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¼ÐµÑ‚ÐºÐ° Ð´Ð»Ñ ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ‚Ð¾Ñ€Ð°, Ð´Ð¾Ð¿ÑƒÑÐºÐ°ÑŽÑ‰Ð°Ñ Ð²Ð¾Ð»ÑŒÐ½ÑƒÑŽ Ñ‚Ñ€Ð°ÐºÑ‚Ð¾Ð²ÐºÑƒ Ð²Ð¸Ð´Ð° Ñ‚Ð¸Ð¿Ð°-Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°.

ÐŸÑ€Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ð° Ð²Ð¸Ð´Ð¾Ð² Ð² Scala Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¾ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÐµÐ¹ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¸ `AnyKind`. ÐÐ° ÑƒÐ¿Ð¾Ð¼ÑÐ½ÑƒÑ‚Ð¾Ð¹ Ñ€Ð°Ð½ÐµÐµ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ðµ Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ Scala Ð´Ð¾ ÑÐ¸Ñ… Ð¿Ð¾Ñ€ ÐµÑÑ‚ÑŒ Ñ‚Ð°ÐºÐ°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°:
>(todo: insert good concise example)

Ð’ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ðµ Ð¶Ðµ Ð¼Ð¾Ð¶Ð½Ð¾ Ð½Ð°Ð¹Ñ‚Ð¸ Ñ‚Ð°ÐºÐ¸Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ `AnyKind`:
- Ð²Ð½ÑƒÑ‚Ñ€Ð¸ Scala, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, [Ð¿Ñ€Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ Ñ Ð¼Ð°ÐºÑ€Ð¾ÑÐ°Ð¼Ð¸](https://github.com/lampepfl/dotty/blob/5bb6f0ddf6eca05dfb2d224be6ccddecb07700c9/library/src/scala/quoted/Quotes.scala#L1812);
- [Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° ÐºÐ¾Ð½Ñ†ÐµÐ¿Ñ†Ð¸Ð¸](https://github.com/lampepfl/dotty/blob/main/tests/pos/anykind.scala) Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼Ð° Ð²Ð¸Ð´Ð¾Ð², Ð¿Ð¾ ÑƒÐ¶Ðµ ÑƒÐ¿Ð¾Ð¼Ð¸Ð½Ð°Ð²ÑˆÐµÐ¹ÑÑ Ñ€Ð°Ð½ÐµÐµ ÑÑÑ‹Ð»ÐºÐµ;
- Ð´Ð²Ðµ Ð»ÑŽÐ±Ð¾Ð¿Ñ‹Ñ‚Ð½Ñ‹Ñ… Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¼Ð¾Ð½Ð¾Ð¸Ð´Ð°, Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ð¾Ð³Ð¾ Ð¿Ð¾ Ð²Ð¸Ð´Ð°Ð¼ Ñ‚Ð¸Ð¿Ð°: [gist s5bug](https://gist.github.com/s5bug/dc9b765ee2ba11cab3d7bcfc2a0a44dc), [gist mandubian](https://gist.github.com/mandubian/dfd670f7740f47a1a2a7b662f828aac6);
- [Implement SKI combinator calculus](https://codegolf.stackexchange.com/a/210062) Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ `AnyKind`.
Ð•ÑÐ»Ð¸ Ñƒ Ñ‡Ð¸Ñ‚Ð°Ñ‚ÐµÐ»ÐµÐ¹ ÐµÑÑ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ñ€Ð¸Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¸Ñ… Ð² ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸ÑÑ….

### Ð’ÑÐµÐ»ÐµÐ½Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ð¾Ð²

Ð˜Ñ‚Ð°Ðº, Ð²Ð¸Ð´Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð² - ÑÑ‚Ð¾ Ñ‚Ð¸Ð¿Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð² Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð³Ð¾ Ñ€Ð¾Ð´Ð°. ÐÐ¾ â€œÑ‚Ð¸Ð¿Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð²â€ Ð½Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ ÑÐ°Ð¼Ð¸ Ð±Ñ‹Ñ‚ÑŒ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸ â€“ ÑÑ‚Ð¾ Ð¿Ñ€Ð¸Ð²ÐµÐ»Ð¾ Ð±Ñ‹ Ðº Ñ‚Ð°Ðº Ð½Ð°Ð·Ñ‹Ð²Ð°ÐµÐ¼Ð¾Ð¼Ñƒ *Ð¿Ð°Ñ€Ð°Ð´Ð¾ÐºÑÑƒ Ð–Ð¸Ñ€Ð°Ñ€Ð°*.
> ÐŸÐ°Ñ€Ð°Ð´Ð¾ÐºÑ Ð–Ð¸Ñ€Ð°Ñ€Ð° Ð² Ñ‚ÐµÐ¾Ñ€Ð¸Ð¸ Ñ‚Ð¸Ð¿Ð¾Ð² â€“ ÑÑ‚Ð¾ Ð°Ð½Ð°Ð»Ð¾Ð³ [Ð¿Ð°Ñ€Ð°Ð´Ð¾ÐºÑÐ° Ð Ð°ÑÑÐµÐ»Ð°](https://ru.wikipedia.org/wiki/%D0%9F%D0%B0%D1%80%D0%B0%D0%B4%D0%BE%D0%BA%D1%81_%D0%A0%D0%B0%D1%81%D1%81%D0%B5%D0%BB%D0%B0), Ð´ÐµÐ¼Ð¾Ð½ÑÑ‚Ñ€Ð¸Ñ€ÑƒÑŽÑ‰ÐµÐ³Ð¾, Ñ‡Ñ‚Ð¾ [ÑÐ¾Ð²Ð¾ÐºÑƒÐ¿Ð½Ð¾ÑÑ‚ÑŒ Ð²ÑÐµÑ… Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²](https://ru.wikipedia.org/wiki/%D0%A3%D0%BD%D0%B8%D0%B2%D0%B5%D1%80%D1%81%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5_%D0%BC%D0%BD%D0%BE%D0%B6%D0%B5%D1%81%D1%82%D0%B2%D0%BE) ÑÐ°Ð¼Ð° Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ð¾Ð¼. Ð’ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð½Ð°Ð¹Ñ‚Ð¸ Ð±Ð¾Ð»ÐµÐµ-Ð¼ÐµÐ½ÐµÐµ Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½ÑƒÑŽ Ð»Ð¸Ñ‚ÐµÑ€Ð°Ñ‚ÑƒÑ€Ñƒ Ð¿Ð¾ Ð¿Ð°Ñ€Ð°Ð´Ð¾ÐºÑÑƒ Ð–Ð¸Ñ€Ð°Ñ€Ð°, Ñ€Ð°Ð·Ð²Ðµ Ñ‡Ñ‚Ð¾ pdf-ÑÑ‚Ð°Ñ‚ÑŒÑ Ð¥Ñ‘Ñ€ÐºÐµÐ½ÑÐ° [A Simplification of Girardâ€™s Paradox](https://www.cs.cmu.edu/~kw/scans/hurkens95tlca.pdf).

ÐÐ°Ð»Ð¸Ñ‡Ð¸Ðµ Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð¿Ð°Ñ€Ð°Ð´Ð¾ÐºÑÐ¾Ð² Ð¼Ð¾Ð¶ÐµÑ‚ ÑÐºÐ¾Ð¼Ð¿Ñ€Ð¾Ð¼ÐµÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð²ÑÑŽ Ñ‚ÐµÐ¾Ñ€Ð¸ÑŽ Ñ‚Ð¸Ð¿Ð¾Ð², Ð´ÐµÐ»Ð°Ñ ÐµÑ‘ Ð½ÐµÐ½Ð°Ð´Ñ‘Ð¶Ð½Ð¾Ð¹. Ð’Ð¾ Ð¸Ð·Ð±ÐµÐ¶Ð°Ð½Ð¸Ðµ ÑÑ‚Ð¾Ð³Ð¾ Ð²Ð²Ð¾Ð´Ð¸Ñ‚ÑÑ ÐºÐ¾Ð½Ñ†ÐµÐ¿Ñ†Ð¸Ñ *Ð²ÑÐµÐ»ÐµÐ½Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð²*: Ñ‚Ð¸Ð¿Ñ‹ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð³Ð¾ Ñ€Ð¾Ð´Ð° Ð¾Ñ‚Ð½Ð¾ÑÑÑ‚ÑÑ Ðº â€œÐ¾Ð±Ñ‹Ñ‡Ð½Ð¾Ð¹â€ Ð²ÑÐµÐ»ÐµÐ½Ð½Ð¾Ð¹ Ñ‚Ð¸Ð¿Ð¾Ð² $U_0$, Ð² Ñ‚Ð¾ Ð²Ñ€ÐµÐ¼Ñ ÐºÐ°Ðº Ð²ÑÐµ Ð²Ð¸Ð´Ñ‹ Ñ‚Ð¸Ð¿Ð¾Ð² Ð¿Ñ€Ð¸Ð½Ð°Ð´Ð»ÐµÐ¶Ð°Ñ‚ ÑƒÐ¶Ðµ Ðº Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ð²ÑÐµÐ»ÐµÐ½Ð½Ð¾Ð¹ $U_1$. Ð’ Haskell Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸ Ð¸Ð· Ð¾Ð±ÐµÐ¸Ñ… Ð²ÑÐµÐ»ÐµÐ½Ð½Ñ‹Ñ… Ð¸ ÑÑ‡Ð¸Ñ‚Ð°ÐµÑ‚ÑÑ, Ñ‡Ñ‚Ð¾ ÑÑ‚Ð¾Ð³Ð¾ Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð´Ð»Ñ Ð·Ð°Ð´Ð°Ñ‡ ÑÐ·Ñ‹ÐºÐ°.

Ð¢ÐµÐ¼ Ð½Ðµ Ð¼ÐµÐ½ÐµÐµ, Ð°Ð½Ð°Ð»Ð¾Ð³Ð¸ÑŽ Ð¼ÐµÐ¶Ð´Ñƒ Ð²Ð¸Ð´Ð°Ð¼Ð¸ Ñ‚Ð¸Ð¿Ð¾Ð² Ð¸ ÑÐ°Ð¼Ð¸Ð¼Ð¸ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ, Ð²Ð²ÐµÐ´Ñ ÐºÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ‚Ð¾Ñ€Ñ‹ Ð²Ð¸Ð´Ð¾Ð² Ñ‚Ð¸Ð¿Ð° â€“ Ð²Ð¸Ð´Ñ‹ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð³Ð¾ Ñ€Ð¾Ð´Ð°! Ð¡Ð¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ð¾, Ð´Ð»Ñ ÐºÐ»Ð°ÑÑÐ¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ñ‚Ð°ÐºÐ¸Ñ… Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð½Ñ‹Ñ… Ð²Ð¸Ð´Ð¾Ð² Ñ‚Ð¸Ð¿Ð¾Ð² Ð¿Ð¾Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð²Ð²ÐµÑÑ‚Ð¸ Ð½ÐµÐºÐ¸Ðµ *Ð²Ð¸Ð´Ñ‹ Ð²Ð¸Ð´Ð¾Ð² Ñ‚Ð¸Ð¿Ð¾Ð²*, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ, Ð²Ð¾ Ð¸Ð·Ð±ÐµÐ¶Ð°Ð½Ð¸Ðµ Ð²ÑÑ‘ Ñ‚Ð¾Ð³Ð¾ Ð¶Ðµ Ð¿Ð°Ñ€Ð°Ð´Ð¾ÐºÑÐ° Ð–Ð¸Ñ€Ð°Ñ€Ð°, Ð±ÑƒÐ´ÑƒÑ‚ Ð¾Ñ‚Ð½Ð¾ÑÐ¸Ñ‚ÑÑ ÑƒÐ¶Ðµ Ðº ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ Ð²ÑÐµÐ»ÐµÐ½Ð½Ð¾Ð¹ Ñ‚Ð¸Ð¿Ð¾Ð² $U_2$. Ð¢Ð°ÐºÐ¸Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼ Ð¿Ð¾ Ð¸Ð½Ð´ÑƒÐºÑ†Ð¸Ð¸ Ð¼Ð¾Ð¶ÐµÐ¼ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð±ÐµÑÐºÐ¾Ð½ÐµÑ‡Ð½ÑƒÑŽ Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ Ð²ÑÐµÐ»ÐµÐ½Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð²: $U_0,\;U_1,\;U_2,\;\ldots$

Ð˜Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ð¾Ð¹ ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð½Ð°Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ ÐºÐ¾Ð´Ð°, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð±Ñ‹ Ð¾Ð´Ð¸Ð½Ð°ÐºÐ¾Ð²Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð» Ð´Ð»Ñ Ñ‚Ð¸Ð¿Ð¾Ð² Ð¸Ð· Ð»ÑŽÐ±Ð¾Ð¹ Ð²ÑÐµÐ»ÐµÐ½Ð½Ð¾Ð¹. ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ñ€Ð°Ð½ÐµÐµ Ð±Ñ‹Ð» Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½ Ð²Ð¸Ð´ Ñ‚Ð¸Ð¿Ð¾Ð², Ð°Ð½Ð°Ð»Ð¾Ð³Ð¸Ñ‡Ð½Ñ‹Ð¹ Ñ‚Ð¸Ð¿Ñƒ Ð½Ð°Ñ‚ÑƒÑ€Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ñ‡Ð¸ÑÐµÐ», Ð¸ Ñ‚Ð°ÐºÐ¸Ð¼ Ð¶Ðµ ÑÐ¿Ð¾ÑÐ¾Ð±Ð¾Ð¼ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð¾Ð±Ð¸Ñ‚Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð¸ Ð±Ð¾Ð»ÐµÐµ Ð´Ð°Ð»Ñ‘ÐºÐ¸Ñ… Ð²ÑÐµÐ»ÐµÐ½Ð½Ñ‹Ñ…. Ð¢Ð°ÐºÐ°Ñ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ ÑƒÐ¶Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð° Ð² Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… ÑÐ·Ñ‹ÐºÐ°Ñ… ([Agda](https://agda.readthedocs.io/en/latest/language/universe-levels.html), [Coq](https://coq.inria.fr/refman/addendum/universe-polymorphism.html)) Ð¸ Ð½Ð°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð¾Ð½Ð° â€œ**Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼ Ð²ÑÐµÐ»ÐµÐ½Ð½Ñ‹Ñ…**â€œ.

ÐœÐ¾Ð¶Ð½Ð¾ Ñ‚Ð°ÐºÐ¶Ðµ Ð·Ð°Ð¼ÐµÑ‚Ð¸Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ Ð²ÑÐµÐ»ÐµÐ½Ð½Ð°Ñ Ð²Ð¸Ð´Ð¾Ð² Ñ‚Ð¸Ð¿Ð¾Ð² Ð¿Ð¾Ñ…Ð¾Ð¶Ð° Ð½Ð° Ð²ÑÐµÐ»ÐµÐ½Ð½ÑƒÑŽ Ñ‚Ð¸Ð¿Ð¾Ð² Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð½Ð¾ Ñ‚Ð°ÐºÐ¶Ðµ, ÐºÐ°Ðº Ñ‚Ð¸Ð¿Ñ‹ Ð¿Ð¾Ñ…Ð¾Ð¶Ð¸ Ð½Ð° Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ â€“ Ð²Ñ‹ÑˆÐµ Ð±Ñ‹Ð»Ð¾ Ð¿Ñ€Ð¾Ð´ÐµÐ¼Ð¾Ð½ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾, ÐºÐ°Ðº Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÐµÐ½Ð¸Ñ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ Ð½Ð° ÑƒÑ€Ð¾Ð²Ð½Ðµ Ñ‚Ð¸Ð¿Ð¾Ð² Ð¿Ð¾Ñ‡Ñ‚Ð¸ Ñ‚Ð°ÐºÐ¶Ðµ, ÐºÐ°Ðº ÑÑ‚Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ð¸ ÑÐ¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑÐ¼Ð¸. Ð­Ñ‚Ð¾ Ð´Ð°Ñ‘Ñ‚ Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð¸Ñ Ð´Ð»Ñ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ð² Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ Ð²ÑÐµÐ»ÐµÐ½Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² ÐµÑ‰Ñ‘ Ð¾Ð´Ð½Ñƒ â€“ *Ð²ÑÐµÐ»ÐµÐ½Ð½ÑƒÑŽ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹* Ñ Ð½Ðµ Ð¾Ñ‡ÐµÐ½ÑŒ ÑƒÐ´Ð°Ñ‡Ð½Ñ‹Ð¼ Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð¼ $U_{-1}$. ÐžÐ½Ð° ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð²Ñ‹Ð´ÐµÐ»ÐµÐ½Ð½Ð¾Ð¹, Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ð¾Ð¹, Ð² Ñ‚Ð¾Ð¼ ÑÐ¼Ñ‹ÑÐ»Ðµ, Ñ‡Ñ‚Ð¾ â€œÑ‚Ð¸Ð¿Ñ‹â€ ÑÑ‚Ð¾Ð¹ Ð²ÑÐµÐ»ÐµÐ½Ð½Ð¾Ð¹ ÑƒÐ¶Ðµ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð¸Ð½Ð´ÐµÐºÑÐ¸Ñ€ÑƒÑŽÑ‚, Ð²ÑÐµÐ»ÐµÐ½Ð½Ñ‹Ñ… Ñ Ð¼ÐµÐ½ÑŒÑˆÐ¸Ð¼Ð¸ Ð¸Ð½Ð´ÐµÐºÑÐ°Ð¼Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (Ð½Ð¾ Ñ‚Ð°Ðº Ð»Ð¸ ÑÑ‚Ð¾?))).

ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹, ÑÐ°Ð¼Ð¾Ðµ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ð¾Ðµ Ð² ÐºÐ¾Ð½Ñ†ÐµÐ¿Ñ†Ð¸Ð¸ Ð²ÑÐµÐ»ÐµÐ½Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ñ‚Ð¾, Ñ‡Ñ‚Ð¾ Ð¼ÐµÐ¶Ð´Ñƒ Ð½Ð¸Ð¼Ð¸ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ! Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð¿Ð¾ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð¾Ñ‚ Ñ‚Ð¸Ð¿Ð° Ð¸Ð· Ð¾Ð´Ð½Ð¾Ð¹ Ð²ÑÐµÐ»ÐµÐ½Ð½Ð¾Ð¹ Ðº Ñ‚Ð¸Ð¿Ñƒ Ð´Ñ€ÑƒÐ³Ð¾Ð¹. Ð˜ Ñ…Ð¾Ñ‚Ñ Ð² Sacla Ð´Ð»Ñ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ñ Ð´Ð°Ð»Ñ‘ÐºÐ¸Ð¼Ð¸ Ð²ÑÐµÐ»ÐµÐ½Ð½Ñ‹Ð¼Ð¸ ÐµÑÑ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑƒÐ¿Ð¾Ð¼ÑÐ½ÑƒÑ‚Ñ‹Ð¹ Ñ€Ð°Ð½ÐµÐµ `Anykind`, Ð½Ð¾ Ð²ÑÑ‘ Ð¶Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹ Ñ‡ÐµÑ€Ð²Ð¾Ñ‚Ð¾Ñ‡Ð¸Ð½Ñ‹ Ð¼ÐµÐ¶Ð´Ñƒ $U_{-1}$ Ð¸ $U_0$, Ñ‚Ð¾ Ð±Ð¸ÑˆÑŒ Ð¼ÐµÐ¶Ð´Ñƒ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑÐ¼Ð¸ Ð¸ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸.

ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ Ð¸Ð· $U_0$ Ð² $U_{-1}$ ÑƒÐ¶Ðµ Ð²ÑÑ‚Ñ€ÐµÑ‡Ð°Ð»Ð¸ÑÑŒ Ð² ÑÑ‚Ð¾Ð¹ ÑÑ‚Ð°Ñ‚ÑŒÐµ â€“ ÑÑ‚Ð¾ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸. Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾, Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‚ÑŒ Ñ‚ÑƒÐ´Ð° Ñ‚Ð¸Ð¿Ñ‹-Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹, Ð¸ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ð°Ñ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑÑ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ð¼ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÐµÐ¼ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð°:
```scala
val doubleA                  // Ñ‡ÐµÑ€Ð²Ð¾Ñ‚Ð¾Ñ‡Ð¸Ð½Ð°  
  : [A] => A      => (A, A)  // Ð¸Ð· Ð²ÑÐµÐ»ÐµÐ½Ð½Ð¾Ð¹ Ñ‚Ð¸Ð¿Ð¾Ð² Ð² Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ-Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ  
  = [A] => (a: A) => (a, a)  // Ñ‚ÐµÑ…Ð½Ð¸ÐºÐ° ÑÐµÐ¹Ñ‡Ð°Ñ Ð½Ðµ Ð²Ð°Ð¶Ð½Ð°  
  
val doubleInt                // ÑÑŽÐ´Ð° Ð¿Ð¾Ð»Ð¾Ð¶Ð¸Ð¼ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ  
  : Int => (Int, Int)        // Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð°  
  = doubleA[Int]             // Ð²Ð¶ÑƒÑ…!
```

Ð’ Scala ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‚ Ñ‚Ð°ÐºÐ¶Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ Ð¸ Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾Ð³Ð¾ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ñ â€“ Ð¾Ñ‚ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ Ð² Ñ‚Ð¸Ð¿Ñ‹! Ðž, ÑÑ‚Ð¾ Ð¾Ñ‡ÐµÐ½ÑŒ ÑÐ¸Ð»ÑŒÐ½Ð¾Ðµ ÐºÐ¾Ð»Ð´ÑƒÐ½ÑÑ‚Ð²Ð¾ Ð¿Ð¾Ð´ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÐµÐ¼ **Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹**. ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ Ð½Ð° Ñ‚Ð°ÐºÐ¾Ð¹ ÐºÐ¾Ð´:
```scala
trait IHaveAType { type Type; val v: Type }     // Ñ‚Ñ€ÐµÐ¹Ñ‚ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ñ‡Ð»ÐµÐ½Ð¾Ð¼ Ð°Ð±ÑÑ‚Ñ€Ð°ÐºÑ‚Ð½Ñ‹Ð¹ Ñ‚Ð¸Ð¿!
val valWithInt:    IHaveAType =                 // Ñ‡ÐµÑ€Ð²Ð¾Ñ‚Ð¾Ñ‡Ð¸Ð½Ð° 1
  new IHaveAType { type Type = Int;    val v = 42 }
val valWithString: IHaveAType =                 // Ñ‡ÐµÑ€Ð²Ð¾Ñ‚Ð¾Ñ‡Ð¸Ð½Ð° 2
  new IHaveAType { type Type = String; val v = "Ð²ÑÐµÐ»ÐµÐ½Ð½Ð°Ñ" }
  
val doubleDep // Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ, Ñ‚Ð¸Ð¿ Ñ€ÐµÐ·ÑƒÐ»ÑŒÐ°Ñ‚Ð° ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹ Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð°  
  : (carier: IHaveAType) => (carier.Type, carier.Type)       // Ð²Ð¶ÑƒÑ… Ñ‚ÑƒÐ´Ð°!
  = (carier: IHaveAType) => doubleA(carier.v)                // Ð²Ð¶ÑƒÑ… Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾!

val intsPair:    (Int, Int)       = doubleDep(valWithInt)    // (42, 42)
val stringsPair: (String, String) = doubleDep(valWithString) // ("Ð²ÑÐµÐ»ÐµÐ½Ð½Ð°Ñ", "Ð²ÑÐµÐ»ÐµÐ½Ð½Ð°Ñ")
//               ^^^^^^^^^^^^^^^^
// ÑƒÐºÐ°Ð·Ð°Ð½Ð¸Ðµ Ð¸Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² Ð¿Ñ€Ð¸Ð²ÐµÐ´Ñ‘Ñ‚ Ðº Ð¾ÑˆÐ¸Ð±ÐºÐµ ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ†Ð¸Ð¸!
```
Ð¢ÑƒÑ‚ Ð² ÑÑ‚Ñ€Ð¾ÐºÐµ `Ð²Ð¶ÑƒÑ… Ñ‚ÑƒÐ´Ð°!` Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ `carier.Type` Ñ‚ÐµÐ»ÐµÐ¿Ð¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐµÑ‚ Ð¸Ð· $U_{-1}$ Ð² $U_0$, Ð° Ð² ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ ÑÑ‚Ñ€Ð¾ÐºÐµ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ÑÑ Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾ ÑƒÐ¶Ðµ Ð·Ð½Ð°ÐºÐ¾Ð¼Ñ‹Ð¼ ÑÐ¿Ð¾ÑÐ¾Ð±Ð¾Ð¼ (Ñ‚Ð¸Ð¿-Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ `doubleA` Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ÑÑ ÐºÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ‚Ð¾Ñ€Ð¾Ð¼ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ð¾ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñƒ). Ð’ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ñ… ÑÑ‚Ñ€Ð¾Ñ‡ÐºÐ°Ñ… Ð¿Ñ€Ð¸ Ð²Ñ‹Ð·Ð¾Ð²Ð°Ñ… `doubleDep` Ð¿ÐµÑ€ÐµÐ´Ð°ÑŽÑ‚ÑÑ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð° `IHaveAType` Ð½Ð¾ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÑŽÑ‚ÑÑ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð², Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÐ¼Ñ‹Ñ… Ð¸ÑÑ…Ð¾Ð´Ð½Ñ‹Ð¼Ð¸ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑÐ¼Ð¸.

[Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹](https://www.youtube.com/watch?v=63syJfNoDPI) Ð½Ðµ Ñ€ÐµÐ´ÐºÐ¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð² Scala â€“ Ð¿Ð¾ Ð±Ð¾Ð»ÑŒÑˆÐµÐ¹ Ñ‡Ð°ÑÑ‚Ð¸ Ð² Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ñ… Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ°Ñ…, Ð½Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ Ð²ÑÑ‚Ñ€ÐµÑ‚Ð¸Ñ‚ÑŒ Ð¸ Ð² Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¾Ð²Ð¾Ð¼ ÐºÐ¾Ð´Ðµ. Ð­Ñ‚Ð¾ Ð¾Ñ‡ÐµÐ½ÑŒ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ð°Ñ, Ð½Ð¾ Ð¾Ñ‡ÐµÐ½ÑŒ Ð¾Ð±ÑŠÑ‘Ð¼Ð½Ð°Ñ Ñ‚ÐµÐ¼Ð°, Ñ€Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ½Ð¸Ðµ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹ ÑÑ‚Ð¾Ð¸Ñ‚ Ð¾Ñ‚Ð»Ð¾Ð¶Ð¸Ñ‚ÑŒ Ð½Ð° Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ñ€Ð°Ð·.

Ð¡Ð°Ð¼Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ, Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´ÑÑ‰Ð°Ñ Ð¸Ð· Ð¾Ð´Ð½Ð¾Ð¹ Ð²ÑÐµÐ»ÐµÐ½Ð½Ð¾Ð¹ Ð² Ð´Ñ€ÑƒÐ³ÑƒÑŽ, Ð¾Ñ‚Ð½Ð¾ÑÐ¸Ñ‚ÑÑ ÐºÐ¾ Ð²ÑÐµÐ»ÐµÐ½Ð½Ð¾Ð¹ Ñ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¼ Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð¼, Ð¸ Ð² ÑÐ»ÑƒÑ‡Ð°Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð½Ñ‹Ñ… Ð²Ñ‹ÑˆÐµ Ð¿ÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ð¹, ÑÑ‚Ð¾ Ð±Ñ‹Ð»Ð° Ð²ÑÐµÐ»ÐµÐ½Ð½Ð°Ñ Ñ‚Ð¸Ð¿Ð¾Ð² $U_0$. ÐÐ¾ Ñ‡Ð°Ñ‰Ðµ ÑÑ‡Ð¸Ñ‚Ð°ÑŽÑ‚, Ñ‡Ñ‚Ð¾ Ñ‚Ð°ÐºÐ¸Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ Ñ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸ Ð¾Ð´Ð½Ð¾Ð¹ Ð¸ Ñ‚Ð¾Ð¹ Ð¶Ðµ Ð²ÑÐµÐ»ÐµÐ½Ð½Ð¾Ð¹, Ð¾Ð´Ð½Ð°ÐºÐ¾ Ð´ÐµÐ¹ÑÑ‚Ð²ÑƒÐµÑ‚ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ðµ, Ð½Ð¾ Ð²Ð°Ð¶Ð½Ð¾Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¾: Ð²ÑÐµÐ»ÐµÐ½Ð½Ñ‹Ðµ ÑÐ¾ ÑÑ‚Ð°Ñ€ÑˆÐ¸Ð¼Ð¸ Ð¸Ð½Ð´ÐµÐºÑÐ°Ð¼Ð¸ Ð²ÐºÐ»ÑŽÑ‡Ð°ÑŽÑ‚ Ð²ÑÐµ Ð²ÑÐµÐ»ÐµÐ½Ð½Ñ‹Ð¼Ð¸ Ñ Ð¼ÐµÐ½ÑŒÑˆÐ¸Ð¼Ð¸: $U_{-1}:U_{0}:U_{1}:U_{2}:\ldots$ Ð¢Ð°ÐºÐ¸Ð¼ Ð¾Ð±Ñ€Ð°Ð·ÑƒÐµÑ‚ÑÑ *ÐºÑƒÐ¼ÑƒÐ»ÑÑ‚Ð¸Ð²Ð½Ð°Ñ Ð¸ÐµÑ€Ð°Ñ€Ñ…Ð¸Ñ Ð²ÑÐµÐ»ÐµÐ½Ð½Ñ‹Ñ…*. Ð Ð²Ð¾Ñ‚ Ð¼ÑƒÐ»ÑŒÑ‚Ð¸Ð²ÑÐµÐ»ÐµÐ½Ð½Ð¾Ð¹ $U_{\infty}$, Ð²ÐºÐ»ÑŽÑ‡Ð°ÑŽÑ‰ÐµÐ¹ Ð² ÑÐµÐ±Ñ Ð²ÑÐµ Ð¾ÑÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð²ÑÐµÐ»ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ð¾Ð¿Ñ€Ð¾ÑÑ‚Ñƒ Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ Ð¸Ð·-Ð·Ð° Ð²ÑÑ‘ Ñ‚Ð¾Ð³Ð¾ Ð¶Ðµ Ð¿Ð°Ñ€Ð°Ð´Ð¾ÐºÑÐ° Ð–Ð¸Ñ€Ð°Ñ€Ð° (ÑÑ‚Ð¾ Ð²ÑÑ‘ Ð²Ñ‹Ð´ÑƒÐ¼ÐºÐ¸ ÐºÐ¸Ð½Ð¾ÑˆÐ½Ð¸ÐºÐ¾Ð²!).

Ð•Ñ‰Ñ‘ Ð¿Ð¾Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾ Ð²ÑÐµÐ»ÐµÐ½Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ð¾Ð² Ð¼Ð¾Ð¶Ð½Ð¾ Ñ‚ÑƒÑ‚:
- [Ð¿Ð°Ñ€Ð°](https://cs.stackexchange.com/questions/13285/universes-in-dependent-type-theory) [Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²](https://math.stackexchange.com/questions/4637779/unnested-universes-in-type-theory) Ð½Ð° Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ð¾ ÐºÑƒÐ¼ÑƒÐ»ÑÑ‚Ð¸Ð²Ð½Ñ‹Ñ… Ð²ÑÐµÐ»ÐµÐ½Ð½Ñ‹Ñ…;
- [ÑÑ‚Ð°Ñ‚ÑŒÑ](https://ncatlab.org/nlab/show/type+universe) Ð½Ð° nLab;
- pdf-ÑÑ‚Ð°Ñ‚ÑŒÐ¸:
	- [On Universes in Type Theory](http://www2.math.uu.se/~palmgren/universe.pdf),
	- [Type Theory with Explicit Universe Polymorphism](https://arxiv.org/pdf/2212.03284.pdf),	- 
	- [Notes on Universes in Type Theory](https://ncatlab.org/ufias2012/files/LuoUniverse.pdf).

ÐŸÑƒÑ‚ÐµÑˆÐµÑÑ‚Ð²Ð¸Ðµ Ðº Ð´Ð°Ð»Ñ‘ÐºÐ¸Ð¼ Ð²ÑÐµÐ»ÐµÐ½Ð½Ñ‹Ð¼ Ñ‚Ð°Ð¸Ñ‚ Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²Ð¾ Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÐµÐ¹ Ð´Ð»Ñ Ð½ÐµÐ¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²Ð»ÐµÐ½Ð½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¸ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ†Ð°. Ð”Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð¿Ð¾ÐºÐ° Ð²ÐµÑ€Ð½Ñ‘Ð¼ÑÑ Ð² Ð½Ð°ÑˆÑƒ Ð²ÑÐµÐ»ÐµÐ½Ð½ÑƒÑŽ, Ðº Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡Ð½Ñ‹Ð¼ ÐºÐ»Ð°ÑÑÐ°Ð¼ Ð¸ Ñ‚Ð¸Ð¿Ð°Ð¼.

## ÐšÐ»Ð°ÑÑÑ‹ Ñ‚Ð¸Ð¿Ð¾Ð²

### Ð­Ñ‚Ð¾ Ð²Ð°Ð¼ Ð½Ðµ Ñ‚Ð¸Ð¿Ñ‹ ÐºÐ»Ð°ÑÑÐ¾Ð²!

[Typeclassery â€” A sure way of making generic programs context aware](https://scalajobs.com/blog/typeclassery-in-scala/https://scalajobs.com/blog/typeclassery-in-scala/)

[Type classes Ð² Scala](https://habr.com/ru/companies/tinkoff/articles/147759/)
[ÐšÐ»Ð°ÑÑÑ‹ Ñ‚Ð¸Ð¿Ð¾Ð² Ð² Scala (Ñ Ð½ÐµÐ±Ð¾Ð»ÑŒÑˆÐ¸Ð¼ Ð¾Ð±Ð·Ð¾Ñ€Ð¾Ð¼ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸ cats)](https://habr.com/ru/articles/318960/)

[[TypeClasses.pdf]]

Ð›ÑŽÐ±Ð¾Ð¹ Ð»Ð¸ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ð¹ Ñ‚Ð¸Ð¿ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ, ÐºÐ°Ðº Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ ÐºÐ»Ð°ÑÑÐ° Ñ‚Ð¸Ð¿Ð¾Ð²? Ð Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ Ñ‚Ð°ÐºÐ¾Ð¹ Ñ„Ñ€Ð°Ð³Ð¼ÐµÐ½Ñ‚ ÐºÐ¾Ð´Ð°:
```scala
def isValid[A: Set] // Ð¢Ð¸Ð¿ A Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¿Ñ€Ð¸Ð½Ð°Ð´Ð»ÐµÐ¶Ð°Ñ‚ÑŒ Ð½ÐµÐºÐ¾Ð¼Ñƒ ÐºÐ»Ð°ÑÑÑƒ Set
  : A => Boolean Â  Â // ÐÐ½Ð½Ð¾Ñ‚Ð°Ñ†Ð¸Ñ Ñ‚Ð¸Ð¿Ð° Ð½Ðµ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð°
  = summon[Set[A]].contains

given validInts // ÐŸÐ¾Ð¼ÐµÑ‰Ð°ÐµÐ¼ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ ÐºÐ»Ð°ÑÑÐ° Set Ñ‚Ð¸Ð¿Ð° Int Ð² ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚
  : Set[Int]
  = Set(2, 3, 5, 7, 11)
isValid(42) Â  Â  // ÐšÐ»Ð°ÑÑ Set Ð´Ð»Ñ Ñ‚Ð¸Ð¿Ð° Int Ð½ÐµÑÐ²Ð½Ð¾ Ð½Ð°Ð¹Ð´ÐµÐ½ Ð² ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ðµ
//isValid("42") // ÐžÑˆÐ¸Ð±ÐºÐ°! Ð’ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ðµ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½ ÐºÐ»Ð°ÑÑ Set Ð´Ð»Ñ Ñ‚Ð¸Ð¿Ð° String!
```
Ð‘ÐµÐ·Ð¾Ñ‚Ð½Ð¾ÑÐ¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ñ‚Ð¾Ð³Ð¾, Ñ‡Ñ‚Ð¾ Ñ€Ð°Ð·Ð¼ÐµÑ‰Ð°Ñ‚ÑŒ Ð² ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ðµ Ð½ÐµÑÐ²Ð½Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ "ÑÐ»Ð°Ð±Ð¾Ñ‚Ð¸Ð¿Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾" Ñ‚Ð¸Ð¿Ð° `Set[Int]` Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð±ÐµÐ·Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ð¾, Ð½Ð¾, Ð² Ñ†ÐµÐ»Ð¾Ð¼, Ð¾Ñ‡ÐµÐ²Ð¸Ð´Ð½Ð¾, Ñ‡Ñ‚Ð¾ Ð¾Ñ‚Ð²ÐµÑ‚ Ð½Ð° Ð¿Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¹ Ð²Ñ‹ÑˆÐµ Ð²Ð¾Ð¿Ñ€Ð¾Ñ ÑƒÑ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹.

### Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð¾Ð»Ð¸Ð¼Ð¾Ñ€Ñ„Ð¸Ð·Ð¼

#### Ð­ÐºÐ·Ð¸ÑÑ‚ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹

#### ÐžÑ‚Ð»Ð¸Ñ‡Ð¸Ðµ Ð¾Ñ‚ Haskell
[Type classes in Scala](https://scalac.io/blog/typeclasses-in-scala/)
>Â In comparison, a type class in Haskell can **only have one instance**. In Scala, we can define an instance and pass it as a parameter explicitly (not relying on implicit resolution), which makes the usage less convenient, but may be useful.

#### Ð¡ÐµÐ¼ÐµÐ¹ÑÑ‚Ð²Ð° Ñ‚Ð¸Ð¿Ð¾Ð²

[Match Types in Scala 3 (Baeldung)](https://www.baeldung.com/scala/match-types)

Ð’ Ñ‚Ñ€ÐµÑ‚ÑŒÐµÐ¹ Ð²ÐµÑ€ÑÐ¸Ð¸ Scala Ð¿Ð¾ÑÐ²Ð¸Ð»Ð°ÑÑŒ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸ÑÑ… Ñ‚Ð¸Ð¿Ð¾Ð² [ÑÐ¾Ð¿Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ñ ÑˆÐ°Ð±Ð»Ð¾Ð½Ð°Ð¼Ð¸](https://docs.scala-lang.org/scala3/reference/new-types/match-types.html). 

### ÐÐµÑÐ²Ð½Ð¾ÑÑ‚Ð¸ Ð² Scala

#### ÐšÐ»ÑŽÑ‡ÐµÐ²Ð¾Ðµ ÑÐ»Ð¾Ð²Ð¾ `derived`

### ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ ÐºÐ»Ð°ÑÑÐ¾Ð² Ñ‚Ð¸Ð¿Ð¾Ð²
#### Ð ÐµÐ°Ð»Ð¸Ð·ÑƒÐµÐ¼ ÐžÐžÐŸ

## Ð¢Ð¸Ð¿Ñ‹-ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹

### Ð˜Ð´ÐµÑ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°

Ð”Ð»Ñ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð² ÐµÑÑ‚ÑŒ ÐµÑ‰Ñ‘ Ð¾Ð´Ð½Ð° Ð»ÑŽÐ±Ð¾Ð¿Ñ‹Ñ‚Ð½Ð°Ñ Ñ‚Ñ€Ð°ÐºÑ‚Ð¾Ð²ÐºÐ°

### Ð­Ñ„Ñ„ÐµÐºÑ‚Ñ‹

Ð›ÐµÐ½Ð¸Ð²Ñ‹Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹ Ð¸ Future/Try
[Ð›Ð¸Ð½ÐµÐ¹Ð½Ñ‹Ðµ Ñ‚Ð¸Ð¿Ñ‹ Ð² Scala](https://github.com/earldouglas/linear-scala) ÐºÐ°Ðº Ð°Ð»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð° ÐºÐ¾Ð½ÐºÑƒÑ€ÐµÐ½Ñ‚Ð½Ð¾ÑÑ‚Ð¸.

### Tagless Final
[Optimizing Tagless Final â€“ saying farewell to Free](https://typelevel.org/blog/2017/12/27/optimizing-final-tagless.html)

### ÐšÐ¾-ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹ Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ðµ

## ÐŸÐ¾Ð´ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸ Ñ‚Ð¸Ð¿Ð¾Ð² (Ð°Ð½Ð¾Ð½Ñ)

## Ð—Ð°ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ

[`trait TraverseK[Alg[_[_]]]`](https://gist.github.com/kubukoz/5f6dd415eb3345a8300d91cfc6209a10)
https://stackoverflow.com/questions/72407103/problem-with-given-instances-writing-mtl-style-code-with-scala-cats
