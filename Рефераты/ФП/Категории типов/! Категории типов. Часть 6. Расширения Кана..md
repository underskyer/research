
# Расширения Кана


https://en.wikipedia.org/wiki/Comma_category
$$
\begin{eqnarray}
F&:& \mathcal{C} \rightarrow \mathcal{D}\\
G&:& \mathcal{E} \rightarrow \mathcal{D}\\
F \downarrow G&:& \{ f: Fc \rightarrow Ge \}\\
F/d = F \downarrow d &:& \{ f: Fc \rightarrow d \} \;\;\;\;\; \text{здесь $d$ - это функтор из $1$ в $D$, выбирающий $d$}
\end{eqnarray}
$$

$$
\begin{eqnarray}
\mathrm{Cone}_F:\; \mathcal{C}^{op} \rightarrow \mathrm{Hom}_{\mathcal{C}^{\mathcal{I}}}(\Delta\, \_,\, F)\\
\mathrm{Hom}_{\mathcal{C}^{\mathcal{I}}}(\Delta\, \_,\, F) = \Delta \mathcal{C} / F\\
U_{\mathrm{Lim}F}:\; \mathcal{C}^{op} \rightarrow {\rm Hom}_{\mathcal{C}}(\_,\, {\rm Lim}\, F)\\
{\rm Hom}_{\mathcal{C}}(\_,\, {\rm Lim}\, F) = \mathcal{C} / {{\rm Lim}\, F}
\end{eqnarray}
$$


- Пределы и колимиты можно выразить как определенные Кана расширения.  Это позволяет использовать инструменты для работы с Кана расширениями для изучения пределов и колимитов. 
- Точечные Кана расширения (Pointwise Kan extensions):  В некоторых случаях, Кана расширения можно вычислять "поточечно", что значительно упрощает их анализ. Теория предпучков играет важную роль в определении условий, при которых Кана расширения являются точечными.



# !!! композиция расширений Кана

https://stringdiagram.com/2022/12/06/codensity-monads-and-kan-extensions/

$$
\mathsf{Lan}_J(-) \dashv (-) \circ J \qquad\text{ и }\qquad (-) \circ J \dashv \mathsf{Ran}_J(-)
$$

$$
\mathsf{Lift}_J(-) \dashv J \circ (-) \qquad\text{and}\qquad J \circ (-) \dashv \mathsf{Rift}_J(-)
$$

# !!! Забывающе-свободные сопряжения



# !!! Йонеда

 Теорема Йонеды устанавливает связь между объектами категории и предпучками на этой категории.  Для любой локально малой категории C и любого объекта X в C, функтор Йонеды Hom(-, X) : C^op -> Set отображает X в предпучок, который кодирует все морфизмы в X.  Теорема Йонеды говорит, что для любого предпучка P : C^op -> Set, множество естественных преобразований Nat(Hom(-, X), P) (между предпучком Йонеды, связанным с X, и предпучком P) естественно изоморфно множеству P(X).  То есть:

    Nat(Hom(-, X), P) ≅ P(X)



### !!! выяснить!!
> Наиболее важное свойство сопряжённых функторов — их непрерывность: каждый функтор, имеющий левый сопряжённый (то есть являющийся правым сопряжённым), коммутирует с [пределами](https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%B5%D0%B4%D0%B5%D0%BB_\(%D1%82%D0%B5%D0%BE%D1%80%D0%B8%D1%8F_%D0%BA%D0%B0%D1%82%D0%B5%D0%B3%D0%BE%D1%80%D0%B8%D0%B9\) "Предел (теория категорий)") в категорном смысле. Соответственно, функтор, имеющий правый сопряжённый, _конепрерывен_, то есть коммутирует с [копределами](https://ru.wikipedia.org/w/index.php?title=%D0%9A%D0%BE%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB_\(%D1%82%D0%B5%D0%BE%D1%80%D0%B8%D1%8F_%D0%BA%D0%B0%D1%82%D0%B5%D0%B3%D0%BE%D1%80%D0%B8%D0%B9\)&action=edit&redlink=1 "Копредел (теория категорий) (страница отсутствует)").


http://comonad.com/reader/2011/monads-from-comonads/





# !! Концы

![[Слово Конец.png|1000]]


## !! Диестественные преобразования




# Дополнительная литература

https://blog.higher-order.com/about/

> [Monads categorically](https://bartoszmilewski.com/2016/12/27/monads-categorically/)
> [Algebras for monads](https://bartoszmilewski.com/2017/03/14/algebras-for-monads/


[Right Kan Extension as (almost) a Monad Transformer](http://comonad.com/reader/2008/kan-extensions-ii/#:~:text=Right%20Kan%20Extension%20as%20(almost)%20a%20Monad%20Transformer)

>[We are now ready to explain](https://bartoszmilewski.com/2016/04/18/adjunctions/#:~:text=We%20are%20now%20ready%20to%20explain%20why%2C%20in%20Haskell%2C%20the%20right%20adjoint%20is%20automatically%20a%20representable%20functor.) why, in Haskell, the right adjoint is automatically a [representable functor](https://bartoszmilewski.com/2015/07/29/representable-functors/).


# Промежуточный итог

This monad provides a useful opportunity for optimization. For instance Janis Voigtländer noted in [Asymptotic improvement of functions over Free Monads](http://wwwtcs.inf.tu-dresden.de/~voigt/mpc08.pdf) that a particular monad could be used to improve performance -- Free monads as you'll recall are the tool used in Wouter Sweirstra's [Data Types á la Carte](http://www.cs.nott.ac.uk/~wss/Publications/DataTypesALaCarte.pdf), and provide an approach for, among other things, decomposing the `IO` monad into something more modular, so this is by no means a purely academic exercise!