Однажды меня попросили подготовить рекомендации по программированию на Scala для сотрудников нашей компании Solar. В поисках лучших рецептов приходилось заглядывать в самые пыльные уголки Интернета, и в одном из них, в старом проржавелом сундуке я заметил старинный конверт. Просто из любопытства решил заглянуть туда, благо конверт был уже вскрыт. Ветхие страницы, поблекшие чернила, но содержание настолько меня заворожило, что я просто не мог не поделиться со всеми!

К сожалению, не удалось установить ни автора, ни адресата. Местами текст совершенно невозможно было прочитать, так что пришлось додумывать самому. Но даже несмотря на потери, письмо всё ещё достойно Вашего внимания. Для удобства чтения разбил письмо на озаглавленные части, а свои комментарии оставил в \[таких скобочках\].

>Приятного чтения!





# Кредо

Приветствую тебя, дорогой друг!

Приятно было получить твоё письмо и узнать, что у вас… \[Фрагмент утрачен\]

В письме ты интересуешься кредо, чем оно способно помочь в достижении наших целей. Я расскажу тебе всё, что знаю сам.

> **Ничто не истинно, всё дозволено.**

Это может показаться циничной доктриной. Но *кредо* - всего лишь отражение природных вещей. Тезис «Ничто не истинно» подразумевает, что основы, на которых держится современная разработка, зыбки, и мы сами должны строить свои программы. Говоря «Всё дозволено», мы подразумеваем, что сами решаем, что нам делать, и несём ответственность за последствия, какими бы они ни были.

Кредо – это то что необходимо держать в голове и вспоминать, когда необходимо принимать какое-либо решение. В былые времена во время обряда посвящения произносилась такая формула:
>— Когда остальные слепо следуют за популярными парадигмами, помни…  
— Ничто не истинно…  
— Когда остальные ограничены набором паттернов и «лучших практик», помни…  
— Всё дозволено…

В каждый момент мы полагаемся только на собственное чутье и то, что нам известно в данный момент. Завтра ты можешь внезапно осознать, что ошибся вчера, но это нормально! Такое открытие обязательно пригодится тебе в будущем. Принимая неудачные решения бессмысленно оправдываться чужим опытом, авторитетными мнениями, или просто привычкой. Ты несёшь персональную ответственность за все сделанные выборы и должен уметь обосновывать их каждому, а прежде всего, самому себе.

# Ничто не истинно

В нашем цеху мы занимается автоматизацией различных процессов, что даёт людям возможность свободнее распоряжаться своим временем. Наше с тобой призвание – <u>нести людям свободу</u>.

Но нужно помнить, что сама наша работа отнимает время у всех, кто к ней причастен. Значит и здесь нам нужно обеспечивать максимальную свободу как товарищам по цеху, так и самим себе. В частности, стоит избегать любых <u>необоснованных</u> ограничений на написание программного кода.

В этом смысле, все <u>паттерны программирования – зло</u>. Нет, не сами по себе, конечно, среди них есть немало полезных примеров, с которыми стоит познакомится каждом неофиту. Но вот их навязывание, постоянное упоминание в книгах, публичных обсуждениях, приводит к тому, что в общественном сознании закрепляется ошибочное мнение, будто бы знание паттернов необходимо для качественного программирования! Будь осторожен – это всё происки ~~Ubisoft~~ \[Абстерго? Невозможно разобрать\]!

На самом деле частые мысли о паттернах приводит к формированию <u>шаблонного мышления</u>, ограничивающую творческую свободу программиста. Вместо прямого решения поставленной задачи, программист будет стараться натянуть её на полюбившийся ему паттерн. Это явление может показаться даже забавным, когда сталкиваешься с ним впервые, но такая беда встречается повсеместно! И если у опытных программистов получаются просто многословные и хрупкие решения, то начинающие способны сходу пробить «правильными», но неудачными паттернами все заслоны тестирования…

То же самое касается и прибивания гвоздями какого-либо конкретного стиля кодирования. 

Борьба с привычками.


Всё подобные ограничения отнимают необходимость думать, видеть и выбирать самостоятельно лучше решения. **Замыленный взгляд**. Лишенный свободны выбора человек деградирует, теряет себя. 

# Всё дозволено

Попробую показать на конкретных примерах, как можно применять кредо для наших целей.

Но чем же тогда руководствоваться, если ничто не истинно и всё дозволено?



Приняв факт, что нет истин и границ становится проще понимать весь многовековой опыт миллионов программистов. Программируя необходимо по-максимуму использовать имеющиеся у тебя *на данный момент* знания, но всегда нужно *пропускать их через себя*, обретая уверенность, что здесь и сейчас ты не сможешь сделать лучше. Возможно завтра (после ревью, или просто поспав) ты убедишься, что можно было бы сделать лучше, но *сейчас* – это не так важно.



```scala
if (PolicyItemType.StringValues.contains(policyItemType)) {
   ...
   много букв
   ...
} else EndpointError.NotFound.asLeft[Page[PolicyItemDto]].pure[Future]
```
## Формат и стиль

Есть общие принципы – результат накопленного опыта. В будущем опыт будет обогащаться новыми сценариями, что приведёт с развитию принципов. Да и сейчас они не высечены на каменных скрижалях, но всё равно есть с чем работать.

Витиеватый стиль XIX века, сложноподчинённые предложения на пару страниц – этот стиль нацелен на передачу потока мыслей, безотносительно того рассуждения ли это о смысле жизни, или просто наблюдение за красотой природы. Такой стиль плохо подходит коммерческой разработке. Тут нужны короткие, но ёмкие фразы. 

Вычислительная эффективность, отказ от преждевременной оптимизации.

## Императивщина vs функциональщина

вычисления на стеке и управляющие конструкции

`lazy val` vs `def`

## Бесточечный стиль

## Логическое программирование

контекстные абстракции


# PS

Нет абсолютных истин. В том числе это послание – лишь личное мнение, синтезированное на основе ограниченного опыта, как чужого, так и собственного. Возможно сам оспорю всё это уже завтра.

Слова, вообще, лгут.


Когда тебя убеждают, что одна парадигма программирования лучше другой, помни:
**Ничто не истинно!**

Когда тебе не рекомендуют пользоваться шаблонными решениями, помни
**Всё дозволено!**

![[8ball.png]]

~~Да направит тебя Отец Понимания!~~
Да прибудет с тобой сила!
\[Точно не уверен, но посыл примерно такой\]